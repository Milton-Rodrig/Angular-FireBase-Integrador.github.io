(self.webpackChunku3_tarea2=self.webpackChunku3_tarea2||[]).push([[179],{8255:dt=>{function Le(G){return Promise.resolve().then(()=>{var b=new Error("Cannot find module '"+G+"'");throw b.code="MODULE_NOT_FOUND",b})}Le.keys=()=>[],Le.resolve=Le,Le.id=8255,dt.exports=Le},8583:(dt,Le,G)=>{"use strict";G.d(Le,{mr:()=>je,ez:()=>Ja,H9:()=>rs,K0:()=>Ce,uU:()=>ts,JJ:()=>ji,Do:()=>Ke,V_:()=>Y,Ye:()=>Be,S$:()=>we,i8:()=>ct,sg:()=>yr,O5:()=>Xn,b0:()=>Ze,lw:()=>he,gd:()=>ro,EM:()=>tn,JF:()=>Co,PM:()=>x,w_:()=>de,bD:()=>Us,q:()=>ee,Mx:()=>It,HT:()=>ve});var b=G(3018);let A=null;function ee(){return A}function ve(P){A||(A=P)}class de{}const Ce=new b.OlP("DocumentToken");let he=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,b.Yz7)({factory:se,token:P,providedIn:"platform"}),P})();function se(){return(0,b.LFG)(te)}const Y=new b.OlP("Location Initialized");let te=(()=>{class P extends he{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(k){const W=ee().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",k,!1),()=>W.removeEventListener("popstate",k)}onHashChange(k){const W=ee().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",k,!1),()=>W.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,W,oe){ie()?this._history.pushState(k,W,oe):this.location.hash=oe}replaceState(k,W,oe){ie()?this._history.replaceState(k,W,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return P.\u0275fac=function(k){return new(k||P)(b.LFG(Ce))},P.\u0275prov=(0,b.Yz7)({factory:ne,token:P,providedIn:"platform"}),P})();function ie(){return!!window.history.pushState}function ne(){return new te((0,b.LFG)(Ce))}function ce(P,j){if(0==P.length)return j;if(0==j.length)return P;let k=0;return P.endsWith("/")&&k++,j.startsWith("/")&&k++,2==k?P+j.substring(1):1==k?P+j:P+"/"+j}function Ne(P){const j=P.match(/#|\?|$/),k=j&&j.index||P.length;return P.slice(0,k-("/"===P[k-1]?1:0))+P.slice(k)}function be(P){return P&&"?"!==P[0]?"?"+P:P}let we=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,b.Yz7)({factory:Xe,token:P,providedIn:"root"}),P})();function Xe(P){const j=(0,b.LFG)(Ce).location;return new Ze((0,b.LFG)(he),j&&j.origin||"")}const je=new b.OlP("appBaseHref");let Ze=(()=>{class P extends we{constructor(k,W){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==W&&(W=this._platformLocation.getBaseHrefFromDOM()),null==W)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=W}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ce(this._baseHref,k)}path(k=!1){const W=this._platformLocation.pathname+be(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&k?`${W}${oe}`:W}pushState(k,W,oe,Ie){const Qe=this.prepareExternalUrl(oe+be(Ie));this._platformLocation.pushState(k,W,Qe)}replaceState(k,W,oe,Ie){const Qe=this.prepareExternalUrl(oe+be(Ie));this._platformLocation.replaceState(k,W,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var W,oe;null===(oe=(W=this._platformLocation).historyGo)||void 0===oe||oe.call(W,k)}}return P.\u0275fac=function(k){return new(k||P)(b.LFG(he),b.LFG(je,8))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})(),Ke=(()=>{class P extends we{constructor(k,W){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(k){const W=ce(this._baseHref,k);return W.length>0?"#"+W:W}pushState(k,W,oe,Ie){let Qe=this.prepareExternalUrl(oe+be(Ie));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.pushState(k,W,Qe)}replaceState(k,W,oe,Ie){let Qe=this.prepareExternalUrl(oe+be(Ie));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.replaceState(k,W,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var W,oe;null===(oe=(W=this._platformLocation).historyGo)||void 0===oe||oe.call(W,k)}}return P.\u0275fac=function(k){return new(k||P)(b.LFG(he),b.LFG(je,8))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})(),Be=(()=>{class P{constructor(k,W){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const oe=this._platformStrategy.getBaseHref();this._platformLocation=W,this._baseHref=Ne(rn(oe)),this._platformStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,W=""){return this.path()==this.normalize(k+be(W))}normalize(k){return P.stripTrailingSlash(function(P,j){return P&&j.startsWith(P)?j.substring(P.length):j}(this._baseHref,rn(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,W="",oe=null){this._platformStrategy.pushState(oe,"",k,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+be(W)),oe)}replaceState(k,W="",oe=null){this._platformStrategy.replaceState(oe,"",k,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+be(W)),oe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var W,oe;null===(oe=(W=this._platformStrategy).historyGo)||void 0===oe||oe.call(W,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)}))}_notifyUrlChangeListeners(k="",W){this._urlChangeListeners.forEach(oe=>oe(k,W))}subscribe(k,W,oe){return this._subject.subscribe({next:k,error:W,complete:oe})}}return P.\u0275fac=function(k){return new(k||P)(b.LFG(we),b.LFG(he))},P.normalizeQueryParams=be,P.joinWithSlash=ce,P.stripTrailingSlash=Ne,P.\u0275prov=(0,b.Yz7)({factory:it,token:P,providedIn:"root"}),P})();function it(){return new Be((0,b.LFG)(we),(0,b.LFG)(he))}function rn(P){return P.replace(/\/index.html$/,"")}const xt={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),De=(()=>((De=De||{})[De.Zero=0]="Zero",De[De.One=1]="One",De[De.Two=2]="Two",De[De.Few=3]="Few",De[De.Many=4]="Many",De[De.Other=5]="Other",De))(),xe=(()=>((xe=xe||{})[xe.Format=0]="Format",xe[xe.Standalone=1]="Standalone",xe))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.Medium=1]="Medium",Ae[Ae.Long=2]="Long",Ae[Ae.Full=3]="Full",Ae))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function vn(P,j){return jn((0,b.cg1)(P)[b.wAp.DateFormat],j)}function Ut(P,j){return jn((0,b.cg1)(P)[b.wAp.TimeFormat],j)}function Gt(P,j){return jn((0,b.cg1)(P)[b.wAp.DateTimeFormat],j)}function fr(P,j){const k=(0,b.cg1)(P),W=k[b.wAp.NumberSymbols][j];if(void 0===W){if(j===me.CurrencyDecimal)return k[b.wAp.NumberSymbols][me.Decimal];if(j===me.CurrencyGroup)return k[b.wAp.NumberSymbols][me.Group]}return W}function cn(P,j){return(0,b.cg1)(P)[b.wAp.NumberFormats][j]}const Un=b.kL8;function ur(P){if(!P[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jn(P,j){for(let k=j;k>-1;k--)if(void 0!==P[k])return P[k];throw new Error("Locale data API: locale data undefined")}function Yn(P){const[j,k]=P.split(":");return{hours:+j,minutes:+k}}const dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wn={},Nn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var hn=(()=>((hn=hn||{})[hn.Short=0]="Short",hn[hn.ShortGMT=1]="ShortGMT",hn[hn.Long=2]="Long",hn[hn.Extended=3]="Extended",hn))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),ft=(()=>((ft=ft||{})[ft.DayPeriods=0]="DayPeriods",ft[ft.Days=1]="Days",ft[ft.Months=2]="Months",ft[ft.Eras=3]="Eras",ft))();function Tr(P,j,k,W){let oe=function(P){if(no(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[oe,Ie=1,Qe=1]=P.split("-").map(mt=>+mt);return to(oe,Ie-1,Qe)}const k=parseFloat(P);if(!isNaN(P-k))return new Date(k);let W;if(W=P.match(dn))return function(P){const j=new Date(0);let k=0,W=0;const oe=P[8]?j.setUTCFullYear:j.setFullYear,Ie=P[8]?j.setUTCHours:j.setHours;P[9]&&(k=Number(P[9]+P[10]),W=Number(P[9]+P[11])),oe.call(j,Number(P[1]),Number(P[2])-1,Number(P[3]));const Qe=Number(P[4]||0)-k,mt=Number(P[5]||0)-W,Ht=Number(P[6]||0),Mt=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return Ie.call(j,Qe,mt,Ht,Mt),j}(W)}const j=new Date(P);if(!no(j))throw new Error(`Unable to convert "${P}" into a date`);return j}(P);j=Ti(k,j)||j;let mt,Qe=[];for(;j;){if(mt=Nn.exec(j),!mt){Qe.push(j);break}{Qe=Qe.concat(mt.slice(1));const Tn=Qe.pop();if(!Tn)break;j=Tn}}let Ht=oe.getTimezoneOffset();W&&(Ht=gn(W,Ht),oe=function(P,j,k){const oe=P.getTimezoneOffset();return function(P,j){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+j),P}(P,-1*(gn(j,oe)-oe))}(oe,W));let Mt="";return Qe.forEach(Tn=>{const sn=function(P){if(Wn[P])return Wn[P];let j;switch(P){case"G":case"GG":case"GGG":j=Q(ft.Eras,Te.Abbreviated);break;case"GGGG":j=Q(ft.Eras,Te.Wide);break;case"GGGGG":j=Q(ft.Eras,Te.Narrow);break;case"y":j=On(ht.FullYear,1,0,!1,!0);break;case"yy":j=On(ht.FullYear,2,0,!0,!0);break;case"yyy":j=On(ht.FullYear,3,0,!1,!0);break;case"yyyy":j=On(ht.FullYear,4,0,!1,!0);break;case"Y":j=Bt(1);break;case"YY":j=Bt(2,!0);break;case"YYY":j=Bt(3);break;case"YYYY":j=Bt(4);break;case"M":case"L":j=On(ht.Month,1,1);break;case"MM":case"LL":j=On(ht.Month,2,1);break;case"MMM":j=Q(ft.Months,Te.Abbreviated);break;case"MMMM":j=Q(ft.Months,Te.Wide);break;case"MMMMM":j=Q(ft.Months,Te.Narrow);break;case"LLL":j=Q(ft.Months,Te.Abbreviated,xe.Standalone);break;case"LLLL":j=Q(ft.Months,Te.Wide,xe.Standalone);break;case"LLLLL":j=Q(ft.Months,Te.Narrow,xe.Standalone);break;case"w":j=Yt(1);break;case"ww":j=Yt(2);break;case"W":j=Yt(1,!0);break;case"d":j=On(ht.Date,1);break;case"dd":j=On(ht.Date,2);break;case"c":case"cc":j=On(ht.Day,1);break;case"ccc":j=Q(ft.Days,Te.Abbreviated,xe.Standalone);break;case"cccc":j=Q(ft.Days,Te.Wide,xe.Standalone);break;case"ccccc":j=Q(ft.Days,Te.Narrow,xe.Standalone);break;case"cccccc":j=Q(ft.Days,Te.Short,xe.Standalone);break;case"E":case"EE":case"EEE":j=Q(ft.Days,Te.Abbreviated);break;case"EEEE":j=Q(ft.Days,Te.Wide);break;case"EEEEE":j=Q(ft.Days,Te.Narrow);break;case"EEEEEE":j=Q(ft.Days,Te.Short);break;case"a":case"aa":case"aaa":j=Q(ft.DayPeriods,Te.Abbreviated);break;case"aaaa":j=Q(ft.DayPeriods,Te.Wide);break;case"aaaaa":j=Q(ft.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":j=Q(ft.DayPeriods,Te.Abbreviated,xe.Standalone,!0);break;case"bbbb":j=Q(ft.DayPeriods,Te.Wide,xe.Standalone,!0);break;case"bbbbb":j=Q(ft.DayPeriods,Te.Narrow,xe.Standalone,!0);break;case"B":case"BB":case"BBB":j=Q(ft.DayPeriods,Te.Abbreviated,xe.Format,!0);break;case"BBBB":j=Q(ft.DayPeriods,Te.Wide,xe.Format,!0);break;case"BBBBB":j=Q(ft.DayPeriods,Te.Narrow,xe.Format,!0);break;case"h":j=On(ht.Hours,1,-12);break;case"hh":j=On(ht.Hours,2,-12);break;case"H":j=On(ht.Hours,1);break;case"HH":j=On(ht.Hours,2);break;case"m":j=On(ht.Minutes,1);break;case"mm":j=On(ht.Minutes,2);break;case"s":j=On(ht.Seconds,1);break;case"ss":j=On(ht.Seconds,2);break;case"S":j=On(ht.FractionalSeconds,1);break;case"SS":j=On(ht.FractionalSeconds,2);break;case"SSS":j=On(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Re(hn.Short);break;case"ZZZZZ":j=Re(hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Re(hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Re(hn.Long);break;default:return null}return Wn[P]=j,j}(Tn);Mt+=sn?sn(oe,k,Ht):"''"===Tn?"'":Tn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Mt}function to(P,j,k){const W=new Date(0);return W.setFullYear(P,j,k),W.setHours(0,0,0),W}function Ti(P,j){const k=function(P){return(0,b.cg1)(P)[b.wAp.LocaleId]}(P);if(wn[k]=wn[k]||{},wn[k][j])return wn[k][j];let W="";switch(j){case"shortDate":W=vn(P,Ae.Short);break;case"mediumDate":W=vn(P,Ae.Medium);break;case"longDate":W=vn(P,Ae.Long);break;case"fullDate":W=vn(P,Ae.Full);break;case"shortTime":W=Ut(P,Ae.Short);break;case"mediumTime":W=Ut(P,Ae.Medium);break;case"longTime":W=Ut(P,Ae.Long);break;case"fullTime":W=Ut(P,Ae.Full);break;case"short":const oe=Ti(P,"shortTime"),Ie=Ti(P,"shortDate");W=Mn(Gt(P,Ae.Short),[oe,Ie]);break;case"medium":const Qe=Ti(P,"mediumTime"),mt=Ti(P,"mediumDate");W=Mn(Gt(P,Ae.Medium),[Qe,mt]);break;case"long":const Ht=Ti(P,"longTime"),Mt=Ti(P,"longDate");W=Mn(Gt(P,Ae.Long),[Ht,Mt]);break;case"full":const Tn=Ti(P,"fullTime"),sn=Ti(P,"fullDate");W=Mn(Gt(P,Ae.Full),[Tn,sn])}return W&&(wn[k][j]=W),W}function Mn(P,j){return j&&(P=P.replace(/\{([^}]+)}/g,function(k,W){return null!=j&&W in j?j[W]:k})),P}function kr(P,j,k="-",W,oe){let Ie="";(P<0||oe&&P<=0)&&(oe?P=1-P:(P=-P,Ie=k));let Qe=String(P);for(;Qe.length<j;)Qe="0"+Qe;return W&&(Qe=Qe.substr(Qe.length-j)),Ie+Qe}function On(P,j,k=0,W=!1,oe=!1){return function(Ie,Qe){let mt=function(P,j){switch(P){case ht.FullYear:return j.getFullYear();case ht.Month:return j.getMonth();case ht.Date:return j.getDate();case ht.Hours:return j.getHours();case ht.Minutes:return j.getMinutes();case ht.Seconds:return j.getSeconds();case ht.FractionalSeconds:return j.getMilliseconds();case ht.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,Ie);if((k>0||mt>-k)&&(mt+=k),P===ht.Hours)0===mt&&-12===k&&(mt=12);else if(P===ht.FractionalSeconds)return function(P,j){return kr(P,3).substr(0,j)}(mt,j);const Ht=fr(Qe,me.MinusSign);return kr(mt,j,Ht,W,oe)}}function Q(P,j,k=xe.Format,W=!1){return function(oe,Ie){return function(P,j,k,W,oe,Ie){switch(k){case ft.Months:return function(P,j,k){const W=(0,b.cg1)(P),Ie=jn([W[b.wAp.MonthsFormat],W[b.wAp.MonthsStandalone]],j);return jn(Ie,k)}(j,oe,W)[P.getMonth()];case ft.Days:return function(P,j,k){const W=(0,b.cg1)(P),Ie=jn([W[b.wAp.DaysFormat],W[b.wAp.DaysStandalone]],j);return jn(Ie,k)}(j,oe,W)[P.getDay()];case ft.DayPeriods:const Qe=P.getHours(),mt=P.getMinutes();if(Ie){const Mt=function(P){const j=(0,b.cg1)(P);return ur(j),(j[b.wAp.ExtraData][2]||[]).map(W=>"string"==typeof W?Yn(W):[Yn(W[0]),Yn(W[1])])}(j),Tn=function(P,j,k){const W=(0,b.cg1)(P);ur(W);const Ie=jn([W[b.wAp.ExtraData][0],W[b.wAp.ExtraData][1]],j)||[];return jn(Ie,k)||[]}(j,oe,W),sn=Mt.findIndex(Zn=>{if(Array.isArray(Zn)){const[Qt,Vr]=Zn,vs=Qe>=Qt.hours&&mt>=Qt.minutes,$r=Qe<Vr.hours||Qe===Vr.hours&&mt<Vr.minutes;if(Qt.hours<Vr.hours){if(vs&&$r)return!0}else if(vs||$r)return!0}else if(Zn.hours===Qe&&Zn.minutes===mt)return!0;return!1});if(-1!==sn)return Tn[sn]}return function(P,j,k){const W=(0,b.cg1)(P),Ie=jn([W[b.wAp.DayPeriodsFormat],W[b.wAp.DayPeriodsStandalone]],j);return jn(Ie,k)}(j,oe,W)[Qe<12?0:1];case ft.Eras:return function(P,j){return jn((0,b.cg1)(P)[b.wAp.Eras],j)}(j,W)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(oe,Ie,P,j,k,W)}}function Re(P){return function(j,k,W){const oe=-1*W,Ie=fr(k,me.MinusSign),Qe=oe>0?Math.floor(oe/60):Math.ceil(oe/60);switch(P){case hn.Short:return(oe>=0?"+":"")+kr(Qe,2,Ie)+kr(Math.abs(oe%60),2,Ie);case hn.ShortGMT:return"GMT"+(oe>=0?"+":"")+kr(Qe,1,Ie);case hn.Long:return"GMT"+(oe>=0?"+":"")+kr(Qe,2,Ie)+":"+kr(Math.abs(oe%60),2,Ie);case hn.Extended:return 0===W?"Z":(oe>=0?"+":"")+kr(Qe,2,Ie)+":"+kr(Math.abs(oe%60),2,Ie);default:throw new Error(`Unknown zone width "${P}"`)}}}function Zt(P){return to(P.getFullYear(),P.getMonth(),P.getDate()+(4-P.getDay()))}function Yt(P,j=!1){return function(k,W){let oe;if(j){const Ie=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,Qe=k.getDate();oe=1+Math.floor((Qe+Ie)/7)}else{const Ie=Zt(k),Qe=function(P){const j=to(P,0,1).getDay();return to(P,0,1+(j<=4?4:11)-j)}(Ie.getFullYear()),mt=Ie.getTime()-Qe.getTime();oe=1+Math.round(mt/6048e5)}return kr(oe,P,fr(W,me.MinusSign))}}function Bt(P,j=!1){return function(k,W){return kr(Zt(k).getFullYear(),P,fr(W,me.MinusSign),j)}}const Wn={};function gn(P,j){P=P.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(k)?j:k}function no(P){return P instanceof Date&&!isNaN(P.valueOf())}const Ho=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function en(P,j,k,W,oe,Ie,Qe=!1){let mt="",Ht=!1;if(isFinite(P)){let Mt=function(P){let W,oe,Ie,Qe,mt,j=Math.abs(P)+"",k=0;for((oe=j.indexOf("."))>-1&&(j=j.replace(".","")),(Ie=j.search(/e/i))>0?(oe<0&&(oe=Ie),oe+=+j.slice(Ie+1),j=j.substring(0,Ie)):oe<0&&(oe=j.length),Ie=0;"0"===j.charAt(Ie);Ie++);if(Ie===(mt=j.length))W=[0],oe=1;else{for(mt--;"0"===j.charAt(mt);)mt--;for(oe-=Ie,W=[],Qe=0;Ie<=mt;Ie++,Qe++)W[Qe]=Number(j.charAt(Ie))}return oe>22&&(W=W.splice(0,21),k=oe-1,oe=1),{digits:W,exponent:k,integerLen:oe}}(P);Qe&&(Mt=function(P){if(0===P.digits[0])return P;const j=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===j?P.digits.push(0,0):1===j&&P.digits.push(0),P.integerLen+=2),P}(Mt));let Tn=j.minInt,sn=j.minFrac,Zn=j.maxFrac;if(Ie){const Gr=Ie.match(Ho);if(null===Gr)throw new Error(`${Ie} is not a valid digit info`);const Wo=Gr[1],pi=Gr[3],is=Gr[5];null!=Wo&&(Tn=Pn(Wo)),null!=pi&&(sn=Pn(pi)),null!=is?Zn=Pn(is):null!=pi&&sn>Zn&&(Zn=sn)}!function(P,j,k){if(j>k)throw new Error(`The minimum number of digits after fraction (${j}) is higher than the maximum (${k}).`);let W=P.digits,oe=W.length-P.integerLen;const Ie=Math.min(Math.max(j,oe),k);let Qe=Ie+P.integerLen,mt=W[Qe];if(Qe>0){W.splice(Math.max(P.integerLen,Qe));for(let sn=Qe;sn<W.length;sn++)W[sn]=0}else{oe=Math.max(0,oe),P.integerLen=1,W.length=Math.max(1,Qe=Ie+1),W[0]=0;for(let sn=1;sn<Qe;sn++)W[sn]=0}if(mt>=5)if(Qe-1<0){for(let sn=0;sn>Qe;sn--)W.unshift(0),P.integerLen++;W.unshift(1),P.integerLen++}else W[Qe-1]++;for(;oe<Math.max(0,Ie);oe++)W.push(0);let Ht=0!==Ie;const Mt=j+P.integerLen,Tn=W.reduceRight(function(sn,Zn,Qt,Vr){return Vr[Qt]=(Zn+=sn)<10?Zn:Zn-10,Ht&&(0===Vr[Qt]&&Qt>=Mt?Vr.pop():Ht=!1),Zn>=10?1:0},0);Tn&&(W.unshift(Tn),P.integerLen++)}(Mt,sn,Zn);let Qt=Mt.digits,Vr=Mt.integerLen;const vs=Mt.exponent;let $r=[];for(Ht=Qt.every(Gr=>!Gr);Vr<Tn;Vr++)Qt.unshift(0);for(;Vr<0;Vr++)Qt.unshift(0);Vr>0?$r=Qt.splice(Vr,Qt.length):($r=Qt,Qt=[0]);const on=[];for(Qt.length>=j.lgSize&&on.unshift(Qt.splice(-j.lgSize,Qt.length).join(""));Qt.length>j.gSize;)on.unshift(Qt.splice(-j.gSize,Qt.length).join(""));Qt.length&&on.unshift(Qt.join("")),mt=on.join(fr(k,W)),$r.length&&(mt+=fr(k,oe)+$r.join("")),vs&&(mt+=fr(k,me.Exponential)+"+"+vs)}else mt=fr(k,me.Infinity);return mt=P<0&&!Ht?j.negPre+mt+j.negSuf:j.posPre+mt+j.posSuf,mt}function qt(P,j="-"){const k={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},W=P.split(";"),oe=W[0],Ie=W[1],Qe=-1!==oe.indexOf(".")?oe.split("."):[oe.substring(0,oe.lastIndexOf("0")+1),oe.substring(oe.lastIndexOf("0")+1)],mt=Qe[0],Ht=Qe[1]||"";k.posPre=mt.substr(0,mt.indexOf("#"));for(let Tn=0;Tn<Ht.length;Tn++){const sn=Ht.charAt(Tn);"0"===sn?k.minFrac=k.maxFrac=Tn+1:"#"===sn?k.maxFrac=Tn+1:k.posSuf+=sn}const Mt=mt.split(",");if(k.gSize=Mt[1]?Mt[1].length:0,k.lgSize=Mt[2]||Mt[1]?(Mt[2]||Mt[1]).length:0,Ie){const Tn=oe.length-k.posPre.length-k.posSuf.length,sn=Ie.indexOf("#");k.negPre=Ie.substr(0,sn).replace(/'/g,""),k.negSuf=Ie.substr(sn+Tn).replace(/'/g,"")}else k.negPre=j+k.posPre,k.negSuf=k.posSuf;return k}function Pn(P){const j=parseInt(P);if(isNaN(j))throw new Error("Invalid integer literal when parsing "+P);return j}class Qn{}let Xr=(()=>{class P extends Qn{constructor(k){super(),this.locale=k}getPluralCategory(k,W){switch(Un(W||this.locale)(k)){case De.Zero:return"zero";case De.One:return"one";case De.Two:return"two";case De.Few:return"few";case De.Many:return"many";default:return"other"}}}return P.\u0275fac=function(k){return new(k||P)(b.LFG(b.soG))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();function It(P,j){j=encodeURIComponent(j);for(const k of P.split(";")){const W=k.indexOf("="),[oe,Ie]=-1==W?[k,""]:[k.slice(0,W),k.slice(W+1)];if(oe.trim()===j)return decodeURIComponent(Ie)}return null}class gs{constructor(j,k,W,oe){this.$implicit=j,this.ngForOf=k,this.index=W,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{class P{constructor(k,W,oe){this._viewContainer=k,this._template=W,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;if(!this._differ&&k)try{this._differ=this._differs.find(k).create(this.ngForTrackBy)}catch(W){throw new Error(`Cannot find a differ supporting object '${k}' of type '${function(P){return P.name||typeof P}(k)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const W=[];k.forEachOperation((oe,Ie,Qe)=>{if(null==oe.previousIndex){const mt=this._viewContainer.createEmbeddedView(this._template,new gs(null,this._ngForOf,-1,-1),null===Qe?void 0:Qe),Ht=new Sr(oe,mt);W.push(Ht)}else if(null==Qe)this._viewContainer.remove(null===Ie?void 0:Ie);else if(null!==Ie){const mt=this._viewContainer.get(Ie);this._viewContainer.move(mt,Qe);const Ht=new Sr(oe,mt);W.push(Ht)}});for(let oe=0;oe<W.length;oe++)this._perViewChange(W[oe].view,W[oe].record);for(let oe=0,Ie=this._viewContainer.length;oe<Ie;oe++){const Qe=this._viewContainer.get(oe);Qe.context.index=oe,Qe.context.count=Ie,Qe.context.ngForOf=this._ngForOf}k.forEachIdentityChange(oe=>{this._viewContainer.get(oe.currentIndex).context.$implicit=oe.item})}_perViewChange(k,W){k.context.$implicit=W.item}static ngTemplateContextGuard(k,W){return!0}}return P.\u0275fac=function(k){return new(k||P)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class Sr{constructor(j,k){this.record=j,this.view=k}}let Xn=(()=>{class P{constructor(k,W){this._viewContainer=k,this._context=new _r,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){mn("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){mn("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,W){return!0}}return P.\u0275fac=function(k){return new(k||P)(b.Y36(b.s_b),b.Y36(b.Rgc))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class _r{constructor(){this.$implicit=null,this.ngIf=null}}function mn(P,j){if(j&&!j.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,b.AaK)(j)}'.`)}function Dn(P,j){return Error(`InvalidPipeArgument: '${j}' for pipe '${(0,b.AaK)(P)}'`)}let ct=(()=>{class P{transform(k){if(null==k)return null;if("string"!=typeof k)throw Dn(P,k);return k.toLowerCase()}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=b.Yjl({name:"lowercase",type:P,pure:!0}),P})(),ro=(()=>{class P{transform(k){if(null==k)return null;if("string"!=typeof k)throw Dn(P,k);return k.toUpperCase()}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=b.Yjl({name:"uppercase",type:P,pure:!0}),P})(),ts=(()=>{class P{constructor(k){this.locale=k}transform(k,W="mediumDate",oe,Ie){if(null==k||""===k||k!=k)return null;try{return Tr(k,W,Ie||this.locale,oe)}catch(Qe){throw Dn(P,Qe.message)}}}return P.\u0275fac=function(k){return new(k||P)(b.Y36(b.soG,16))},P.\u0275pipe=b.Yjl({name:"date",type:P,pure:!0}),P})(),ji=(()=>{class P{constructor(k){this._locale=k}transform(k,W,oe){if(!Ia(k))return null;oe=oe||this._locale;try{return function(P,j,k){return en(P,qt(cn(j,Se.Decimal),fr(j,me.MinusSign)),j,me.Group,me.Decimal,k)}(ba(k),oe,W)}catch(Ie){throw Dn(P,Ie.message)}}}return P.\u0275fac=function(k){return new(k||P)(b.Y36(b.soG,16))},P.\u0275pipe=b.Yjl({name:"number",type:P,pure:!0}),P})(),rs=(()=>{class P{constructor(k,W="USD"){this._locale=k,this._defaultCurrencyCode=W}transform(k,W=this._defaultCurrencyCode,oe="symbol",Ie,Qe){if(!Ia(k))return null;Qe=Qe||this._locale,"boolean"==typeof oe&&(oe=oe?"symbol":"code");let mt=W||this._defaultCurrencyCode;"code"!==oe&&(mt="symbol"===oe||"symbol-narrow"===oe?function(P,j,k="en"){const W=function(P){return(0,b.cg1)(P)[b.wAp.Currencies]}(k)[P]||xt[P]||[],oe=W[1];return"narrow"===j&&"string"==typeof oe?oe:W[0]||P}(mt,"symbol"===oe?"wide":"narrow",Qe):oe);try{return function(P,j,k,W,oe){const Qe=qt(cn(j,Se.Currency),fr(j,me.MinusSign));return Qe.minFrac=function(P){let j;const k=xt[P];return k&&(j=k[2]),"number"==typeof j?j:2}(W),Qe.maxFrac=Qe.minFrac,en(P,Qe,j,me.CurrencyGroup,me.CurrencyDecimal,oe).replace("\xa4",k).replace("\xa4","").trim()}(ba(k),Qe,mt,W,Ie)}catch(Ht){throw Dn(P,Ht.message)}}}return P.\u0275fac=function(k){return new(k||P)(b.Y36(b.soG,16),b.Y36(b.EJc,16))},P.\u0275pipe=b.Yjl({name:"currency",type:P,pure:!0}),P})();function Ia(P){return!(null==P||""===P||P!=P)}function ba(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}let Ja=(()=>{class P{}return P.\u0275fac=function(k){return new(k||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({providers:[{provide:Qn,useClass:Xr}]}),P})();const Us="browser";function x(P){return"server"===P}let tn=(()=>{class P{}return P.\u0275prov=(0,b.Yz7)({token:P,providedIn:"root",factory:()=>new Lr((0,b.LFG)(Ce),window)}),P})();class Lr{constructor(j,k){this.document=j,this.window=k,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const k=function(P,j){const k=P.getElementById(j)||P.getElementsByName(j)[0];if(k)return k;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const W=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let oe=W.currentNode;for(;oe;){const Ie=oe.shadowRoot;if(Ie){const Qe=Ie.getElementById(j)||Ie.querySelector(`[name="${j}"]`);if(Qe)return Qe}oe=W.nextNode()}}return null}(this.document,j);k&&(this.scrollToElement(k),this.attemptFocus(k))}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=j)}}scrollToElement(j){const k=j.getBoundingClientRect(),W=k.left+this.window.pageXOffset,oe=k.top+this.window.pageYOffset,Ie=this.offset();this.window.scrollTo(W-Ie[0],oe-Ie[1])}attemptFocus(j){return j.focus(),this.document.activeElement===j}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function xr(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Co{}},3018:(dt,Le,G)=>{"use strict";G.d(Le,{deG:()=>Hl,tb:()=>FI,AFp:()=>OI,ip1:()=>Aw,CZH:()=>Ip,hGG:()=>eS,z2F:()=>Xm,sBO:()=>Hb,Sil:()=>Jm,_Vd:()=>bi,EJc:()=>VI,SBq:()=>Sl,qLn:()=>st,vpe:()=>xl,gxx:()=>hl,tBr:()=>Na,XFs:()=>We,OlP:()=>Er,zs3:()=>Bn,ZZ4:()=>Hv,aQg:()=>$v,soG:()=>eE,YKP:()=>DC,v3s:()=>OA,h0i:()=>Bh,PXZ:()=>AA,R0b:()=>wa,FiY:()=>Ro,Lbi:()=>kI,g9A:()=>PI,Qsj:()=>Ab,FYo:()=>jv,JOm:()=>Zi,Tiy:()=>ew,q3G:()=>rr,tp0:()=>oa,EAV:()=>LA,Rgc:()=>Bm,dDg:()=>HI,DyG:()=>na,q4F:()=>tw,GfV:()=>_C,s_b:()=>Wv,ifc:()=>Mn,eFA:()=>zI,G48:()=>EA,Gpc:()=>be,X6Q:()=>Pw,_c5:()=>zA,VLi:()=>vA,c2e:()=>LI,zSh:()=>Ed,wAp:()=>St,vHH:()=>Ze,EiD:()=>tc,mCW:()=>ho,qzn:()=>No,JVY:()=>Xd,pB0:()=>si,eBb:()=>el,L6k:()=>vi,LAX:()=>eh,cg1:()=>_m,Tjo:()=>qA,kL8:()=>cp,yhl:()=>Cn,dqk:()=>Q,sIi:()=>Th,CqO:()=>Xf,QGY:()=>Pd,F4k:()=>im,RDi:()=>k,AaK:()=>ne,z3N:()=>Zs,qOj:()=>Lf,TTD:()=>O,_Bn:()=>rt,xp6:()=>eg,uIk:()=>Sh,ekj:()=>ip,Suo:()=>dI,Xpm:()=>Xi,lG2:()=>Os,Yz7:()=>En,cJS:()=>pr,oAB:()=>es,Yjl:()=>Si,Y36:()=>Nd,_UZ:()=>Od,qZA:()=>Jf,TgZ:()=>Qf,EpF:()=>P_,n5z:()=>Fn,Ikx:()=>ym,LFG:()=>Sn,$8M:()=>As,NdJ:()=>sm,CRH:()=>hI,oxw:()=>d0,ALo:()=>sI,lcZ:()=>oI,xi3:()=>aI,Q6J:()=>Yf,VKq:()=>XC,iGM:()=>cI,CHM:()=>Vu,LSH:()=>_u,kYT:()=>mr,YNc:()=>qf,_uU:()=>nv,Oqu:()=>cm,hij:()=>ap});var b=G(9765),A=G(5319),ee=G(7574),ye=G(6682),ve=G(2441);var he=G(1307);function se(){return new b.xQ}function te(s){for(let i in s)if(s[i]===te)return i;throw Error("Could not find renamed property on target object.")}function ie(s,i){for(const a in i)i.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=i[a])}function ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const i=s.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function ce(s,i){return null==s||""===s?null===i?"":i:null==i||""===i?s:s+" "+i}const Ne=te({__forward_ref__:te});function be(s){return s.__forward_ref__=be,s.toString=function(){return ne(this())},s}function we(s){return Xe(s)?s():s}function Xe(s){return"function"==typeof s&&s.hasOwnProperty(Ne)&&s.__forward_ref__===be}class Ze extends Error{constructor(i,a){super(function(s,i){return`${s?`NG0${s}: `:""}${i}`}(i,a)),this.code=i}}function it(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():it(s)}function De(s,i){const a=i?` in ${i}`:"";throw new Ze("201",`No provider for ${Oe(s)} found${a}`)}function Ut(s,i){null==s&&function(s,i,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${i} <=Actual]`))}(i,s,null,"!=")}function En(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function pr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Un(s){return ur(s,jn)||ur(s,gr)}function ur(s,i){return s.hasOwnProperty(i)?s[i]:null}function pn(s){return s&&(s.hasOwnProperty(Yn)||s.hasOwnProperty(Ot))?s[Yn]:null}const jn=te({\u0275prov:te}),Yn=te({\u0275inj:te}),gr=te({ngInjectableDef:te}),Ot=te({ngInjectorDef:te});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let dn;function Nn(s){const i=dn;return dn=s,i}function hn(s,i,a){const l=Un(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&We.Optional?null:void 0!==i?i:void De(ne(s),"Injector")}function ft(s){return{toString:s}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Mn=(()=>((Mn=Mn||{})[Mn.Emulated=0]="Emulated",Mn[Mn.None=2]="None",Mn[Mn.ShadowDom=3]="ShadowDom",Mn))();const kr="undefined"!=typeof globalThis&&globalThis,Ft="undefined"!=typeof window&&window,On="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ae="undefined"!=typeof global&&global,Q=kr||ae||Ft||On,ge={},$e=[],ut=te({\u0275cmp:te}),Zt=te({\u0275dir:te}),Yt=te({\u0275pipe:te}),Bt=te({\u0275mod:te}),Wn=te({\u0275loc:te}),jt=te({\u0275fac:te}),gn=te({__NG_ELEMENT_ID__:te});let Ai=0;function Xi(s){return ft(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||$e,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Mn.Emulated,id:"c",styles:s.styles||$e,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,y=s.pipes;return l.id+=Ai++,l.inputs=Vi(s.inputs,a),l.outputs=Vi(s.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(li):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(no):null,l})}function li(s){return Ct(s)||function(s){return s[Zt]||null}(s)}function no(s){return function(s){return s[Yt]||null}(s)}const Ho={};function es(s){return ft(()=>{const i={type:s.type,bootstrap:s.bootstrap||$e,declarations:s.declarations||$e,imports:s.imports||$e,exports:s.exports||$e,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ho[s.id]=s.type),i})}function mr(s,i){return ft(()=>{const a=en(s,!0);a.declarations=i.declarations||$e,a.imports=i.imports||$e,a.exports=i.exports||$e})}function Vi(s,i){if(null==s)return ge;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,i&&(i[d]=f)}return a}const Os=Xi;function Si(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ct(s){return s[ut]||null}function en(s,i){const a=s[Bt]||null;if(!a&&!0===i)throw new Error(`Type ${ne(s)} does not have '\u0275mod' property.`);return a}function jr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Dn(s){return Array.isArray(s)&&!0===s[1]}function Rt(s){return 0!=(8&s.flags)}function _s(s){return 2==(2&s.flags)}function Bi(s){return 1==(1&s.flags)}function Hr(s){return null!==s.template}function Fs(s){return 0!=(512&s[2])}function fi(s,i){return s.hasOwnProperty(jt)?s[jt]:null}class F{constructor(i,a,l){this.previousValue=i,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function O(){return x}function x(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ve),H}function H(){const s=tn(this),i=null==s?void 0:s.current;if(i){const a=s.previous;if(a===ge)s.previous=i;else for(let l in i)a[l]=i[l];s.current=null,this.ngOnChanges(i)}}function Ve(s,i,a,l){const d=tn(s)||function(s,i){return s[lt]=i}(s,{previous:ge,current:null}),f=d.current||(d.current={}),y=d.previous,v=this.declaredInputs[a],T=y[v];f[v]=new F(T&&T.currentValue,i,y===ge),s[l]=i}O.ngInherit=!0;const lt="__ngSimpleChanges__";function tn(s){return s[lt]||null}let j;function k(s){j=s}function Ie(s){return!!s.listen}const mt={createRenderer:(s,i)=>void 0!==j?j:"undefined"!=typeof document?document:void 0};function Mt(s){for(;Array.isArray(s);)s=s[0];return s}function Zn(s,i){return Mt(i[s])}function Qt(s,i){return Mt(i[s.index])}function vs(s,i){return s.data[i]}function $r(s,i){return s[i]}function on(s,i){const a=i[s];return jr(a)?a:a[0]}function Gr(s){return 4==(4&s[2])}function Wo(s){return 128==(128&s[2])}function is(s,i){return null==i?null:s[i]}function zo(s){s[18]=0}function Zo(s,i){s[5]+=i;let a=s,l=s[3];for(;null!==l&&(1===i&&1===a[5]||-1===i&&0===a[5]);)l[5]+=i,a=l,l=l[3]}const Nt={lFrame:xc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tu(){return Nt.bindingsEnabled}function ze(){return Nt.lFrame.lView}function un(){return Nt.lFrame.tView}function Vu(s){return Nt.lFrame.contextLView=s,s[8]}function er(){let s=Uu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uu(){return Nt.lFrame.currentTNode}function Ni(s,i){const a=Nt.lFrame;a.currentTNode=s,a.isParent=i}function nu(){return Nt.lFrame.isParent}function Ta(){return Nt.isInCheckNoChangesMode}function Aa(s){Nt.isInCheckNoChangesMode=s}function gi(){const s=Nt.lFrame;let i=s.bindingRootIndex;return-1===i&&(i=s.bindingRootIndex=s.tView.bindingStartIndex),i}function Io(){return Nt.lFrame.bindingIndex++}function ru(s,i){const a=Nt.lFrame;a.bindingIndex=a.bindingRootIndex=s,bo(i)}function bo(s){Nt.lFrame.currentDirectiveIndex=s}function iu(){return Nt.lFrame.currentQueryIndex}function ju(s){Nt.lFrame.currentQueryIndex=s}function Ol(s){const i=s[1];return 2===i.type?i.declTNode:1===i.type?s[6]:null}function Pl(s,i,a){if(a&We.SkipSelf){let d=i,f=s;for(;!(d=d.parent,null!==d||a&We.Host||(d=Ol(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;i=d,s=f}const l=Nt.lFrame=kl();return l.currentTNode=i,l.lView=s,!0}function so(s){const i=kl(),a=s[1];Nt.lFrame=i,i.currentTNode=a.firstChild,i.lView=s,i.tView=a,i.contextLView=s,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function kl(){const s=Nt.lFrame,i=null===s?null:s.child;return null===i?xc(s):i}function xc(s){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=i),i}function Rc(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hu=Rc;function Fl(){const s=Rc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return Nt.lFrame.selectedIndex}function Mi(s){Nt.lFrame.selectedIndex=s}function An(){const s=Nt.lFrame;return vs(s.tView,s.selectedIndex)}function ou(s,i){for(let a=i.directiveStart,l=i.directiveEnd;a<l;a++){const f=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:V}=f;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),v&&((s.contentHooks||(s.contentHooks=[])).push(a,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,v)),T&&(s.viewHooks||(s.viewHooks=[])).push(-a,T),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=V&&(s.destroyHooks||(s.destroyHooks=[])).push(a,V)}}function Cs(s,i,a){Wu(s,i,3,a)}function oo(s,i,a,l){(3&s[2])===a&&Wu(s,i,a,l)}function qu(s,i){let a=s[2];(3&a)===i&&(a&=2047,a+=1,s[2]=a)}function Wu(s,i,a,l){const f=null!=l?l:-1,y=i.length-1;let v=0;for(let T=void 0!==l?65535&s[18]:0;T<y;T++)if("number"==typeof i[T+1]){if(v=i[T],null!=l&&v>=l)break}else i[T]<0&&(s[18]+=65536),(v<f||-1==f)&&(ni(s,a,i,T),s[18]=(4294901760&s[18])+T+2),T++}function ni(s,i,a,l){const d=a[l]<0,f=a[l+1],v=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===i){s[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class mi{constructor(i,a,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Hs(s,i,a){const l=Ie(s);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const y=a[d++],v=a[d++],T=a[d++];l?s.setAttribute(i,v,T,y):i.setAttributeNS(y,v,T)}else{const y=f,v=a[++d];uu(y)?l&&s.setProperty(i,y,v):l?s.setAttribute(i,y,v):i.setAttribute(y,v),d++}}return d}function Sa(s){return 3===s||4===s||6===s}function uu(s){return 64===s.charCodeAt(0)}function Is(s,i){if(null!==i&&0!==i.length)if(null===s||0===s.length)s=i.slice();else{let a=-1;for(let l=0;l<i.length;l++){const d=i[l];"number"==typeof d?a=d:0===a||zu(s,a,d,null,-1===a||2===a?i[++l]:null)}}return s}function zu(s,i,a,l,d){let f=0,y=s.length;if(-1===i)y=-1;else for(;f<s.length;){const v=s[f++];if("number"==typeof v){if(v===i){y=-1;break}if(v>i){y=f-1;break}}}for(;f<s.length;){const v=s[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(s.splice(y,0,i),f=y+1),s.splice(f++,0,a),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}function Ul(s){return-1!==s}function $s(s){return 32767&s}function Gs(s,i){let a=function(s){return s>>16}(s),l=i;for(;a>0;)l=l[15],a--;return l}let bs=!0;function $i(s){const i=bs;return bs=s,i}let Ao=0;function _i(s,i){const a=jl(s,i);if(-1!==a)return a;const l=i[1];l.firstCreatePass&&(s.injectorIndex=i.length,hu(l.data,s),hu(i,null),hu(l.blueprint,null));const d=Ds(s,i),f=s.injectorIndex;if(Ul(d)){const y=$s(d),v=Gs(d,i),T=v[1].data;for(let M=0;M<8;M++)i[f+M]=v[y+M]|T[y+M]}return i[f+8]=d,f}function hu(s,i){s.push(0,0,0,0,0,0,0,0,i)}function jl(s,i){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===i[s.injectorIndex+8]?-1:s.injectorIndex}function Ds(s,i){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=i;for(;null!==d;){const f=d[1],y=f.type;if(l=2===y?f.declTNode:1===y?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ts(s,i,a){!function(s,i,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(gn)&&(l=a[gn]),null==l&&(l=a[gn]=Ao++);const d=255&l;i.data[s+(d>>5)]|=1<<d}(s,i,a)}function S(s,i,a){if(a&We.Optional)return s;De(i,"NodeInjector")}function I(s,i,a,l){if(a&We.Optional&&void 0===l&&(l=null),0==(a&(We.Self|We.Host))){const d=s[9],f=Nn(void 0);try{return d?d.get(i,l,a&We.Optional):hn(i,l,a&We.Optional)}finally{Nn(f)}}return S(l,i,a)}function w(s,i,a,l=We.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const i=s.hasOwnProperty(gn)?s[gn]:void 0;return"number"==typeof i?i>=0?255&i:L:i}(a);if("function"==typeof f){if(!Pl(i,s,l))return l&We.Host?S(d,a,l):I(i,a,l,d);try{const y=f(l);if(null!=y||l&We.Optional)return y;De(a)}finally{Hu()}}else if("number"==typeof f){let y=null,v=jl(s,i),T=-1,M=l&We.Host?i[16][6]:null;for((-1===v||l&We.SkipSelf)&&(T=-1===v?Ds(s,i):i[v+8],-1!==T&&Dt(l,!1)?(y=i[1],v=$s(T),i=Gs(T,i)):v=-1);-1!==v;){const V=i[1];if(pt(f,v,V.data)){const q=$(v,i,a,y,l,M);if(q!==R)return q}T=i[v+8],-1!==T&&Dt(l,i[1].data[v+8]===M)&&pt(f,v,i)?(y=V,v=$s(T),i=Gs(T,i)):v=-1}}}return I(i,a,l,d)}const R={};function L(){return new Wt(er(),ze())}function $(s,i,a,l,d,f){const y=i[1],v=y.data[s+8],V=X(v,y,a,null==l?_s(v)&&bs:l!=y&&0!=(3&v.type),d&We.Host&&f===v);return null!==V?ue(i,y,V,v):R}function X(s,i,a,l,d){const f=s.providerIndexes,y=i.data,v=1048575&f,T=s.directiveStart,V=f>>20,Z=d?v+V:s.directiveEnd;for(let re=l?v:v+V;re<Z;re++){const fe=y[re];if(re<T&&a===fe||re>=T&&fe.type===a)return re}if(d){const re=y[T];if(re&&Hr(re)&&re.type===a)return T}return null}function ue(s,i,a,l){let d=s[a];const f=i.data;if(function(s){return s instanceof mi}(d)){const y=d;y.resolving&&function(s,i){throw new Ze("200",`Circular dependency in DI detected for ${s}`)}(Oe(f[a]));const v=$i(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Nn(y.injectImpl):null;Pl(s,l,We.Default);try{d=s[a]=y.factory(void 0,f,s,l),i.firstCreatePass&&a>=l.directiveStart&&function(s,i,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=i.type.prototype;if(l){const y=x(i);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,f))}(a,f[a],i)}finally{null!==T&&Nn(T),$i(v),y.resolving=!1,Hu()}}return d}function pt(s,i,a){return!!(a[i+(s>>5)]&1<<s)}function Dt(s,i){return!(s&We.Self||s&We.Host&&i)}class Wt{constructor(i,a){this._tNode=i,this._lView=a}get(i,a){return w(this._tNode,this._lView,i,void 0,a)}}function Fn(s){return ft(()=>{const i=s.prototype.constructor,a=i[jt]||an(i),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[jt]||an(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function an(s){return Xe(s)?()=>{const i=an(we(s));return i&&i()}:fi(s)}function As(s){return function(s,i){if("class"===i)return s.classes;if("style"===i)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(Sa(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===i)return a[d+1];d+=2}}}return null}(er(),s)}const dr="__parameters__";function ss(s,i,a){return ft(()=>{const l=function(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(i);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return v.annotation=y,v;function v(T,M,V){const q=T.hasOwnProperty(dr)?T[dr]:Object.defineProperty(T,dr,{value:[]})[dr];for(;q.length<=V;)q.push(null);return(q[V]=q[V]||[]).push(y),T}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Er{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=En({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hl=new Er("AnalyzeForEntryComponents"),na=Function;function qs(s,i){void 0===i&&(i=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(i===s&&(i=s.slice(0,a)),qs(l,i)):i!==s&&i.push(l)}return i}function Ws(s,i){s.forEach(a=>Array.isArray(a)?Ws(a,i):i(a))}function jc(s,i,a){i>=s.length?s.push(a):s.splice(i,0,a)}function ra(s,i){return i>=s.length-1?s.pop():s.splice(i,1)[0]}function qi(s,i,a){let l=zs(s,i);return l>=0?s[1|l]=a:(l=~l,function(s,i,a,l){let d=s.length;if(d==i)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>i;)s[d]=s[d-2],d--;s[i]=a,s[i+1]=l}}(s,l,i,a)),l}function Gl(s,i){const a=zs(s,i);if(a>=0)return s[1|a]}function zs(s,i){return function(s,i,a){let l=0,d=s.length>>a;for(;d!==l;){const f=l+(d-l>>1),y=s[f<<a];if(i===y)return f<<a;y>i?d=f:l=f+1}return~(d<<a)}(s,i,1)}const ia={},xa="__NG_DI_FLAG__",sa="ngTempTokenPath",Zc=/\n/gm,xo="__source",Wl=te({provide:String,useValue:te});let Yu;function Ra(s){const i=Yu;return Yu=s,i}function Qu(s,i=We.Default){if(void 0===Yu)throw new Error("inject() must be called from an injection context");return null===Yu?hn(s,void 0,i):Yu.get(s,i&We.Optional?null:void 0,i)}function Sn(s,i=We.Default){return(dn||Qu)(we(s),i)}function os(s){const i=[];for(let a=0;a<s.length;a++){const l=we(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=We.Default;for(let y=0;y<l.length;y++){const v=l[y],T=Qh(v);"number"==typeof T?-1===T?d=v.token:f|=T:d=v}i.push(Sn(d,f))}else i.push(Sn(l))}return i}function Ju(s,i){return s[xa]=i,s.prototype[xa]=i,s}function Qh(s){return s[xa]}function Xu(s,i,a,l){const d=s[sa];throw i[xo]&&d.unshift(i[xo]),s.message=function(s,i,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=ne(i);if(Array.isArray(i))d=i.map(ne).join(" -> ");else if("object"==typeof i){let f=[];for(let y in i)if(i.hasOwnProperty(y)){let v=i[y];f.push(y+":"+("string"==typeof v?JSON.stringify(v):ne(v)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(Zc,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[sa]=null,s}const Na=Ju(ss("Inject",s=>({token:s})),-1),Ro=Ju(ss("Optional"),8),oa=Ju(ss("SkipSelf"),4);let wr;function gu(s){var i;return(null===(i=function(){if(void 0===wr&&(wr=null,Q.trustedTypes))try{wr=Q.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return wr}())||void 0===i?void 0:i.createHTML(s))||s}class co{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oa extends co{getTypeName(){return"HTML"}}class ii extends co{getTypeName(){return"Style"}}class Jt extends co{getTypeName(){return"Script"}}class Jc extends co{getTypeName(){return"URL"}}class mu extends co{getTypeName(){return"ResourceURL"}}function Zs(s){return s instanceof co?s.changingThisBreaksApplicationSecurity:s}function No(s,i){const a=Cn(s);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===i}function Cn(s){return s instanceof co&&s.getTypeName()||null}function Xd(s){return new Oa(s)}function vi(s){return new ii(s)}function el(s){return new Jt(s)}function eh(s){return new Jc(s)}function si(s){return new mu(s)}class Pa{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const a=(new window.DOMParser).parseFromString(gu(i),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(i):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Br{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(i){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=gu(i),a;const l=this.inertDocument.createElement("body");return l.innerHTML=gu(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const a=i.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Xc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ho(s){return(s=String(s)).match(Xc)||s.match(Zl)?s:"unsafe:"+s}function Ss(s){const i={};for(const a of s.split(","))i[a]=!0;return i}function _t(...s){const i={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(i[l]=!0);return i}const ka=Ss("area,br,col,hr,img,wbr"),as=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nl=Ss("rp,rt"),Yl=_t(ka,_t(as,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_t(nl,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_t(nl,as)),rl=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ql=Ss("srcset"),rh=_t(rl,Ql,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jl=Ss("script,style,template");class Xl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let a=i.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(i){const a=i.nodeName.toLowerCase();if(!Yl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Jl.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=i.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,v=y.toLowerCase();if(!rh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let T=f.value;rl[v]&&(T=ho(T)),Ql[v]&&(s=T,T=(s=String(s)).split(",").map(i=>ho(i.trim())).join(", ")),this.buf.push(" ",y,'="',nr(T),'"')}var s;return this.buf.push(">"),!0}endElement(i){const a=i.nodeName.toLowerCase();Yl.hasOwnProperty(a)&&!ka.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(i){this.buf.push(nr(i))}checkClobberedElement(i,a){if(a&&(i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return a}}const Oi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tf=/([^\#-~ |!])/g;function nr(s){return s.replace(/&/g,"&amp;").replace(Oi,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(tf,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ec;function tc(s,i){let a=null;try{ec=ec||function(s){const i=new Br(s);return function(){try{return!!(new window.DOMParser).parseFromString(gu(""),"text/html")}catch(s){return!1}}()?new Pa(i):i}(s);let l=i?String(i):"";a=ec.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=ec.getInertBodyElement(l)}while(l!==f);return gu((new Xl).sanitizeChildren(ua(a)||a))}finally{if(a){const l=ua(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ua(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var rr=(()=>((rr=rr||{})[rr.NONE=0]="NONE",rr[rr.HTML=1]="HTML",rr[rr.STYLE=2]="STYLE",rr[rr.SCRIPT=3]="SCRIPT",rr[rr.URL=4]="URL",rr[rr.RESOURCE_URL=5]="RESOURCE_URL",rr))();function _u(s){const i=function(){const s=ze();return s&&s[12]}();return i?i.sanitize(rr.URL,s)||"":No(s,"URL")?Zs(s):ho(it(s))}const nd="__ngContext__";function Ln(s,i){s[nd]=i}function sl(s){const i=function(s){return s[nd]||null}(s);return i?Array.isArray(i)?i:i.lView:null}function U(s){return s.ngDebugContext}function z(s){return s.ngOriginalError}function Ue(s,...i){s.error(...i)}class st{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i),l=this._findContext(i),d=i.ngErrorLogger||Ue;d(this._console,"ERROR",i),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?U(i)?U(i):this._findContext(z(i)):null}_findOriginalError(i){let a=z(i);for(;a&&z(a);)a=z(a);return a}}const lh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Q))();function Qs(s){return s instanceof Function?s():s}var Zi=(()=>((Zi=Zi||{})[Zi.Important=1]="Important",Zi[Zi.DashCase=2]="DashCase",Zi))();function lf(s,i){return undefined(s,i)}function sc(s){const i=s[3];return Dn(i)?i[3]:i}function yn(s){return jp(s[13])}function cf(s){return jp(s[4])}function jp(s){for(;null!==s&&!Dn(s);)s=s[4];return s}function wu(s,i,a,l,d){if(null!=l){let f,y=!1;Dn(l)?f=l:jr(l)&&(y=!0,l=l[0]);const v=Mt(l);0===s&&null!==a?null==d?yy(i,a,v):ol(i,a,v,d||null,!0):1===s&&null!==a?ol(i,a,v,d||null,!0):2===s?function(s,i,a){const l=hf(s,i);l&&function(s,i,a,l){Ie(s)?s.removeChild(i,a,l):i.removeChild(a)}(s,l,i,a)}(i,v,y):3===s&&i.destroyNode(v),null!=f&&function(s,i,a,l,d){const f=a[7];f!==Mt(a)&&wu(i,s,l,f,d);for(let v=10;v<a.length;v++){const T=a[v];Cu(T[1],T,s,i,l,f)}}(i,s,f,a,d)}}function Hp(s,i,a){return Ie(s)?s.createElement(i,a):null===a?s.createElement(i):s.createElementNS(a,i)}function $n(s,i){const a=s[9],l=a.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,Zo(d,-1)),a.splice(l,1)}function Gp(s,i){if(s.length<=10)return;const a=10+i,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&$n(d,l),i>0&&(s[a-1][4]=l[4]);const f=ra(s,10+i);!function(s,i){Cu(s,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ch(s,i){if(!(256&i[2])){const a=i[11];Ie(a)&&a.destroyNode&&Cu(s,i,a,3,null,null),function(s){let i=s[13];if(!i)return oc(s[1],s);for(;i;){let a=null;if(jr(i))a=i[13];else{const l=i[10];l&&(a=l)}if(!a){for(;i&&!i[4]&&i!==s;)jr(i)&&oc(i[1],i),i=i[3];null===i&&(i=s),jr(i)&&oc(i[1],i),a=i&&i[4]}i=a}}(i)}}function oc(s,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(s,i){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=i[a[l]];if(!(d instanceof mi)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const v=d[f[y]],T=f[y+1];try{T.call(v)}finally{}}else try{f.call(d)}finally{}}}}(s,i),function(s,i){const a=s.cleanup,l=i[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],v="function"==typeof y?y(i):Mt(i[y]),T=l[d=a[f+2]],M=a[f+3];"boolean"==typeof M?v.removeEventListener(a[f],T,M):M>=0?l[d=M]():l[d=-M].unsubscribe(),f+=2}else{const y=l[d=a[f+1]];a[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();i[7]=null}}(s,i),1===i[1].type&&Ie(i[11])&&i[11].destroy();const a=i[17];if(null!==a&&Dn(i[3])){a!==i[3]&&$n(a,i);const l=i[19];null!==l&&l.detachView(s)}}}function qp(s,i,a){return function(s,i,a){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Mn.None||d===Mn.Emulated)return null}return Qt(l,a)}(s,i.parent,a)}function ol(s,i,a,l,d){Ie(s)?s.insertBefore(i,a,l,d):i.insertBefore(a,l,d)}function yy(s,i,a){Ie(s)?s.appendChild(i,a):i.appendChild(a)}function zp(s,i,a,l,d){null!==l?ol(s,i,a,l,d):yy(s,i,a)}function hf(s,i){return Ie(s)?s.parentNode(i):i.parentNode}let Zp=function(s,i,a){return 40&s.type?Qt(s,a):null};function ud(s,i,a,l){const d=qp(s,l,i),f=i[11],v=function(s,i,a){return Zp(s,i,a)}(l.parent||i[6],l,i);if(null!=d)if(Array.isArray(a))for(let T=0;T<a.length;T++)zp(f,d,a[T],v,!1);else zp(f,d,a,v,!1)}function hh(s,i){if(null!==i){const a=i.type;if(3&a)return Qt(i,s);if(4&a)return Po(-1,s[i.index]);if(8&a){const l=i.child;if(null!==l)return hh(s,l);{const d=s[i.index];return Dn(d)?Po(-1,d):Mt(d)}}if(32&a)return lf(i,s)()||Mt(s[i.index]);{const l=ld(s,i);return null!==l?Array.isArray(l)?l[0]:hh(sc(s[16]),l):hh(s,i.next)}}return null}function ld(s,i){return null!==i?s[16][6].projection[i.projection]:null}function Po(s,i){const a=10+s+1;if(a<i.length){const l=i[a],d=l[1].firstChild;if(null!==d)return hh(l,d)}return i[7]}function pf(s,i,a,l,d,f,y){for(;null!=a;){const v=l[a.index],T=a.type;if(y&&0===i&&(v&&Ln(Mt(v),l),a.flags|=4),64!=(64&a.flags))if(8&T)pf(s,i,a.child,l,d,f,!1),wu(i,s,d,v,f);else if(32&T){const M=lf(a,l);let V;for(;V=M();)wu(i,s,d,V,f);wu(i,s,d,v,f)}else 16&T?Yp(s,i,l,a,d,f):wu(i,s,d,v,f);a=y?a.projectionNext:a.next}}function Cu(s,i,a,l,d,f){pf(a,l,s.firstChild,i,d,f,!1)}function Yp(s,i,a,l,d,f){const y=a[16],T=y[6].projection[l.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)wu(i,s,d,T[M],f);else pf(s,i,T,y[3],d,f,!0)}function Cy(s,i,a){Ie(s)?s.setAttribute(i,"style",a):i.style.cssText=a}function cd(s,i,a){Ie(s)?""===a?s.removeAttribute(i,"class"):s.setAttribute(i,"class",a):i.className=a}function Qp(s,i,a){let l=s.length;for(;;){const d=s.indexOf(i,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=i.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}a=d+1}}const Jp="ng-template";function Iy(s,i,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==Qp(d.toLowerCase(),i,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function Xp(s){return 4===s.type&&s.value!==Jp}function yE(s,i,a){return i===(4!==s.type||a?s.value:Jp)}function by(s,i,a){let l=4;const d=s.attrs||[],f=function(s){for(let i=0;i<s.length;i++)if(Sa(s[i]))return i;return s.length}(d);let y=!1;for(let v=0;v<i.length;v++){const T=i[v];if("number"!=typeof T){if(!y)if(4&l){if(l=2|1&l,""!==T&&!yE(s,T,a)||""===T&&1===i.length){if(ko(l))return!1;y=!0}}else{const M=8&l?T:i[++v];if(8&l&&null!==s.attrs){if(!Iy(s.attrs,M,a)){if(ko(l))return!1;y=!0}continue}const q=Dy(8&l?"class":T,d,Xp(s),a);if(-1===q){if(ko(l))return!1;y=!0;continue}if(""!==M){let Z;Z=q>f?"":d[q+1].toLowerCase();const re=8&l?Z:null;if(re&&-1!==Qp(re,M,0)||2&l&&M!==Z){if(ko(l))return!1;y=!0}}}}else{if(!y&&!ko(l)&&!ko(T))return!1;if(y&&ko(T))continue;y=!1,l=T|1&l}}return ko(l)||y}function ko(s){return 0==(1&s)}function Dy(s,i,a,l){if(null===i)return-1;let d=0;if(l||!a){let f=!1;for(;d<i.length;){const y=i[d];if(y===s)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let v=i[++d];for(;"string"==typeof v;)v=i[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function(s,i){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===i)return a;a++}return-1}(i,s)}function Ty(s,i,a=!1){for(let l=0;l<i.length;l++)if(by(s,i[l],a))return!0;return!1}function Ay(s,i){return s?":not("+i.trim()+")":i}function EE(s){let i=s[0],a=1,l=2,d="",f=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const v=s[++a];d+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ko(y)&&(i+=Ay(f,d),d=""),l=y,f=f||!ko(l);a++}return""!==d&&(i+=Ay(f,d)),i}const Kt={};function eg(s){Ba(un(),ze(),qr()+s,Ta())}function Ba(s,i,a,l){if(!l)if(3==(3&i[2])){const f=s.preOrderCheckHooks;null!==f&&Cs(i,f,a)}else{const f=s.preOrderHooks;null!==f&&oo(i,f,0,a)}Mi(a)}function gf(s,i){return s<<17|i<<2}function Nr(s){return s>>17&32767}function ki(s){return 2|s}function bu(s){return(131068&s)>>2}function tg(s,i){return-131069&s|i<<2}function Fo(s){return 1|s}function og(s,i){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const y=s.data[f];ju(d),y.contentQueries(2,i[f],f)}}}function yd(s,i,a,l,d,f,y,v,T,M){const V=i.blueprint.slice();return V[0]=d,V[2]=140|l,zo(V),V[3]=V[15]=s,V[8]=a,V[10]=y||s&&s[10],V[11]=v||s&&s[11],V[12]=T||s&&s[12]||null,V[9]=M||s&&s[9]||null,V[6]=f,V[16]=2==i.type?s[16]:V,V}function Tu(s,i,a,l,d){let f=s.data[i];if(null===f)f=function(s,i,a,l,d){const f=Uu(),y=nu(),T=s.data[i]=function(s,i,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,i,l,d);return null===s.firstChild&&(s.firstChild=T),null!==f&&(y?null==f.child&&null!==T.parent&&(f.child=T):null===f.next&&(f.next=T)),T}(s,i,a,l,d),Nt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const y=function(){const s=Nt.lFrame,i=s.currentTNode;return s.isParent?i:i.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Ni(f,!0),f}function cc(s,i,a,l){if(0===a)return-1;const d=i.length;for(let f=0;f<a;f++)i.push(l),s.blueprint.push(l),s.data.push(null);return d}function Uo(s,i,a){so(i);try{const l=s.viewQuery;null!==l&&Eg(1,l,a);const d=s.template;null!==d&&cl(s,i,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&og(s,i),s.staticViewQueries&&Eg(2,s.viewQuery,a);const f=s.components;null!==f&&function(s,i){for(let a=0;a<i.length;a++)OE(s,i[a])}(i,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0),l}finally{i[2]&=-5,Fl()}}function ha(s,i,a,l){const d=i[2];if(256==(256&d))return;so(i);const f=Ta();try{zo(i),function(s){Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&cl(s,i,a,2,l);const y=3==(3&d);if(!f)if(y){const M=s.preOrderCheckHooks;null!==M&&Cs(i,M,null)}else{const M=s.preOrderHooks;null!==M&&oo(i,M,0,null),qu(i,0)}if(function(s){for(let i=yn(s);null!==i;i=cf(i)){if(!i[2])continue;const a=i[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(1024&d[2])&&Zo(f,1),d[2]|=1024}}}(i),function(s){for(let i=yn(s);null!==i;i=cf(i))for(let a=10;a<i.length;a++){const l=i[a],d=l[1];Wo(l)&&ha(d,l,d.template,l[8])}}(i),null!==s.contentQueries&&og(s,i),!f)if(y){const M=s.contentCheckHooks;null!==M&&Cs(i,M)}else{const M=s.contentHooks;null!==M&&oo(i,M,1),qu(i,1)}!function(s,i){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Mi(~d);else{const f=d,y=a[++l],v=a[++l];ru(y,f),v(2,i[f])}}}finally{Mi(-1)}}(s,i);const v=s.components;null!==v&&function(s,i){for(let a=0;a<i.length;a++)Wy(s,i[a])}(i,v);const T=s.viewQuery;if(null!==T&&Eg(2,T,l),!f)if(y){const M=s.viewCheckHooks;null!==M&&Cs(i,M)}else{const M=s.viewHooks;null!==M&&oo(i,M,2),qu(i,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Zo(i[3],-1))}finally{Fl()}}function Ly(s,i,a,l){const d=i[10],f=!Ta(),y=Gr(i);try{f&&!y&&d.begin&&d.begin(),y&&Uo(s,i,l),ha(s,i,a,l)}finally{f&&!y&&d.end&&d.end()}}function cl(s,i,a,l,d){const f=qr(),y=2&l;try{Mi(-1),y&&i.length>20&&Ba(s,i,20,Ta()),a(l,d)}finally{Mi(f)}}function dl(s,i,a){!tu()||(function(s,i,a,l){const d=a.directiveStart,f=a.directiveEnd;s.firstCreatePass||_i(a,i),Ln(l,i);const y=a.initialInputs;for(let v=d;v<f;v++){const T=s.data[v],M=Hr(T);M&&NE(i,a,T);const V=ue(i,s,v,a);Ln(V,i),null!==y&&qy(0,v-d,V,T,0,y),M&&(on(a.index,i)[8]=V)}}(s,i,a,Qt(a,i)),128==(128&a.flags)&&function(s,i,a){const l=a.directiveStart,d=a.directiveEnd,y=a.index,v=Nt.lFrame.currentDirectiveIndex;try{Mi(y);for(let T=l;T<d;T++){const M=s.data[T],V=i[T];bo(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&hg(M,V)}}finally{Mi(-1),bo(v)}}(s,i,a))}function vf(s,i,a=Qt){const l=i.localNames;if(null!==l){let d=i.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],v=-1===y?a(i,s):s[y];s[d++]=v}}}function Au(s){const i=s.tView;return null===i||i.incompleteFirstPass?s.tView=$a(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):i}function $a(s,i,a,l,d,f,y,v,T,M){const V=20+l,q=V+d,Z=function(s,i){const a=[];for(let l=0;l<i;l++)a.push(l<s?null:Kt);return a}(V,q),re="function"==typeof M?M():M;return Z[1]={type:s,blueprint:Z,template:a,queries:null,viewQuery:v,declTNode:i,data:Z.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:re,incompleteFirstPass:!1}}function By(s,i,a,l){const d=zy(i);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Zy(s).push(l,d.length-1))}function gh(s,i,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(i,d):a[l]=[i,d]}return a}function go(s,i,a,l,d,f,y,v){const T=Qt(i,a);let V,M=i.inputs;!v&&null!=M&&(V=M[l])?(Cg(s,a,V,l,d),_s(i)&&function(s,i){const a=on(i,s);16&a[2]||(a[2]|=64)}(a,i.index)):3&i.type&&(l=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=y?y(d,i.value||"",l):d,Ie(f)?f.setProperty(T,l,d):uu(l)||(T.setProperty?T.setProperty(l,d):T[l]=d))}function mh(s,i,a,l){let d=!1;if(tu()){const f=function(s,i,a){const l=s.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];Ty(a,y.selectors,!1)&&(d||(d=[]),Ts(_i(a,i),s,y.type),Hr(y)?(pg(s,a),d.unshift(y)):d.push(y))}return d}(s,i,a),y=null===l?null:{"":-1};if(null!==f){d=!0,gg(a,s.data.length,f.length);for(let V=0;V<f.length;V++){const q=f[V];q.providersResolver&&q.providersResolver(q)}let v=!1,T=!1,M=cc(s,i,f.length,null);for(let V=0;V<f.length;V++){const q=f[V];a.mergedAttrs=Is(a.mergedAttrs,q.hostAttrs),wf(s,a,i,M,q),Gy(M,q,y),null!==q.contentQueries&&(a.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(a.flags|=128);const Z=q.type.prototype;!v&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),v=!0),!T&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),T=!0),M++}!function(s,i){const l=i.directiveEnd,d=s.data,f=i.attrs,y=[];let v=null,T=null;for(let M=i.directiveStart;M<l;M++){const V=d[M],q=V.inputs,Z=null===f||Xp(i)?null:ME(q,f);y.push(Z),v=gh(q,M,v),T=gh(V.outputs,M,T)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=v,i.outputs=T}(s,a)}y&&function(s,i,a){if(i){const l=s.localNames=[];for(let d=0;d<i.length;d+=2){const f=a[i[d+1]];if(null==f)throw new Ze("301",`Export of name '${i[d+1]}' not found!`);l.push(i[d],f)}}}(a,l,y)}return a.mergedAttrs=Is(a.mergedAttrs,a.attrs),d}function vd(s,i,a,l,d,f){const y=f.hostBindings;if(y){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const T=~i.index;(function(s){let i=s.length;for(;i>0;){const a=s[--i];if("number"==typeof a&&a<0)return a}return 0})(v)!=T&&v.push(T),v.push(l,d,y)}}function hg(s,i){null!==s.hostBindings&&s.hostBindings(1,i)}function pg(s,i){i.flags|=2,(s.components||(s.components=[])).push(i.index)}function Gy(s,i,a){if(a){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)a[i.exportAs[l]]=s;Hr(i)&&(a[""]=s)}}function gg(s,i,a){s.flags|=1,s.directiveStart=i,s.directiveEnd=i+a,s.providerIndexes=i}function wf(s,i,a,l,d){s.data[l]=d;const f=d.factory||(d.factory=fi(d.type)),y=new mi(f,Hr(d),null);s.blueprint[l]=y,a[l]=y,vd(s,i,0,l,cc(s,a,d.hostVars,Kt),d)}function NE(s,i,a){const l=Qt(i,s),d=Au(a),f=s[10],y=bf(s,yd(s,d,null,a.onPush?64:16,l,i,f,f.createRenderer(l,a),null,null));s[i.index]=y}function fa(s,i,a,l,d,f){const y=Qt(s,i);!function(s,i,a,l,d,f,y){if(null==f)Ie(s)?s.removeAttribute(i,d,a):i.removeAttribute(d);else{const v=null==y?it(f):y(f,l||"",d);Ie(s)?s.setAttribute(i,d,v,a):a?i.setAttributeNS(a,d,v):i.setAttribute(d,v)}}(i[11],y,f,s.value,a,l,d)}function qy(s,i,a,l,d,f){const y=f[i];if(null!==y){const v=l.setInput;for(let T=0;T<y.length;){const M=y[T++],V=y[T++],q=y[T++];null!==v?l.setInput(a,q,M,V):a[V]=q}}}function ME(s,i){let a=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],i[l+1])),l+=2}else l+=2;else l+=4}return a}function hc(s,i,a,l){return new Array(s,!0,!1,i,null,0,l,a,null,null)}function Wy(s,i){const a=on(i,s);if(Wo(a)){const l=a[1];80&a[2]?ha(l,a,l.template,a[8]):a[5]>0&&If(a)}}function If(s){for(let l=yn(s);null!==l;l=cf(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const y=f[1];ha(y,f,y.template,f[8])}else f[5]>0&&If(f)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=on(a[l],s);Wo(d)&&d[5]>0&&If(d)}}function OE(s,i){const a=on(i,s),l=a[1];(function(s,i){for(let a=i.length;a<s.blueprint.length;a++)i.push(s.blueprint[a])})(l,a),Uo(l,a,a[8])}function bf(s,i){return s[13]?s[14][4]=i:s[13]=i,s[14]=i,i}function _h(s){for(;s;){s[2]|=64;const i=sc(s);if(Fs(s)&&!i)return s;s=i}return null}function vg(s,i,a){const l=i[10];l.begin&&l.begin();try{ha(s,i,s.template,a)}catch(d){throw wg(i,d),d}finally{l.end&&l.end()}}function Df(s){!function(s){for(let i=0;i<s.components.length;i++){const a=s.components[i],l=sl(a),d=l[1];Ly(d,l,d.template,a)}}(s[8])}function Eg(s,i,a){ju(0),i(s,a)}const FE=(()=>Promise.resolve(null))();function zy(s){return s[7]||(s[7]=[])}function Zy(s){return s.cleanup||(s.cleanup=[])}function wg(s,i){const a=s[9],l=a?a.get(st,null):null;l&&l.handleError(i)}function Cg(s,i,a,l,d){for(let f=0;f<a.length;){const y=a[f++],v=a[f++],T=i[y],M=s.data[y];null!==M.setInput?M.setInput(T,d,l,v):T[v]=d}}function pa(s,i,a){const l=Zn(i,s);!function(s,i,a){Ie(s)?s.setValue(i,a):i.textContent=a}(s[11],l,a)}function fc(s,i,a){let l=a?s.styles:null,d=a?s.classes:null,f=0;if(null!==i)for(let y=0;y<i.length;y++){const v=i[y];"number"==typeof v?f=v:1==f?d=ce(d,v):2==f&&(l=ce(l,v+": "+i[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const hl=new Er("INJECTOR",-1);class Sf{get(i,a=ia){if(a===ia){const l=new Error(`NullInjectorError: No provider for ${ne(i)}!`);throw l.name="NullInjectorError",l}return a}}const Ed=new Er("Set Injector scope."),wh={},Yy={};let Ig;function Qy(){return void 0===Ig&&(Ig=new Sf),Ig}function bg(s,i=null,a=null,l){return new xf(s,a,i||Qy(),l)}class xf{constructor(i,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ws(a,v=>this.processProvider(v,i,a)),Ws([i],v=>this.processInjectorType(v,[],f)),this.records.set(hl,wd(void 0,this));const y=this.records.get(Ed);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof i?null:ne(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,a=ia,l=We.Default){this.assertNotDestroyed();const d=Ra(this);try{if(!(l&We.SkipSelf)){let y=this.records.get(i);if(void 0===y){const v=("function"==typeof(s=i)||"object"==typeof s&&s instanceof Er)&&Un(i);y=v&&this.injectableDefInScope(v)?wd(pc(i),wh):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(l&We.Self?Qy():this.parent).get(i,a=l&We.Optional&&a===ia?null:a)}catch(f){if("NullInjectorError"===f.name){if((f[sa]=f[sa]||[]).unshift(ne(i)),d)throw f;return Xu(f,i,"R3InjectorError",this.source)}throw f}finally{Ra(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,d)=>i.push(ne(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,a,l){if(!(i=we(i)))return!1;let d=pn(i);const f=null==d&&i.ngModule||void 0,y=void 0===f?i:f,v=-1!==l.indexOf(y);if(void 0!==f&&(d=pn(f)),null==d)return!1;if(null!=d.imports&&!v){let V;l.push(y);try{Ws(d.imports,q=>{this.processInjectorType(q,a,l)&&(void 0===V&&(V=[]),V.push(q))})}finally{}if(void 0!==V)for(let q=0;q<V.length;q++){const{ngModule:Z,providers:re}=V[q];Ws(re,fe=>this.processProvider(fe,Z,re||$e))}}this.injectorDefTypes.add(y);const T=fi(y)||(()=>new y);this.records.set(y,wd(T,wh));const M=d.providers;if(null!=M&&!v){const V=i;Ws(M,q=>this.processProvider(q,V,M))}return void 0!==f&&void 0!==i.providers}processProvider(i,a,l){let d=Ga(i=we(i))?i:we(i&&i.provide);const f=e_(s=i)?wd(void 0,s.useValue):wd(Xy(s),wh);var s;if(Ga(i)||!0!==i.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=wd(void 0,wh,!0),y.factory=()=>os(y.multi),this.records.set(d,y)),d=i,y.multi.push(i)}this.records.set(d,f)}hydrate(i,a){return a.value===wh&&(a.value=Yy,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(s=a.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var s}injectableDefInScope(i){if(!i.providedIn)return!1;const a=we(i.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function pc(s){const i=Un(s),a=null!==i?i.factory:fi(s);if(null!==a)return a;if(s instanceof Er)throw new Error(`Token ${ne(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const i=s.length;if(i>0){const l=function(s,i){const a=[];for(let l=0;l<s;l++)a.push(i);return a}(i,"?");throw new Error(`Can't resolve all parameters for ${ne(s)}: (${l.join(", ")}).`)}const a=function(s){const i=s&&(s[jn]||s[gr]);if(i){const a=function(s){if(s.hasOwnProperty("name"))return s.name;const i=(""+s).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),i}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Error("unreachable")}function Xy(s,i,a){let l;if(Ga(s)){const d=we(s);return fi(d)||pc(d)}if(e_(s))l=()=>we(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...os(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))l=()=>Sn(we(s.useExisting));else{const d=we(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return fi(d)||pc(d);l=()=>new d(...os(s.deps))}return l}function wd(s,i,a=!1){return{factory:s,value:i,multi:a?[]:void 0}}function e_(s){return null!==s&&"object"==typeof s&&Wl in s}function Ga(s){return"function"==typeof s}const xg=function(s,i,a){return function(s,i=null,a=null,l){const d=bg(s,i,a,l);return d._resolveInjectorDefTypes(),d}({name:a},i,s,a)};class Bn{static create(i,a){return Array.isArray(i)?xg(i,a,""):xg(i.providers,i.parent,i.name||"")}}function jg(s,i){ou(sl(s)[1],er())}function Lf(s){let i=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;i;){let d;if(Hr(s))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");d=i.\u0275dir}if(d){if(a){l.push(d);const y=s;y.inputs=Vf(s.inputs),y.declaredInputs=Vf(s.declaredInputs),y.outputs=Vf(s.outputs);const v=d.hostBindings;v&&p_(s,v);const T=d.viewQuery,M=d.contentQueries;if(T&&h_(s,T),M&&f_(s,M),ie(s.inputs,d.inputs),ie(s.declaredInputs,d.declaredInputs),ie(s.outputs,d.outputs),Hr(d)&&d.data.animation){const V=s.data;V.animation=(V.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const v=f[y];v&&v.ngInherit&&v(s),v===Lf&&(a=!1)}}i=Object.getPrototypeOf(i)}!function(s){let i=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=i+=d.hostVars,d.hostAttrs=Is(d.hostAttrs,a=Is(a,d.hostAttrs))}}(l)}function Vf(s){return s===ge?{}:s===$e?[]:s}function h_(s,i){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{i(l,d),a(l,d)}:i}function f_(s,i){const a=s.contentQueries;s.contentQueries=a?(l,d,f)=>{i(l,d,f),a(l,d,f)}:i}function p_(s,i){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{i(l,d),a(l,d)}:i}Bn.THROW_IF_NOT_FOUND=ia,Bn.NULL=new Sf,Bn.\u0275prov=En({token:Bn,providedIn:"any",factory:()=>Sn(hl)}),Bn.__NG_ELEMENT_ID__=-1;let Uf=null;function pl(){if(!Uf){const s=Q.Symbol;if(s&&s.iterator)Uf=s.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<i.length;++a){const l=i[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Uf=l)}}}return Uf}class mo{constructor(i){this.wrapped=i}static wrap(i){return new mo(i)}static unwrap(i){return mo.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof mo}}function Th(s){return!!Ah(s)&&(Array.isArray(s)||!(s instanceof Map)&&pl()in s)}function Ah(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ma(s,i,a){return s[i]=a}function Ki(s,i,a){return!Object.is(s[i],a)&&(s[i]=a,!0)}function Sh(s,i,a,l){const d=ze();return Ki(d,Io(),i)&&(un(),fa(An(),d,s,i,a,l)),Sh}function qf(s,i,a,l,d,f,y,v){const T=ze(),M=un(),V=s+20,q=M.firstCreatePass?function(s,i,a,l,d,f,y,v,T){const M=i.consts,V=Tu(i,s,4,y||null,is(M,v));mh(i,a,V,is(M,T)),ou(i,V);const q=V.tViews=$a(2,V,l,d,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,M);return null!==i.queries&&(i.queries.template(i,V),q.queries=i.queries.embeddedTView(V)),V}(V,M,T,i,a,l,d,f,y):M.data[V];Ni(q,!1);const Z=T[11].createComment("");ud(M,T,Z,q),Ln(Z,T),bf(T,T[V]=hc(Z,T,Z,q)),Bi(q)&&dl(M,T,q),null!=y&&vf(T,q,v)}function Nd(s,i=We.Default){const a=ze();return null===a?Sn(s,i):w(er(),a,we(s),i)}function Yf(s,i,a){const l=ze();return Ki(l,Io(),i)&&go(un(),An(),l,s,i,l[11],a,!1),Yf}function Md(s,i,a,l,d){const y=d?"class":"style";Cg(s,a,i.inputs[y],y,l)}function Qf(s,i,a,l){const d=ze(),f=un(),y=20+s,v=d[11],T=d[y]=Hp(v,i,Nt.lFrame.currentNamespace),M=f.firstCreatePass?function(s,i,a,l,d,f,y){const v=i.consts,M=Tu(i,s,2,d,is(v,f));return mh(i,a,M,is(v,y)),null!==M.attrs&&fc(M,M.attrs,!1),null!==M.mergedAttrs&&fc(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(y,f,d,0,i,a,l):f.data[y];Ni(M,!0);const V=M.mergedAttrs;null!==V&&Hs(v,T,V);const q=M.classes;null!==q&&cd(v,T,q);const Z=M.styles;null!==Z&&Cy(v,T,Z),64!=(64&M.flags)&&ud(f,d,T,M),0===Nt.lFrame.elementDepthCount&&Ln(T,d),Nt.lFrame.elementDepthCount++,Bi(M)&&(dl(f,d,M),function(s,i,a){if(Rt(i)){const d=i.directiveEnd;for(let f=i.directiveStart;f<d;f++){const y=s.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,M,d)),null!==l&&vf(d,M)}function Jf(){let s=er();nu()?Nt.lFrame.isParent=!1:(s=s.parent,Ni(s,!1));const i=s;Nt.lFrame.elementDepthCount--;const a=un();a.firstCreatePass&&(ou(a,s),Rt(s)&&a.queries.elementEnd(s)),null!=i.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(i)&&Md(a,i,ze(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(i)&&Md(a,i,ze(),i.stylesWithoutHost,!1)}function Od(s,i,a,l){Qf(s,i,a,l),Jf()}function P_(){return ze()}function Pd(s){return!!s&&"function"==typeof s.then}function im(s){return!!s&&"function"==typeof s.subscribe}const Xf=im;function sm(s,i,a,l){const d=ze(),f=un(),y=er();return function(s,i,a,l,d,f,y,v){const T=Bi(l),V=s.firstCreatePass&&Zy(s),q=i[8],Z=zy(i);let re=!0;if(3&l.type||v){const Ee=Qt(l,i),tt=v?v(Ee):Ee,Ge=Z.length,Tt=v?zt=>v(Mt(zt[l.index])):l.index;if(Ie(a)){let zt=null;if(!v&&T&&(zt=function(s,i,a,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===l){const v=i[7],T=d[f+2];return v.length>T?v[T]:null}"string"==typeof y&&(f+=2)}return null}(s,i,d,l.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=f,zt.__ngLastListenerFn__=f,re=!1;else{f=F_(l,i,q,f,!1);const In=a.listen(tt,d,f);Z.push(f,In),V&&V.push(d,Tt,Ge,Ge+1)}}else f=F_(l,i,q,f,!0),tt.addEventListener(d,f,y),Z.push(f),V&&V.push(d,Tt,Ge,y)}else f=F_(l,i,q,f,!1);const fe=l.outputs;let Pe;if(re&&null!==fe&&(Pe=fe[d])){const Ee=Pe.length;if(Ee)for(let tt=0;tt<Ee;tt+=2){const Ji=i[Pe[tt]][Pe[tt+1]].subscribe(f),Qa=Z.length;Z.push(f,Ji),V&&V.push(d,l.index,Qa,-(Qa+1))}}}(f,d,d[11],y,s,i,!!a,l),sm}function Or(s,i,a,l){try{return!1!==a(l)}catch(d){return wg(s,d),!1}}function F_(s,i,a,l,d){return function f(y){if(y===Function)return l;const v=2&s.flags?on(s.index,i):i;0==(32&i[2])&&_h(v);let T=Or(i,0,l,y),M=f.__ngNextListenerFn__;for(;M;)T=Or(i,0,M,y)&&T,M=M.__ngNextListenerFn__;return d&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function d0(s=1){return function(s){return(Nt.lFrame.contextLView=function(s,i){for(;s>0;)i=i[15],s--;return i}(s,Nt.lFrame.contextLView))[8]}(s)}function Cl(s,i,a,l,d){const f=s[a+1],y=null===i;let v=l?Nr(f):bu(f),T=!1;for(;0!==v&&(!1===T||y);){const V=s[v+1];np(s[v],i)&&(T=!0,s[v+1]=l?Fo(V):ki(V)),v=l?Nr(V):bu(V)}T&&(s[a+1]=l?ki(f):Fo(f))}function np(s,i){return null===s||null==i||(Array.isArray(s)?s[1]:s)===i||!(!Array.isArray(s)||"string"!=typeof i)&&zs(s,i)>=0}function ip(s,i){return function(s,i,a,l){const d=ze(),f=un(),y=function(s){const i=Nt.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+s,a}(2);f.firstUpdatePass&&function(s,i,a,l){const d=s.data;if(null===d[a+1]){const f=d[qr()],y=function(s,i){return i>=s.expandoStartIndex}(s,a);(function(s,i){return 0!=(s.flags&(i?16:32))})(f,l)&&null===i&&!y&&(i=!1),i=function(s,i,a,l){const d=function(s){const i=Nt.lFrame.currentDirectiveIndex;return-1===i?null:s[i]}(s);let f=l?i.residualClasses:i.residualStyles;if(null===d)0===(l?i.classBindings:i.styleBindings)&&(a=_o(a=xu(null,s,i,a,l),i.attrs,l),f=null);else{const y=i.directiveStylingLast;if(-1===y||s[y]!==d)if(a=xu(d,s,i,a,l),null===f){let T=function(s,i,a){const l=a?i.classBindings:i.styleBindings;if(0!==bu(l))return s[Nr(l)]}(s,i,l);void 0!==T&&Array.isArray(T)&&(T=xu(null,s,i,T[1],l),T=_o(T,i.attrs,l),function(s,i,a,l){s[Nr(a?i.classBindings:i.styleBindings)]=l}(s,i,l,T))}else f=function(s,i,a){let l;const d=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<d;f++)l=_o(l,s[f].hostAttrs,a);return _o(l,i.attrs,a)}(s,i,l)}return void 0!==f&&(l?i.residualClasses=f:i.residualStyles=f),a}(d,f,i,l),function(s,i,a,l,d,f){let y=f?i.classBindings:i.styleBindings,v=Nr(y),T=bu(y);s[l]=a;let V,M=!1;if(Array.isArray(a)){const q=a;V=q[1],(null===V||zs(q,V)>0)&&(M=!0)}else V=a;if(d)if(0!==T){const Z=Nr(s[v+1]);s[l+1]=gf(Z,v),0!==Z&&(s[Z+1]=tg(s[Z+1],l)),s[v+1]=function(s,i){return 131071&s|i<<17}(s[v+1],l)}else s[l+1]=gf(v,0),0!==v&&(s[v+1]=tg(s[v+1],l)),v=l;else s[l+1]=gf(T,0),0===v?v=l:s[T+1]=tg(s[T+1],l),T=l;M&&(s[l+1]=ki(s[l+1])),Cl(s,V,l,!0),Cl(s,V,l,!1),function(s,i,a,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof i&&zs(f,i)>=0&&(a[l+1]=Fo(a[l+1]))}(i,V,s,l,f),y=gf(v,T),f?i.classBindings=y:i.styleBindings=y}(d,f,i,a,y,l)}}(f,s,y,l),i!==Kt&&Ki(d,y,i)&&function(s,i,a,l,d,f,y,v){if(!(3&i.type))return;const T=s.data,M=T[v+1];bl(function(s){return 1==(1&s)}(M)?lm(T,i,a,d,bu(M),y):void 0)||(bl(f)||function(s){return 2==(2&s)}(M)&&(f=lm(T,null,a,d,v,y)),function(s,i,a,l,d){const f=Ie(s);if(i)d?f?s.addClass(a,l):a.classList.add(l):f?s.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Zi.DashCase;if(null==d)f?s.removeStyle(a,l,y):a.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),y|=Zi.Important),f?s.setStyle(a,l,d,y):a.style.setProperty(l,d,v?"important":"")}}}(l,y,Zn(qr(),a),d,f))}(f,f.data[qr()],d,d[11],s,d[y+1]=function(s,i){return null==s||("string"==typeof i?s+=i:"object"==typeof s&&(s=ne(Zs(s)))),s}(i,a),l,y)}(s,i,null,!0),ip}function xu(s,i,a,l,d){let f=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(f=i[v],l=_o(l,f.hostAttrs,d),f!==s);)v++;return null!==s&&(a.directiveStylingLast=v),l}function _o(s,i,a){const l=a?1:2;let d=-1;if(null!==i)for(let f=0;f<i.length;f++){const y=i[f];"number"==typeof y?d=y:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qi(s,y,!!a||i[++f]))}return void 0===s?null:s}function lm(s,i,a,l,d,f){const y=null===i;let v;for(;d>0;){const T=s[d],M=Array.isArray(T),V=M?T[1]:T,q=null===V;let Z=a[d+1];Z===Kt&&(Z=q?$e:void 0);let re=q?Gl(Z,l):V===l?Z:void 0;if(M&&!bl(re)&&(re=Gl(T,l)),bl(re)&&(v=re,y))return v;const fe=s[d+1];d=y?Nr(fe):bu(fe)}if(null!==i){let T=f?i.residualClasses:i.residualStyles;null!=T&&(v=Gl(T,l))}return v}function bl(s){return void 0!==s}function nv(s,i=""){const a=ze(),l=un(),d=s+20,f=l.firstCreatePass?Tu(l,d,1,i,null):l.data[d],y=a[d]=function(s,i){return Ie(s)?s.createText(i):s.createTextNode(i)}(a[11],i);ud(l,a,y,f),Ni(f,!1)}function cm(s){return ap("",s,""),cm}function ap(s,i,a){const l=ze(),d=function(s,i,a,l){return Ki(s,Io(),a)?i+it(a)+l:Kt}(l,s,i,a);return d!==Kt&&pa(l,qr(),d),ap}function ym(s,i,a){const l=ze();return Ki(l,Io(),i)&&go(un(),An(),l,s,i,l[11],a,!0),ym}const Ic=void 0;var A0=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){let i=Math.floor(Math.abs(s)),a=s.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Ph={};function _m(s){const i=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=vm(i);if(a)return a;const l=i.split("-")[0];if(a=vm(l),a)return a;if("en"===l)return A0;throw new Error(`Missing locale data for the locale "${s}".`)}function cp(s){return _m(s)[St.PluralCase]}function vm(s){return s in Ph||(Ph[s]=Q.ng&&Q.ng.common&&Q.ng.common.locales&&Q.ng.common.locales[s]),Ph[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const kh="en-US";let vo=kh;function Qi(s){Ut(s,"Expected localeId to be defined"),"string"==typeof s&&(vo=s.toLowerCase().replace(/_/g,"-"))}function C(s,i,a,l,d){if(s=we(s),Array.isArray(s))for(let f=0;f<s.length;f++)C(s[f],i,a,l,d);else{const f=un(),y=ze();let v=Ga(s)?s:we(s.provide),T=Xy(s);const M=er(),V=1048575&M.providerIndexes,q=M.directiveStart,Z=M.providerIndexes>>20;if(Ga(s)||!s.multi){const re=new mi(T,d,Nd),fe=K(v,i,d?V:V+Z,q);-1===fe?(Ts(_i(M,y),f,v),N(f,s,i.length),i.push(v),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(re),y.push(re)):(a[fe]=re,y[fe]=re)}else{const re=K(v,i,V+Z,q),fe=K(v,i,V,V+Z),Pe=re>=0&&a[re],Ee=fe>=0&&a[fe];if(d&&!Ee||!d&&!Pe){Ts(_i(M,y),f,v);const tt=function(s,i,a,l,d){const f=new mi(s,a,Nd);return f.multi=[],f.index=i,f.componentProviders=0,B(f,d,l&&!a),f}(d?le:J,a.length,d,l,T);!d&&Ee&&(a[fe].providerFactory=tt),N(f,s,i.length,0),i.push(v),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(tt),y.push(tt)}else N(f,s,re>-1?re:fe,B(a[d?fe:re],T,!d&&l));!d&&l&&Ee&&a[fe].componentProviders++}}}function N(s,i,a,l){const d=Ga(i);if(d||function(s){return!!s.useClass}(i)){const y=(i.useClass||i).prototype.ngOnDestroy;if(y){const v=s.destroyHooks||(s.destroyHooks=[]);if(!d&&i.multi){const T=v.indexOf(a);-1===T?v.push(a,[l,y]):v[T+1].push(l,y)}else v.push(a,y)}}}function B(s,i,a){return a&&s.componentProviders++,s.multi.push(i)-1}function K(s,i,a,l){for(let d=a;d<l;d++)if(i[d]===s)return d;return-1}function J(s,i,a,l){return ke(this.multi,[])}function le(s,i,a,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=ue(a,a[1],this.providerFactory.index,l);f=v.slice(0,y),ke(d,f);for(let T=y;T<v.length;T++)f.push(v[T])}else f=[],ke(d,f);return f}function ke(s,i){for(let a=0;a<s.length;a++)i.push((0,s[a])());return i}function rt(s,i=[]){return a=>{a.providersResolver=(l,d)=>function(s,i,a){const l=un();if(l.firstCreatePass){const d=Hr(s);C(a,l.data,l.blueprint,d,!0),C(i,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,i)}}class Pt{}const ai="ngComponent";class Yr{resolveComponentFactory(i){throw function(s){const i=Error(`No component factory found for ${ne(s)}. Did you add it to @NgModule.entryComponents?`);return i[ai]=s,i}(i)}}class bi{}function Bv(...s){}function mp(s,i){return new Sl(Qt(s,i))}bi.NULL=new Yr;const Tb=function(){return mp(er(),ze())};let Sl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Tb,s})();function yC(s){return s instanceof Sl?s.nativeElement:s}class jv{}let Ab=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>xb(),s})();const xb=function(){const s=ze(),a=on(er().index,s);return function(s){return s[11]}(jr(a)?a:s)};let ew=(()=>{class s{}return s.\u0275prov=En({token:s,providedIn:"root",factory:()=>null}),s})();class _C{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const tw=new _C("12.0.5");class vC{constructor(){}supports(i){return Th(i)}create(i){return new Ob(i)}}const Mb=(s,i)=>i;class Ob{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Mb}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<wC(l,d,f)?a:l,v=wC(y,d,f),T=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const M=v-d,V=T-d;if(M!=V){for(let Z=0;Z<M;Z++){const re=Z<f.length?f[Z]:f[Z]=0,fe=re+Z;V<=fe&&fe<M&&(f[Z]=re+1)}f[y.previousIndex]=V-M}}v!==T&&i(y,v,T)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!Th(i))throw new Error(`Error trying to diff '${ne(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,f,y,a=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],y=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,v),l=!0),a=a._next}else d=0,function(s,i){if(Array.isArray(s))for(let a=0;a<s.length;a++)i(s[a]);else{const a=s[pl()]();let l;for(;!(l=a.next()).done;)i(l.value)}}(i,v=>{y=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,v,y,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,l,d){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,f,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,f,d)):i=this._addAfter(new Pb(a,l),f,d),i}_verifyReinsertion(i,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?i=this._reinsertAfter(f,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,f=i._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(i,a,l),this._addToMoves(i,l),i}_moveAfter(i,a,l){return this._unlink(i),this._insertAfter(i,a,l),this._addToMoves(i,l),i}_addAfter(i,a,l){return this._insertAfter(i,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,l){const d=null===a?this._itHead:a._next;return i._next=d,i._prev=a,null===d?this._itTail=i:d._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new EC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,l=i._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Pb{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const a=i._prevDup,l=i._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class EC{constructor(){this.map=new Map}put(i){const a=i.trackById;let l=this.map.get(a);l||(l=new kb,this.map.set(a,l)),l.add(i)}get(i,a){const d=this.map.get(i);return d?d.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wC(s,i,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+i+d}class CC{constructor(){}supports(i){return i instanceof Map||Ah(i)}create(){return new Fb}}class Fb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||Ah(i)))throw new Error(`Error trying to diff '${ne(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const l=i._prev;return a._next=i,a._prev=l,i._prev=a,l&&(l._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new Lb(i);return this._records.set(i,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(l=>a(i[l],l))}}class Lb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IC(){return new Hv([new vC])}let Hv=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||IC()),deps:[[s,new oa,new Ro]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(s){return s.name||typeof s}(a)}'`)}}return s.\u0275prov=En({token:s,providedIn:"root",factory:IC}),s})();function bC(){return new $v([new CC])}let $v=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||bC()),deps:[[s,new oa,new Ro]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return s.\u0275prov=En({token:s,providedIn:"root",factory:bC}),s})();function Gv(s,i,a,l,d=!1){for(;null!==a;){const f=i[a.index];if(null!==f&&l.push(Mt(f)),Dn(f))for(let v=10;v<f.length;v++){const T=f[v],M=T[1].firstChild;null!==M&&Gv(T[1],T,M,l)}const y=a.type;if(8&y)Gv(s,i,a.child,l);else if(32&y){const v=lf(a,i);let T;for(;T=v();)l.push(T)}else if(16&y){const v=ld(i,a);if(Array.isArray(v))l.push(...v);else{const T=sc(i[16]);Gv(T[1],T,v,l,!0)}}a=d?a.projectionNext:a.next}return l}class Um{constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,a=i[1];return Gv(a,i,a.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Dn(i)){const a=i[8],l=a?a.indexOf(this):-1;l>-1&&(Gp(i,l),ra(a,l))}this._attachedToViewContainer=!1}ch(this._lView[1],this._lView)}onDestroy(i){By(this._lView[1],this._lView,null,i)}markForCheck(){_h(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,i,a){Aa(!0);try{vg(s,i,a)}finally{Aa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Cu(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class Ub extends Um{constructor(i){super(i),this._view=i}detectChanges(){Df(this._view)}checkNoChanges(){!function(s){Aa(!0);try{Df(s)}finally{Aa(!1)}}(this._view)}get context(){return null}}const jb=function(s){return function(s,i,a){if(_s(s)&&!a){const l=on(s.index,i);return new Um(l,l)}return 47&s.type?new Um(i[16],i):null}(er(),ze(),16==(16&s))};let Hb=(()=>{class s{}return s.__NG_ELEMENT_ID__=jb,s})();const qb=[new CC],zb=new Hv([new vC]),Zb=new $v(qb),Yb=function(){return qv(er(),ze())};let Bm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Yb,s})();const Qb=Bm,Jb=class extends Qb{constructor(i,a,l){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(i){const a=this._declarationTContainer.tViews,l=yd(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),Uo(a,l,i),new Um(l)}};function qv(s,i){return 4&s.type?new Jb(i,s,mp(s,i)):null}class Bh{}class DC{}const tD=function(){return SC(er(),ze())};let Wv=(()=>{class s{}return s.__NG_ELEMENT_ID__=tD,s})();const rD=Wv,TC=class extends rD{constructor(i,a,l){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=l}get element(){return mp(this._hostTNode,this._hostLView)}get injector(){return new Wt(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ds(this._hostTNode,this._hostLView);if(Ul(i)){const a=Gs(i,this._hostLView),l=$s(i);return new Wt(a[1].data[l+8],a)}return new Wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=AC(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,a,l){const d=i.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(i,a,l,d,f){const y=l||this.parentInjector;if(!f&&null==i.ngModule&&y){const T=y.get(Bh,null);T&&(f=T)}const v=i.create(y,d,void 0,f);return this.insert(v.hostView,a),v}insert(i,a){const l=i._lView,d=l[1];if(Dn(l[3])){const V=this.indexOf(i);if(-1!==V)this.detach(V);else{const q=l[3],Z=new TC(q,q[6],q[3]);Z.detach(Z.indexOf(i))}}const f=this._adjustIndex(a),y=this._lContainer;!function(s,i,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=i),l<f-10?(i[4]=a[d],jc(a,10+l,i)):(a.push(i),i[4]=null),i[3]=a;const y=i[17];null!==y&&a!==y&&function(s,i){const a=s[9];i[16]!==i[3][3][16]&&(s[2]=!0),null===a?s[9]=[i]:a.push(i)}(y,i);const v=i[19];null!==v&&v.insertView(s),i[2]|=128}(d,l,y,f);const v=Po(f,y),T=l[11],M=hf(T,y[7]);return null!==M&&function(s,i,a,l,d,f){l[0]=d,l[6]=i,Cu(s,l,a,1,d,f)}(d,y[6],T,l,M,v),i.attachToViewContainerRef(),jc(nw(y),f,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=AC(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),l=Gp(this._lContainer,a);l&&(ra(nw(this._lContainer),a),ch(l[1],l))}detach(i){const a=this._adjustIndex(i,-1),l=Gp(this._lContainer,a);return l&&null!=ra(nw(this._lContainer),a)?new Um(l):null}_adjustIndex(i,a=0){return null==i?this.length+a:i}};function AC(s){return s[8]}function nw(s){return s[8]||(s[8]=[])}function SC(s,i){let a;const l=i[s.index];if(Dn(l))a=l;else{let d;if(8&s.type)d=Mt(l);else{const f=i[11];d=f.createComment("");const y=Qt(s,i);ol(f,hf(f,y),d,function(s,i){return Ie(s)?s.nextSibling(i):i.nextSibling}(f,y),!1)}i[s.index]=a=hc(l,i,d,s),bf(i,a)}return new TC(a,s,i)}const Ep={};class ZC extends bi{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=Ct(i);return new YC(a,this.ngModule)}}function KC(s){const i=[];for(let a in s)s.hasOwnProperty(a)&&i.push({propName:s[a],templateName:a});return i}const XD=new Er("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lh});class YC extends Pt{constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=i.selectors.map(EE).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return KC(this.componentDef.inputs)}get outputs(){return KC(this.componentDef.outputs)}create(i,a,l,d){const f=(d=d||this.ngModule)?function(s,i){return{get:(a,l,d)=>{const f=s.get(a,Ep,d);return f!==Ep||l===Ep?f:i.get(a,l,d)}}}(i,d.injector):i,y=f.get(jv,mt),v=f.get(ew,null),T=y.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",V=l?function(s,i,a){if(Ie(s))return s.selectRootElement(i,a===Mn.ShadowDom);let l="string"==typeof i?s.querySelector(i):i;return l.textContent="",l}(T,l,this.componentDef.encapsulation):Hp(y.createRenderer(null,this.componentDef),M,function(s){const i=s.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(M)),q=this.componentDef.onPush?576:528,Z=function(s,i){return{components:[],scheduler:s||lh,clean:FE,playerHandler:i||null,flags:0}}(),re=$a(0,null,null,1,0,null,null,null,null,null),fe=yd(null,re,Z,q,null,null,y,T,v,f);let Pe,Ee;so(fe);try{const tt=function(s,i,a,l,d,f){const y=a[1];a[20]=s;const T=Tu(y,20,2,"#host",null),M=T.mergedAttrs=i.hostAttrs;null!==M&&(fc(T,M,!0),null!==s&&(Hs(d,s,M),null!==T.classes&&cd(d,s,T.classes),null!==T.styles&&Cy(d,s,T.styles)));const V=l.createRenderer(s,i),q=yd(a,Au(i),null,i.onPush?64:16,a[20],T,l,V,f||null,null);return y.firstCreatePass&&(Ts(_i(T,a),y,i.type),pg(y,T),gg(T,a.length,1)),bf(a,q),a[20]=q}(V,this.componentDef,fe,y,T);if(V)if(l)Hs(T,V,["ng-version",tw.full]);else{const{attrs:Ge,classes:Tt}=function(s){const i=[],a=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&i.push(f,s[++l]):8===d&&a.push(f);else{if(!ko(d))break;d=f}l++}return{attrs:i,classes:a}}(this.componentDef.selectors[0]);Ge&&Hs(T,V,Ge),Tt&&Tt.length>0&&cd(T,V,Tt.join(" "))}if(Ee=vs(re,20),void 0!==a){const Ge=Ee.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const zt=a[Tt];Ge.push(null!=zt?Array.from(zt):null)}}Pe=function(s,i,a,l,d){const f=a[1],y=function(s,i,a){const l=er();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),wf(s,l,i,cc(s,i,1,null),a));const d=ue(i,s,l.directiveStart,l);Ln(d,i);const f=Qt(l,i);return f&&Ln(f,i),d}(f,a,i);if(l.components.push(y),s[8]=y,d&&d.forEach(T=>T(y,i)),i.contentQueries){const T=er();i.contentQueries(1,y,T.directiveStart)}const v=er();return!f.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Mi(v.index),vd(a[1],v,0,v.directiveStart,v.directiveEnd,i),hg(i,y)),y}(tt,this.componentDef,fe,Z,[jg]),Uo(re,fe,null)}finally{Fl()}return new nT(this.componentType,Pe,mp(Ee,fe),fe,Ee)}}class nT extends class{}{constructor(i,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Ub(d),this.componentType=i}get injector(){return new Wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const wp=new Map;class sT extends Bh{constructor(i,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZC(this);const l=en(i),d=i[Wn]||null;d&&Qi(d),this._bootstrapComponents=Qs(l.bootstrap),this._r3Injector=bg(i,a,[{provide:Bh,useValue:this},{provide:bi,useValue:this.componentFactoryResolver}],ne(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,a=Bn.THROW_IF_NOT_FOUND,l=We.Default){return i===Bn||i===Bh||i===hl?this:this._r3Injector.get(i,a,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class gw extends DC{constructor(i){super(),this.moduleType=i,null!==en(i)&&function(s){const i=new Set;!function a(l){const d=en(l,!0),f=d.id;null!==f&&(function(s,i,a){if(i&&i!==a)throw new Error(`Duplicate module registered for ${s} - ${ne(i)} vs ${ne(i.name)}`)}(f,wp.get(f),l),wp.set(f,l));const y=Qs(d.imports);for(const v of y)i.has(v)||(i.add(v),a(v))}(s)}(i)}create(i){return new sT(this.moduleType,i)}}function XC(s,i,a,l){return eI(ze(),gi(),s,i,a,l)}function Zm(s,i){const a=s[i];return a===Kt?void 0:a}function eI(s,i,a,l,d,f){const y=i+a;return Ki(s,y,d)?ma(s,y+1,f?l.call(f,d):l(d)):Zm(s,y+1)}function tI(s,i,a,l,d,f,y){const v=i+a;return function(s,i,a,l){const d=Ki(s,i,a);return Ki(s,i+1,l)||d}(s,v,d,f)?ma(s,v+2,y?l.call(y,d,f):l(d,f)):Zm(s,v+2)}function sI(s,i){const a=un();let l;const d=s+20;a.firstCreatePass?(l=function(s,i){if(i)for(let a=i.length-1;a>=0;a--){const l=i[a];if(s===l.name)return l}throw new Ze("302",`The pipe '${s}' could not be found!`)}(i,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=fi(l.type)),y=Nn(Nd);try{const v=$i(!1),T=f();return $i(v),function(s,i,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),i[a]=l}(a,ze(),d,T),T}finally{Nn(y)}}function oI(s,i,a){const l=s+20,d=ze(),f=$r(d,l);return Ym(d,Km(d,l)?eI(d,gi(),i,f.transform,a,f):f.transform(a))}function aI(s,i,a,l){const d=s+20,f=ze(),y=$r(f,d);return Ym(f,Km(f,d)?tI(f,gi(),i,y.transform,a,l,y):y.transform(a,l))}function Km(s,i){return s[1].data[i].pure}function Ym(s,i){return mo.isWrapped(i)&&(i=mo.unwrap(i),s[Nt.lFrame.bindingIndex]=Kt),i}function mw(s){return i=>{setTimeout(s,void 0,i)}}const xl=class extends b.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,l){var d,f,y;let v=i,T=a||(()=>null),M=l;if(i&&"object"==typeof i){const q=i;v=null===(d=q.next)||void 0===d?void 0:d.bind(q),T=null===(f=q.error)||void 0===f?void 0:f.bind(q),M=null===(y=q.complete)||void 0===y?void 0:y.bind(q)}this.__isAsync&&(T=mw(T),v&&(v=mw(v)),M&&(M=mw(M)));const V=super.subscribe({next:v,error:T,complete:M});return i instanceof A.w&&i.add(V),V}};function ET(){return this._results[pl()]()}class Qv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=pl(),l=Qv.prototype;l[a]||(l[a]=ET)}get changes(){return this._changes||(this._changes=new xl)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const l=this;l.dirty=!1;const d=qs(i);(this._changesDetected=!function(s,i,a){if(s.length!==i.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=i[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yw{constructor(i){this.queryList=i,this.matches=null}clone(){return new yw(this.queryList)}setDirty(){this.queryList.setDirty()}}class _w{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const l=null!==i.contentQueries?i.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new _w(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==gI(i,a).matches&&this.queries[a].setDirty()}}class uI{constructor(i,a,l=null){this.predicate=i,this.flags=a,this.read=l}}class vw{constructor(i=[]){this.queries=i}elementStart(i,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(i,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new vw(a):null}template(i,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ew{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new Ew(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(i,a,IT(a,f)),this.matchTNodeWithReadOption(i,a,X(a,i,f,!1,!1))}else l===Bm?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,X(a,i,l,!1,!1))}matchTNodeWithReadOption(i,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Sl||d===Wv||d===Bm&&4&a.type)this.addMatch(a.index,-2);else{const f=X(a,i,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function IT(s,i){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===i)return a[l+1];return null}function DT(s,i,a,l){return-1===a?function(s,i){return 11&s.type?mp(s,i):4&s.type?qv(s,i):null}(i,s):-2===a?function(s,i,a){return a===Sl?mp(i,s):a===Bm?qv(i,s):a===Wv?SC(i,s):void 0}(s,i,l):ue(s,s[1],a,i)}function lI(s,i,a,l){const d=i[19].queries[l];if(null===d.matches){const f=s.data,y=a.matches,v=[];for(let T=0;T<y.length;T+=2){const M=y[T];v.push(M<0?null:DT(i,f[M],y[T+1],a.metadata.read))}d.matches=v}return d.matches}function ww(s,i,a,l){const d=s.queries.getByIndex(a),f=d.matches;if(null!==f){const y=lI(s,i,d,a);for(let v=0;v<f.length;v+=2){const T=f[v];if(T>0)l.push(y[v/2]);else{const M=f[v+1],V=i[-T];for(let q=10;q<V.length;q++){const Z=V[q];Z[17]===Z[3]&&ww(Z[1],Z,M,l)}if(null!==V[9]){const q=V[9];for(let Z=0;Z<q.length;Z++){const re=q[Z];ww(re[1],re,M,l)}}}}}return l}function cI(s){const i=ze(),a=un(),l=iu();ju(l+1);const d=gI(a,l);if(s.dirty&&Gr(i)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?ww(a,i,l,[]):lI(a,i,d,l);s.reset(f,yC),s.notifyOnChanges()}return!0}return!1}function dI(s,i,a,l){const d=un();if(d.firstCreatePass){const f=er();(function(s,i,a){null===s.queries&&(s.queries=new vw),s.queries.track(new Ew(i,a))})(d,new uI(i,a,l),f.index),function(s,i){const a=s.contentQueries||(s.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,i)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function(s,i,a){const l=new Qv(4==(4&a));By(s,i,l,l.destroy),null===i[19]&&(i[19]=new _w),i[19].queries.push(new yw(l))}(d,ze(),a)}function hI(){return s=ze(),i=iu(),s[19].queries[i].queryList;var s,i}function gI(s,i){return s.queries.getByIndex(i)}const Aw=new Er("Application Initializer");let Ip=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Bv,this.reject=Bv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Pd(f))a.push(f);else if(Xf(f)){const y=new Promise((v,T)=>{f.subscribe({complete:v,error:T})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Sn(Aw,8))},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();const OI=new Er("AppId"),rA={provide:OI,useFactory:function(){return`${Sw()}${Sw()}${Sw()}`},deps:[]};function Sw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PI=new Er("Platform Initializer"),kI=new Er("Platform ID"),FI=new Er("appBootstrapListener");let LI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();const eE=new Er("LocaleId"),VI=new Er("DefaultCurrencyCode");class sA{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}const xw=function(s){return new gw(s)},oA=xw,aA=function(s){return Promise.resolve(xw(s))},UI=function(s){const i=xw(s),l=Qs(en(s).declarations).reduce((d,f)=>{const y=Ct(f);return y&&d.push(new YC(y)),d},[]);return new sA(i,l)},uA=UI,lA=function(s){return Promise.resolve(UI(s))};let Jm=(()=>{class s{constructor(){this.compileModuleSync=oA,this.compileModuleAsync=aA,this.compileModuleAndAllComponentsSync=uA,this.compileModuleAndAllComponentsAsync=lA}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();const hA=(()=>Promise.resolve(0))();function Rw(s){"undefined"==typeof Zone?hA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class wa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=Q.requestAnimationFrame,i=Q.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&i){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(s){const i=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Q,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Mw(s),s.isCheckStableRunning=!0,Nw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Mw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,y,v)=>{try{return BI(s),a.invokeTask(d,f,y,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&i(),jI(s)}},onInvoke:(a,l,d,f,y,v,T)=>{try{return BI(s),a.invoke(d,f,y,v,T)}finally{s.shouldCoalesceRunChangeDetection&&i(),jI(s)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Mw(s),Nw(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,a,l){return this._inner.run(i,a,l)}runTask(i,a,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,i,pA,Bv,Bv);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(i,a,l){return this._inner.runGuarded(i,a,l)}runOutsideAngular(i){return this._outer.run(i)}}const pA={};function Nw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Mw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function BI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function jI(s){s._nesting--,Nw(s)}class yA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(i,a,l){return i.apply(a,l)}runGuarded(i,a,l){return i.apply(a,l)}runOutsideAngular(i){return i()}runTask(i,a,l,d){return i.apply(a,l)}}let HI=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wa.assertNotInAngularZone(),Rw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Sn(wa))},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})(),$I=(()=>{class s{constructor(){this._applications=new Map,Ow.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Ow.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();class _A{addToWindow(i){}findTestabilityInTree(i,a,l){return null}}function vA(s){Ow=s}let Ow=new _A,GI=!0,qI=!1;function Pw(){return qI=!0,GI}function EA(){if(qI)throw new Error("Cannot enable prod mode after platform setup.");GI=!1}let Ou;const WI=new Er("AllowMultipleToken");class AA{constructor(i,a){this.name=i,this.token=a}}function zI(s,i,a=[]){const l=`Platform: ${i}`,d=new Er(l);return(f=[])=>{let y=ZI();if(!y||y.injector.get(WI,!1))if(s)s(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:Ed,useValue:"platform"});!function(s){if(Ou&&!Ou.destroyed&&!Ou.injector.get(WI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ou=s.get(KI);const i=s.get(PI,null);i&&i.forEach(a=>a())}(Bn.create({providers:v,name:l}))}return function(s){const i=ZI();if(!i)throw new Error("No platform exists!");if(!i.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(d)}}function ZI(){return Ou&&!Ou.destroyed?Ou:null}let KI=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function(s,i){let a;return a="noop"===s?new yA:("zone.js"===s?void 0:s)||new wa({enableLongStackTrace:Pw(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),T=[{provide:wa,useValue:v}];return v.run(()=>{const M=Bn.create({providers:T,parent:this.injector,name:a.moduleType.name}),V=a.create(M),q=V.injector.get(st,null);if(!q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const Z=v.onError.subscribe({next:re=>{q.handleError(re)}});V.onDestroy(()=>{kw(this._modules,V),Z.unsubscribe()})}),function(s,i,a){try{const l=a();return Pd(l)?l.catch(d=>{throw i.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw i.runOutsideAngular(()=>s.handleError(l)),l}}(q,v,()=>{const Z=V.injector.get(Ip);return Z.runInitializers(),Z.donePromise.then(()=>(Qi(V.injector.get(eE,kh)||kh),this._moduleDoBootstrap(V),V))})})}bootstrapModule(a,l=[]){const d=YI({},l);return function(s,i,a){const l=new gw(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(Xm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${ne(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Sn(Bn))},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();function YI(s,i){return Array.isArray(i)?i.reduce(YI,s):Object.assign(Object.assign({},s),i)}let Xm=(()=>{class s{constructor(a,l,d,f,y){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ee.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),T=new ee.y(M=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{wa.assertNotInAngularZone(),Rw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{V.unsubscribe(),q.unsubscribe()}});this.isStable=(0,ye.T)(v,T.pipe(s=>(0,he.x)()(function(s,i){return function(l){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(l,ve.N);return f.source=l,f.subjectFactory=d,f}}(se)(s))))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof Pt?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Bh),v=d.create(Bn.NULL,[],l||d.selector,f),T=v.location.nativeElement,M=v.injector.get(HI,null),V=M&&v.injector.get($I);return M&&V&&V.registerApplication(T,M),v.onDestroy(()=>{this.detachView(v.hostView),kw(this.components,v),V&&V.unregisterApplication(T)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;kw(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(FI,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Sn(wa),Sn(Bn),Sn(st),Sn(bi),Sn(Ip))},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();function kw(s,i){const a=s.indexOf(i);a>-1&&s.splice(a,1)}class OA{}class kA{}const FA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let LA=(()=>{class s{constructor(a,l){this._compiler=a,this._config=l||FA}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,d]=a.split("#");return void 0===d&&(d="default"),G(8255)(l).then(f=>f[d]).then(f=>eb(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[l,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),G(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[d+f]).then(y=>eb(y,l,d))}}return s.\u0275fac=function(a){return new(a||s)(Sn(Jm),Sn(kA,8))},s.\u0275prov=En({token:s,factory:s.\u0275fac}),s})();function eb(s,i,a){if(!s)throw new Error(`Cannot find '${a}' in '${i}'`);return s}const qA=function(s){return null},zA=zI(null,"core",[{provide:kI,useValue:"unknown"},{provide:KI,deps:[Bn]},{provide:$I,deps:[]},{provide:LI,deps:[]}]),JA=[{provide:Xm,useClass:Xm,deps:[wa,Bn,st,bi,Ip]},{provide:XD,deps:[wa],useFactory:function(s){let i=[];return s.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(a){i.push(a)}}},{provide:Ip,useClass:Ip,deps:[[new Ro,Aw]]},{provide:Jm,useClass:Jm,deps:[]},rA,{provide:Hv,useFactory:function(){return zb},deps:[]},{provide:$v,useFactory:function(){return Zb},deps:[]},{provide:eE,useFactory:function(s){return Qi(s=s||"undefined"!=typeof $localize&&$localize.locale||kh),s},deps:[[new Na(eE),new Ro,new oa]]},{provide:VI,useValue:"USD"}];let eS=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Sn(Xm))},s.\u0275mod=es({type:s}),s.\u0275inj=pr({providers:JA}),s})()},8939:(dt,Le,G)=>{"use strict";G.d(Le,{hO:()=>ne,xv:()=>se,Dh:()=>he,GT:()=>de,on:()=>Y,pX:()=>ve});var b=G(3018),A=G(7841),ee=G(9126);dt=G.hmd(dt);const ye=["ngOnDestroy"],ve=(ce,Ne,be,we={})=>new Proxy(ce,{get:(Xe,je)=>be.runOutsideAngular(()=>{var Ze;if(ce[je])return(null===(Ze=null==we?void 0:we.spy)||void 0===Ze?void 0:Ze.get)&&we.spy.get(je,ce[je]),ce[je];if(ye.indexOf(je)>-1)return()=>{};const Ke=Ne.toPromise().then(Be=>{const it=Be&&Be[je];return"function"==typeof it?it.bind(Be):it&&it.then?it.then(Oe=>be.run(()=>Oe)):be.run(()=>it)});return new Proxy(()=>{},{get:(Be,it)=>Ke[it],apply:(Be,it,Oe)=>Ke.then(rn=>{var xt;const Se=rn&&rn(...Oe);return(null===(xt=null==we?void 0:we.spy)||void 0===xt?void 0:xt.apply)&&we.spy.apply(je,Oe,Se),Se})})})}),de=(ce,Ne)=>{Ne.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(we=>{Object.defineProperty(ce.prototype,we,Object.getOwnPropertyDescriptor(be.prototype||be,we))})})};class Ce{constructor(Ne){return Ne}}const he=new b.OlP("angularfire2.app.options"),se=new b.OlP("angularfire2.app.name");function Y(ce,Ne,be){const Xe="object"==typeof be&&be||{};Xe.name=Xe.name||"string"==typeof be&&be||"[DEFAULT]";const Ze=A.Z.apps.filter(Ke=>Ke&&Ke.name===Xe.name)[0]||Ne.runOutsideAngular(()=>A.Z.initializeApp(ce,Xe));try{JSON.stringify(ce)!==JSON.stringify(Ze.options)&&te("error",`${Ze.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new Ce(Ze)}const te=(ce,...Ne)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[ce](...Ne)},ie={provide:Ce,useFactory:Y,deps:[he,b.R0b,[new b.FiY,se]]};let ne=(()=>{class ce{constructor(be){A.Z.registerVersion("angularfire",ee.q4.full,"core"),A.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),A.Z.registerVersion("angular",b.q4F.full,be.toString())}static initializeApp(be,we){return{ngModule:ce,providers:[{provide:he,useValue:be},{provide:se,useValue:we}]}}}return ce.\u0275fac=function(be){return new(be||ce)(b.LFG(b.Lbi))},ce.\u0275mod=b.oAB({type:ce}),ce.\u0275inj=b.cJS({providers:[ie]}),ce})()},9126:(dt,Le,G)=>{"use strict";G.d(Le,{q4:()=>Y,iC:()=>Se,f6:()=>xt,HU:()=>Ke,cc:()=>ne});var b=G(3018);(0,G(5452).registerVersion)("firebase","9.0.1","app");var ve=G(7771),de=G(3637),Ce=G(3342),he=G(309),se=G(3101);dt=G.hmd(dt);const Y=new b.GfV("7.0.3"),te=!!dt.hot,ie=(Ae,...me)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Ae](...me)};function ne(Ae,me,Ye,gt,Vt){const[,yt,kt]=globalThis.\u0275AngularfireInstanceCache.find(_n=>_n[0]===Ae)||[];if(yt)return function(Ae,me){try{return Ae.toString()===me.toString()}catch(Ye){return Ae===me}}(Vt,kt)||(ie("error",`${me} was already initialized on the ${Ye} Firebase App with different settings.${te?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:Vt,was:kt})),yt;{const _n=gt();return globalThis.\u0275AngularfireInstanceCache.push([Ae,_n,Vt]),_n}}function Xe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class je{constructor(me,Ye=ve.N){this.zone=me,this.delegate=Ye}now(){return this.delegate.now()}schedule(me,Ye,gt){const Vt=this.zone;return this.delegate.schedule(function(kt){Vt.runGuarded(()=>{me.apply(this,[kt])})},Ye,gt)}}class Ze{constructor(me){this.zone=me,this.task=null}call(me,Ye){const gt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xe,{},Xe,Xe)),Ye.pipe((0,Ce.b)({next:gt,complete:gt,error:gt})).subscribe(me).add(gt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class Ae{constructor(Ye){this.ngZone=Ye,this.outsideAngular=Ye.runOutsideAngular(()=>new je(Zone.current)),this.insideAngular=Ye.run(()=>new je(Zone.current,de.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ae.\u0275fac=function(Ye){return new(Ye||Ae)(b.LFG(b.R0b))},Ae.\u0275prov=b.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function Be(){const Ae=globalThis.\u0275AngularFireScheduler;if(!Ae)throw new Error("AngularFireModule has not been provided");return Ae}function xt(Ae){return Ae.pipe((0,he.QV)(Be().insideAngular))}function Se(Ae){return Be(),function(Ae){return function(Ye){return(Ye=Ye.lift(new Ze(Ae.ngZone))).pipe((0,se.R)(Ae.outsideAngular),(0,he.QV)(Ae.insideAngular))}}(Be())(Ae)}},665:(dt,Le,G)=>{"use strict";G.d(Le,{Fj:()=>Xe,qu:()=>qo,u:()=>ms,sg:()=>yr,u5:()=>hi,JJ:()=>fs,JL:()=>Di,On:()=>Ar,wV:()=>fn,UX:()=>Ja,Q7:()=>ts,kI:()=>Oe,_Y:()=>ot});var b=G(3018),A=G(8583),ee=G(7574),ye=G(9796),ve=G(8002),de=G(1555),Ce=G(4402);function se(F,O){return new ee.y(x=>{const H=F.length;if(0===H)return void x.complete();const Ve=new Array(H);let lt=0,tn=0;for(let Lr=0;Lr<H;Lr++){const xr=(0,Ce.D)(F[Lr]);let Bs=!1;x.add(xr.subscribe({next:zn=>{Bs||(Bs=!0,tn++),Ve[Lr]=zn},error:zn=>x.error(zn),complete:()=>{lt++,(lt===H||!Bs)&&(tn===H&&x.next(O?O.reduce((zn,Co,P)=>(zn[Co]=Ve[P],zn),{}):Ve),x.complete())}}))}})}let Y=(()=>{class F{constructor(x,H){this._renderer=x,this._elementRef=H,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(x,H){this._renderer.setProperty(this._elementRef.nativeElement,x,H)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(b.Qsj),b.Y36(b.SBq))},F.\u0275dir=b.lG2({type:F}),F})(),te=(()=>{class F extends Y{}return F.\u0275fac=function(){let O;return function(H){return(O||(O=b.n5z(F)))(H||F)}}(),F.\u0275dir=b.lG2({type:F,features:[b.qOj]}),F})();const ie=new b.OlP("NgValueAccessor"),Ne={provide:ie,useExisting:(0,b.Gpc)(()=>Xe),multi:!0},we=new b.OlP("CompositionEventMode");let Xe=(()=>{class F extends Y{constructor(x,H,Ve){super(x,H),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const F=(0,A.q)()?(0,A.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(we,8))},F.\u0275dir=b.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,H){1&x&&b.NdJ("input",function(lt){return H._handleInput(lt.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(lt){return H._compositionEnd(lt.target.value)})},features:[b._Bn([Ne]),b.qOj]}),F})();function je(F){return null==F||0===F.length}function Ze(F){return null!=F&&"number"==typeof F.length}const Ke=new b.OlP("NgValidators"),Be=new b.OlP("NgAsyncValidators"),it=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(O){return F=O,O=>{if(je(O.value)||je(F))return null;const x=parseFloat(O.value);return!isNaN(x)&&x<F?{min:{min:F,actual:O.value}}:null};var F}static max(O){return F=O,O=>{if(je(O.value)||je(F))return null;const x=parseFloat(O.value);return!isNaN(x)&&x>F?{max:{max:F,actual:O.value}}:null};var F}static required(O){return Se(O)}static requiredTrue(O){return!0===O.value?null:{required:!0}}static email(O){return je((F=O).value)||it.test(F.value)?null:{email:!0};var F}static minLength(O){return F=O,O=>je(O.value)||!Ze(O.value)?null:O.value.length<F?{minlength:{requiredLength:F,actualLength:O.value.length}}:null;var F}static maxLength(O){return F=O,O=>Ze(O.value)&&O.value.length>F?{maxlength:{requiredLength:F,actualLength:O.value.length}}:null;var F}static pattern(O){return function(F){if(!F)return Ye;let O,x;return"string"==typeof F?(x="","^"!==F.charAt(0)&&(x+="^"),x+=F,"$"!==F.charAt(F.length-1)&&(x+="$"),O=new RegExp(x)):(x=F.toString(),O=F),H=>{if(je(H.value))return null;const Ve=H.value;return O.test(Ve)?null:{pattern:{requiredPattern:x,actualValue:Ve}}}}(O)}static nullValidator(O){return null}static compose(O){return ui(O)}static composeAsync(O){return Ut(O)}}function Se(F){return je(F.value)?{required:!0}:null}function Ye(F){return null}function gt(F){return null!=F}function Vt(F){const O=(0,b.QGY)(F)?(0,Ce.D)(F):F;return(0,b.CqO)(O),O}function yt(F){let O={};return F.forEach(x=>{O=null!=x?Object.assign(Object.assign({},O),x):O}),0===Object.keys(O).length?null:O}function kt(F,O){return O.map(x=>x(F))}function Gn(F){return F.map(O=>function(F){return!F.validate}(O)?O:x=>O.validate(x))}function ui(F){if(!F)return null;const O=F.filter(gt);return 0==O.length?null:function(x){return yt(kt(x,O))}}function vn(F){return null!=F?ui(Gn(F)):null}function Ut(F){if(!F)return null;const O=F.filter(gt);return 0==O.length?null:function(x){return function(...F){if(1===F.length){const O=F[0];if((0,ye.k)(O))return se(O,null);if((0,de.K)(O)&&Object.getPrototypeOf(O)===Object.prototype){const x=Object.keys(O);return se(x.map(H=>O[H]),x)}}if("function"==typeof F[F.length-1]){const O=F.pop();return se(F=1===F.length&&(0,ye.k)(F[0])?F[0]:F,null).pipe((0,ve.U)(x=>O(...x)))}return se(F,null)}(kt(x,O).map(Vt)).pipe((0,ve.U)(yt))}}function Gt(F){return null!=F?Ut(Gn(F)):null}function fr(F,O){return null===F?[O]:Array.isArray(F)?[...F,O]:[F,O]}function cn(F){return F._rawValidators}function Vn(F){return F._rawAsyncValidators}let En=(()=>{class F{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,H){return!!this.control&&this.control.hasError(x,H)}getError(x,H){return this.control?this.control.getError(x,H):null}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275dir=b.lG2({type:F}),F})(),ar=(()=>{class F extends En{get formDirective(){return null}get path(){return null}}return F.\u0275fac=function(){let O;return function(H){return(O||(O=b.n5z(F)))(H||F)}}(),F.\u0275dir=b.lG2({type:F,features:[b.qOj]}),F})();class pr extends En{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Un{constructor(O){this._cd=O}is(O){var x,H;return!!(null===(H=null===(x=this._cd)||void 0===x?void 0:x.control)||void 0===H?void 0:H[O])}}let fs=(()=>{class F extends Un{constructor(x){super(x)}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(pr,2))},F.\u0275dir=b.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,H){2&x&&b.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[b.qOj]}),F})(),Di=(()=>{class F extends Un{constructor(x){super(x)}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(ar,10))},F.\u0275dir=b.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(x,H){2&x&&b.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[b.qOj]}),F})();function Yn(F,O){return[...O.path,F]}function gr(F,O){wn(F,O),O.valueAccessor.writeValue(F.value),function(F,O){O.valueAccessor.registerOnChange(x=>{F._pendingValue=x,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&ft(F,O)})}(F,O),function(F,O){const x=(H,Ve)=>{O.valueAccessor.writeValue(H),Ve&&O.viewToModelUpdate(H)};F.registerOnChange(x),O._registerOnDestroy(()=>{F._unregisterOnChange(x)})}(F,O),function(F,O){O.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&ft(F,O),"submit"!==F.updateOn&&F.markAsTouched()})}(F,O),function(F,O){if(O.valueAccessor.setDisabledState){const x=H=>{O.valueAccessor.setDisabledState(H)};F.registerOnDisabledChange(x),O._registerOnDestroy(()=>{F._unregisterOnDisabledChange(x)})}}(F,O)}function Ot(F,O,x=!0){const H=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(H),O.valueAccessor.registerOnTouched(H)),Nn(F,O),F&&(O._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function We(F,O){F.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(O)})}function wn(F,O){const x=cn(F);null!==O.validator?F.setValidators(fr(x,O.validator)):"function"==typeof x&&F.setValidators([x]);const H=Vn(F);null!==O.asyncValidator?F.setAsyncValidators(fr(H,O.asyncValidator)):"function"==typeof H&&F.setAsyncValidators([H]);const Ve=()=>F.updateValueAndValidity();We(O._rawValidators,Ve),We(O._rawAsyncValidators,Ve)}function Nn(F,O){let x=!1;if(null!==F){if(null!==O.validator){const Ve=cn(F);if(Array.isArray(Ve)&&Ve.length>0){const lt=Ve.filter(tn=>tn!==O.validator);lt.length!==Ve.length&&(x=!0,F.setValidators(lt))}}if(null!==O.asyncValidator){const Ve=Vn(F);if(Array.isArray(Ve)&&Ve.length>0){const lt=Ve.filter(tn=>tn!==O.asyncValidator);lt.length!==Ve.length&&(x=!0,F.setAsyncValidators(lt))}}}const H=()=>{};return We(O._rawValidators,H),We(O._rawAsyncValidators,H),x}function ft(F,O){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Ft(F,O){if(!F.hasOwnProperty("model"))return!1;const x=F.model;return!!x.isFirstChange()||!Object.is(O,x.currentValue)}function Q(F,O){if(!O)return null;let x,H,Ve;return Array.isArray(O),O.forEach(lt=>{lt.constructor===Xe?x=lt:function(F){return Object.getPrototypeOf(F.constructor)===te}(lt)?H=lt:Ve=lt}),Ve||H||x||null}function _e(F,O){const x=F.indexOf(O);x>-1&&F.splice(x,1)}const ge="VALID",$e="INVALID",ut="PENDING",Zt="DISABLED";function Bt(F){return(Ai(F)?F.validators:F)||null}function Wn(F){return Array.isArray(F)?vn(F):F||null}function jt(F,O){return(Ai(O)?O.asyncValidators:F)||null}function gn(F){return Array.isArray(F)?Gt(F):F||null}function Ai(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class Xi{constructor(O,x){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=x,this._composedValidatorFn=Wn(this._rawValidators),this._composedAsyncValidatorFn=gn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===ge}get invalid(){return this.status===$e}get pending(){return this.status==ut}get disabled(){return this.status===Zt}get enabled(){return this.status!==Zt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=Wn(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=gn(O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=ut,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=Zt,this.errors=null,this._forEachChild(H=>{H.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:x})),this._onDisabledChange.forEach(H=>H(!0))}enable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=ge,this._forEachChild(H=>{H.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:x})),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ge||this.status===ut)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zt:ge}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=ut,this._hasOwnPendingAsyncValidator=!0;const x=Vt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,x={}){this.errors=O,this._updateControlsErrors(!1!==x.emitEvent)}get(O){return function(F,O,x){if(null==O||(Array.isArray(O)||(O=O.split(".")),Array.isArray(O)&&0===O.length))return null;let H=F;return O.forEach(Ve=>{H=H instanceof li?H.controls.hasOwnProperty(Ve)?H.controls[Ve]:null:H instanceof no&&H.at(Ve)||null}),H}(this,O)}getError(O,x){const H=x?this.get(x):this;return H&&H.errors?H.errors[O]:null}hasError(O,x){return!!this.getError(O,x)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Zt:this.errors?$e:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ut)?ut:this._anyControlsHaveStatus($e)?$e:ge}_anyControlsHaveStatus(O){return this._anyControls(x=>x.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Ai(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ps extends Xi{constructor(O=null,x,H){super(Bt(x),jt(H,x)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,x={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(O,x={}){this.setValue(O,x)}reset(O=null,x={}){this._applyFormState(O),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){_e(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){_e(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class li extends Xi{constructor(O,x,H){super(Bt(x),jt(H,x)),this.controls=O,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,x){return this.controls[O]?this.controls[O]:(this.controls[O]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(O,x,H={}){this.registerControl(O,x),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(O,x={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(O,x,H={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],x&&this.registerControl(O,x),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,x={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(H=>{this._throwIfControlMissing(H),this.controls[H].setValue(O[H],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(O,x={}){null!=O&&(Object.keys(O).forEach(H=>{this.controls[H]&&this.controls[H].patchValue(O[H],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(O={},x={}){this._forEachChild((H,Ve)=>{H.reset(O[Ve],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(O,x,H)=>(O[H]=x instanceof ps?x.value:x.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(x,H)=>!!H._syncPendingControls()||x);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(x=>{const H=this.controls[x];H&&O(H,x)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const x of Object.keys(this.controls)){const H=this.controls[x];if(this.contains(x)&&O(H))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,x,H)=>((x.enabled||this.disabled)&&(O[H]=x.value),O))}_reduceChildren(O,x){let H=O;return this._forEachChild((Ve,lt)=>{H=x(H,Ve,lt)}),H}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((x,H)=>{if(void 0===O[H])throw new Error(`Must supply a value for form control with name: '${H}'.`)})}}class no extends Xi{constructor(O,x,H){super(Bt(x),jt(H,x)),this.controls=O,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,x={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(O,x,H={}){this.controls.splice(O,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(O,x={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(O,x,H={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),x&&(this.controls.splice(O,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,x={}){this._checkAllValuesPresent(O),O.forEach((H,Ve)=>{this._throwIfControlMissing(Ve),this.at(Ve).setValue(H,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(O,x={}){null!=O&&(O.forEach((H,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(H,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(O=[],x={}){this._forEachChild((H,Ve)=>{H.reset(O[Ve],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(O=>O instanceof ps?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((x,H)=>!!H._syncPendingControls()||x,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((x,H)=>{O(x,H)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(x=>x.enabled&&O(x))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((x,H)=>{if(void 0===O[H])throw new Error(`Must supply a value for form control at index: ${H}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const Ps={provide:pr,useExisting:(0,b.Gpc)(()=>Ar)},$o=(()=>Promise.resolve(null))();let Ar=(()=>{class F extends pr{constructor(x,H,Ve,lt){super(),this.control=new ps,this._registered=!1,this.update=new b.vpe,this._parent=x,this._setValidators(H),this._setAsyncValidators(Ve),this.valueAccessor=Q(0,lt)}ngOnChanges(x){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in x&&this._updateDisabled(x),Ft(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Yn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){$o.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1})})}_updateDisabled(x){const H=x.isDisabled.currentValue,Ve=""===H||H&&"false"!==H;$o.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable()})}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(ar,9),b.Y36(Ke,10),b.Y36(Be,10),b.Y36(ie,10))},F.\u0275dir=b.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([Ps]),b.qOj,b.TTD]}),F})(),ot=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275dir=b.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const qt={provide:ie,useExisting:(0,b.Gpc)(()=>fn),multi:!0};let fn=(()=>{class F extends te{writeValue(x){this.setProperty("value",null==x?"":x)}registerOnChange(x){this.onChange=H=>{x(""==H?null:parseFloat(H))}}}return F.\u0275fac=function(){let O;return function(H){return(O||(O=b.n5z(F)))(H||F)}}(),F.\u0275dir=b.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,H){1&x&&b.NdJ("input",function(lt){return H.onChange(lt.target.value)})("blur",function(){return H.onTouched()})},features:[b._Bn([qt]),b.qOj]}),F})(),Pn=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=b.oAB({type:F}),F.\u0275inj=b.cJS({}),F})();const It=new b.OlP("NgModelWithFormControlWarning"),gs={provide:ar,useExisting:(0,b.Gpc)(()=>yr)};let yr=(()=>{class F extends ar{constructor(x,H){super(),this.validators=x,this.asyncValidators=H,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(x),this._setAsyncValidators(H)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const H=this.form.get(x.path);return gr(H,x),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),H}getControl(x){return this.form.get(x.path)}removeControl(x){Ot(x.control||null,x,!1),_e(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,H){this.form.get(x.path).setValue(H)}onSubmit(x){return this.submitted=!0,function(F,O){F._syncPendingControls(),O.forEach(x=>{const H=x.control;"submit"===H.updateOn&&H._pendingChange&&(x.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const H=x.control,Ve=this.form.get(x.path);H!==Ve&&(Ot(H||null,x),Ve instanceof ps&&(gr(Ve,x),x.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const H=this.form.get(x.path);(function(F,O){wn(F,O)})(H,x),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const H=this.form.get(x.path);H&&function(F,O){return Nn(F,O)}(H,x)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wn(this.form,this),this._oldForm&&Nn(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(Ke,10),b.Y36(Be,10))},F.\u0275dir=b.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(x,H){1&x&&b.NdJ("submit",function(lt){return H.onSubmit(lt)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([gs]),b.qOj,b.TTD]}),F})();const ks={provide:pr,useExisting:(0,b.Gpc)(()=>ms)};let ms=(()=>{class F extends pr{constructor(x,H,Ve,lt,tn){super(),this._ngModelWarningConfig=tn,this._added=!1,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(H),this._setAsyncValidators(Ve),this.valueAccessor=Q(0,lt)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),Ft(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F.\u0275fac=function(x){return new(x||F)(b.Y36(ar,13),b.Y36(Ke,10),b.Y36(Be,10),b.Y36(ie,10),b.Y36(It,8))},F.\u0275dir=b.lG2({type:F,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([ks]),b.qOj,b.TTD]}),F._ngModelWarningSentOnce=!1,F})();const At={provide:Ke,useExisting:(0,b.Gpc)(()=>ts),multi:!0};let ts=(()=>{class F{constructor(){this._required=!1}get required(){return this._required}set required(x){this._required=null!=x&&!1!==x&&"false"!=`${x}`,this._onChange&&this._onChange()}validate(x){return this.required?Se(x):null}registerOnValidatorChange(x){this._onChange=x}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275dir=b.lG2({type:F,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,H){2&x&&b.uIk("required",H.required?"":null)},inputs:{required:"required"},features:[b._Bn([At])]}),F})(),io=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=b.oAB({type:F}),F.\u0275inj=b.cJS({imports:[[Pn]]}),F})(),hi=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=b.oAB({type:F}),F.\u0275inj=b.cJS({imports:[io]}),F})(),Ja=(()=>{class F{static withConfig(x){return{ngModule:F,providers:[{provide:It,useValue:x.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=b.oAB({type:F}),F.\u0275inj=b.cJS({imports:[io]}),F})(),qo=(()=>{class F{group(x,H=null){const Ve=this._reduceControls(x);let Lr,lt=null,tn=null;return null!=H&&(function(F){return void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn}(H)?(lt=null!=H.validators?H.validators:null,tn=null!=H.asyncValidators?H.asyncValidators:null,Lr=null!=H.updateOn?H.updateOn:void 0):(lt=null!=H.validator?H.validator:null,tn=null!=H.asyncValidator?H.asyncValidator:null)),new li(Ve,{asyncValidators:tn,updateOn:Lr,validators:lt})}control(x,H,Ve){return new ps(x,H,Ve)}array(x,H,Ve){const lt=x.map(tn=>this._createControl(tn));return new no(lt,H,Ve)}_reduceControls(x){const H={};return Object.keys(x).forEach(Ve=>{H[Ve]=this._createControl(x[Ve])}),H}_createControl(x){return x instanceof ps||x instanceof li||x instanceof no?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275prov=(0,b.Yz7)({factory:function(){return new F},token:F,providedIn:Ja}),F})()},6575:(dt,Le,G)=>{"use strict";G.d(Le,{gz:()=>cr,F0:()=>ni,rH:()=>mi,yS:()=>au,Bz:()=>Gs,lC:()=>To});var b=G(8583),A=G(3018),ee=G(9765),ye=G(7971);class ve extends ee.xQ{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const w=super._subscribe(I);return w&&!w.closed&&I.next(this._value),w}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ye.N;return this._value}next(I){super.next(this._value=I)}}var de=G(4869),Ce=G(9796),he=G(7393);class se extends he.L{notifyNext(I,w,R,L,$){this.destination.next(w)}notifyError(I,w){this.destination.error(I)}notifyComplete(I){this.destination.complete()}}class Y extends he.L{constructor(I,w,R){super(),this.parent=I,this.outerValue=w,this.outerIndex=R,this.index=0}_next(I){this.parent.notifyNext(this.outerValue,I,this.outerIndex,this.index++,this)}_error(I){this.parent.notifyError(I,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var te=G(7444),ie=G(7574);function ne(S,I,w,R,L=new Y(S,w,R)){if(!L.closed)return I instanceof ie.y?I.subscribe(L):(0,te.s)(I)(L)}var ce=G(6693);const Ne={};class we{constructor(I){this.resultSelector=I}call(I,w){return w.subscribe(new Xe(I,this.resultSelector))}}class Xe extends se{constructor(I,w){super(I),this.resultSelector=w,this.active=0,this.values=[],this.observables=[]}_next(I){this.values.push(Ne),this.observables.push(I)}_complete(){const I=this.observables,w=I.length;if(0===w)this.destination.complete();else{this.active=w,this.toRespond=w;for(let R=0;R<w;R++)this.add(ne(this,I[R],void 0,R))}}notifyComplete(I){0==(this.active-=1)&&this.destination.complete()}notifyNext(I,w,R){const L=this.values,X=this.toRespond?L[R]===Ne?--this.toRespond:this.toRespond:0;L[R]=w,0===X&&(this.resultSelector?this._tryResultSelector(L):this.destination.next(L.slice()))}_tryResultSelector(I){let w;try{w=this.resultSelector.apply(this,I)}catch(R){return void this.destination.error(R)}this.destination.next(w)}}var je=G(4402),Ze=G(9193);function Ke(S){return new ie.y(I=>{let w;try{w=S()}catch(L){return void I.error(L)}return(w?(0,je.D)(w):(0,Ze.c)()).subscribe(I)})}var Be=G(5917),it=G(3410),Oe=G(8071),rn=G(2441),xt=G(5345);function Se(S){return function(w){const R=new De(S),L=w.lift(R);return R.caught=L}}class De{constructor(I){this.selector=I}call(I,w){return w.subscribe(new xe(I,this.selector,this.caught))}}class xe extends xt.Ds{constructor(I,w,R){super(I),this.selector=w,this.caught=R}error(I){if(!this.isStopped){let w;try{w=this.selector(I,this.caught)}catch($){return void super.error($)}this._unsubscribeAndRecycle();const R=new xt.IY(this);this.add(R);const L=(0,xt.ft)(w,R);L!==R&&this.add(L)}}}var Te=G(9773);function Ae(S,I){return(0,Te.zg)(S,I,1)}var me=G(5435),Ye=G(7108);function gt(S){return function(w){return 0===S?(0,Ze.c)():w.lift(new Vt(S))}}class Vt{constructor(I){if(this.total=I,this.total<0)throw new Ye.W}call(I,w){return w.subscribe(new yt(I,this.total))}}class yt extends he.L{constructor(I,w){super(I),this.total=w,this.ring=new Array,this.count=0}_next(I){const w=this.ring,R=this.total,L=this.count++;w.length<R?w.push(I):w[L%R]=I}_complete(){const I=this.destination;let w=this.count;if(w>0){const R=this.count>=this.total?this.total:this.count,L=this.ring;for(let $=0;$<R;$++){const X=w++%R;I.next(L[X])}}I.complete()}}var kt=G(4635),_n=G(5242),Gn=G(4487),vn=G(5319);class Gt{constructor(I){this.callback=I}call(I,w){return w.subscribe(new fr(I,this.callback))}}class fr extends he.L{constructor(I,w){super(I),this.add(new vn.w(w))}}var cn=G(8002),Vn=G(3190),En=G(5257),ar=G(9761),pr=G(2145),Un=G(8049),ur=G(3342),fs=G(1307),Di=G(3282);class pn{constructor(I,w){this.id=I,this.url=w}}class jn extends pn{constructor(I,w,R="imperative",L=null){super(I,w),this.navigationTrigger=R,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yn extends pn{constructor(I,w,R){super(I,w),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gr extends pn{constructor(I,w,R){super(I,w),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ot extends pn{constructor(I,w,R){super(I,w),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class We extends pn{constructor(I,w,R,L){super(I,w),this.urlAfterRedirects=R,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends pn{constructor(I,w,R,L){super(I,w),this.urlAfterRedirects=R,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends pn{constructor(I,w,R,L,$){super(I,w),this.urlAfterRedirects=R,this.state=L,this.shouldActivate=$}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nn extends pn{constructor(I,w,R,L){super(I,w),this.urlAfterRedirects=R,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends pn{constructor(I,w,R,L){super(I,w),this.urlAfterRedirects=R,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ht{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ft{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tr{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(I,w,R){this.routerEvent=I,this.position=w,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class On{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w[0]:w}return null}getAll(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function ae(S){return new On(S)}const Q="ngNavigationCancelingError";function _e(S){const I=Error("NavigationCancelingError: "+S);return I[Q]=!0,I}function ge(S,I,w){const R=w.path.split("/");if(R.length>S.length||"full"===w.pathMatch&&(I.hasChildren()||R.length<S.length))return null;const L={};for(let $=0;$<R.length;$++){const X=R[$],ue=S[$];if(X.startsWith(":"))L[X.substring(1)]=ue;else if(X!==ue.path)return null}return{consumed:S.slice(0,R.length),posParams:L}}function ut(S,I){const w=S?Object.keys(S):void 0,R=I?Object.keys(I):void 0;if(!w||!R||w.length!=R.length)return!1;let L;for(let $=0;$<w.length;$++)if(L=w[$],!Zt(S[L],I[L]))return!1;return!0}function Zt(S,I){if(Array.isArray(S)&&Array.isArray(I)){if(S.length!==I.length)return!1;const w=[...S].sort(),R=[...I].sort();return w.every((L,$)=>R[$]===L)}return S===I}function Yt(S){return Array.prototype.concat.apply([],S)}function Bt(S){return S.length>0?S[S.length-1]:null}function jt(S,I){for(const w in S)S.hasOwnProperty(w)&&I(S[w],w)}function gn(S){return(0,A.CqO)(S)?S:(0,A.QGY)(S)?(0,je.D)(Promise.resolve(S)):(0,Be.of)(S)}const Xi={exact:function Ho(S,I,w){if(!en(S.segments,I.segments)||!Os(S.segments,I.segments,w)||S.numberOfChildren!==I.numberOfChildren)return!1;for(const R in I.children)if(!S.children[R]||!Ho(S.children[R],I.children[R],w))return!1;return!0},subset:mr},ps={exact:function(S,I){return ut(S,I)},subset:function(S,I){return Object.keys(I).length<=Object.keys(S).length&&Object.keys(I).every(w=>Zt(S[w],I[w]))},ignored:()=>!0};function li(S,I,w){return Xi[w.paths](S.root,I.root,w.matrixParams)&&ps[w.queryParams](S.queryParams,I.queryParams)&&!("exact"===w.fragment&&S.fragment!==I.fragment)}function mr(S,I,w){return Vi(S,I,I.segments,w)}function Vi(S,I,w,R){if(S.segments.length>w.length){const L=S.segments.slice(0,w.length);return!(!en(L,w)||I.hasChildren()||!Os(L,w,R))}if(S.segments.length===w.length){if(!en(S.segments,w)||!Os(S.segments,w,R))return!1;for(const L in I.children)if(!S.children[L]||!mr(S.children[L],I.children[L],R))return!1;return!0}{const L=w.slice(0,S.segments.length),$=w.slice(S.segments.length);return!!(en(S.segments,L)&&Os(S.segments,L,R)&&S.children[Ft])&&Vi(S.children[Ft],I,$,R)}}function Os(S,I,w){return I.every((R,L)=>ps[w](S[L].parameters,R.parameters))}class Si{constructor(I,w,R){this.root=I,this.queryParams=w,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ae(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Ct{constructor(I,w){this.segments=I,this.children=w,this.parent=null,jt(w,(R,L)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class Fr{constructor(I,w){this.path=I,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=ae(this.parameters)),this._parameterMap}toString(){return It(this)}}function en(S,I){return S.length===I.length&&S.every((w,R)=>w.path===I[R].path)}class Ar{}class ot{parse(I){const w=new mn(I);return new Si(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(I){var S;return`${`/${br(I.root,!0)}`}${function(S){const I=Object.keys(S).map(w=>{const R=S[w];return Array.isArray(R)?R.map(L=>`${Pn(w)}=${Pn(L)}`).join("&"):`${Pn(w)}=${Pn(R)}`}).filter(w=>!!w);return I.length?`?${I.join("&")}`:""}(I.queryParams)}${"string"==typeof I.fragment?`#${S=I.fragment,encodeURI(S)}`:""}`}}const qt=new ot;function fn(S){return S.segments.map(I=>It(I)).join("/")}function br(S,I){if(!S.hasChildren())return fn(S);if(I){const w=S.children[Ft]?br(S.children[Ft],!1):"",R=[];return jt(S.children,(L,$)=>{$!==Ft&&R.push(`${$}:${br(L,!1)}`)}),R.length>0?`${w}(${R.join("//")})`:w}{const w=function(S,I){let w=[];return jt(S.children,(R,L)=>{L===Ft&&(w=w.concat(I(R,L)))}),jt(S.children,(R,L)=>{L!==Ft&&(w=w.concat(I(R,L)))}),w}(S,(R,L)=>L===Ft?[br(S.children[Ft],!1)]:[`${L}:${br(R,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ft]?`${fn(S)}/${w[0]}`:`${fn(S)}/(${w.join("//")})`}}function Jr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pn(S){return Jr(S).replace(/%3B/gi,";")}function bn(S){return Jr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xr(S){return decodeURIComponent(S)}function ei(S){return Xr(S.replace(/\+/g,"%20"))}function It(S){return`${bn(S.path)}${function(S){return Object.keys(S).map(I=>`;${bn(I)}=${bn(S[I])}`).join("")}(S.parameters)}`}const gs=/^[^\/()?;=#]+/;function yr(S){const I=S.match(gs);return I?I[0]:""}const Sr=/^[^=?&#]+/,Xn=/^[^?&#]+/;class mn{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(I.length>0||Object.keys(w).length>0)&&(R[Ft]=new Ct(I,w)),R}parseSegment(){const I=yr(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new Fr(Xr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const w=yr(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const L=yr(this.remaining);L&&(R=L,this.capture(R))}I[Xr(w)]=Xr(R)}parseQueryParam(I){const w=function(S){const I=S.match(Sr);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const X=function(S){const I=S.match(Xn);return I?I[0]:""}(this.remaining);X&&(R=X,this.capture(R))}const L=ei(w),$=ei(R);if(I.hasOwnProperty(L)){let X=I[L];Array.isArray(X)||(X=[X],I[L]=X),X.push($)}else I[L]=$}parseParens(I){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=yr(this.remaining),L=this.remaining[R.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let $;R.indexOf(":")>-1?($=R.substr(0,R.indexOf(":")),this.capture($),this.capture(":")):I&&($=Ft);const X=this.parseChildren();w[$]=1===Object.keys(X).length?X[Ft]:new Ct([],X),this.consumeOptional("//")}return w}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class ks{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const w=this.pathFromRoot(I);return w.length>1?w[w.length-2]:null}children(I){const w=ms(I,this._root);return w?w.children.map(R=>R.value):[]}firstChild(I){const w=ms(I,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(I){const w=xi(I,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==I)}pathFromRoot(I){return xi(I,this._root).map(w=>w.value)}}function ms(S,I){if(S===I.value)return I;for(const w of I.children){const R=ms(S,w);if(R)return R}return null}function xi(S,I){if(S===I.value)return[I];for(const w of I.children){const R=xi(S,w);if(R.length)return R.unshift(I),R}return[]}class vr{constructor(I,w){this.value=I,this.children=w}toString(){return`TreeNode(${this.value})`}}function lr(S){const I={};return S&&S.children.forEach(w=>I[w.value.outlet]=w),I}class ys extends ks{constructor(I,w){super(I),this.snapshot=w,Bi(this,I)}toString(){return this.snapshot.toString()}}function Ri(S,I){const w=function(S,I){const X=new Rt([],{},{},"",{},Ft,I,null,S.root,-1,{});return new _s("",new vr(X,[]))}(S,I),R=new ve([new Fr("",{})]),L=new ve({}),$=new ve({}),X=new ve({}),ue=new ve(""),He=new cr(R,L,X,ue,$,Ft,I,w.root);return He.snapshot=w.root,new ys(new vr(He,[]),w)}class cr{constructor(I,w,R,L,$,X,ue,He){this.url=I,this.params=w,this.queryParams=R,this.fragment=L,this.data=$,this.outlet=X,this.component=ue,this._futureSnapshot=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,cn.U)(I=>ae(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,cn.U)(I=>ae(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jr(S,I="emptyOnly"){const w=S.pathFromRoot;let R=0;if("always"!==I)for(R=w.length-1;R>=1;){const L=w[R],$=w[R-1];if(L.routeConfig&&""===L.routeConfig.path)R--;else{if($.component)break;R--}}return function(S){return S.reduce((I,w)=>({params:Object.assign(Object.assign({},I.params),w.params),data:Object.assign(Object.assign({},I.data),w.data),resolve:Object.assign(Object.assign({},I.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(R))}class Rt{constructor(I,w,R,L,$,X,ue,He,pt,Dt,Wt){this.url=I,this.params=w,this.queryParams=R,this.fragment=L,this.data=$,this.outlet=X,this.component=ue,this.routeConfig=He,this._urlSegment=pt,this._lastPathIndex=Dt,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ae(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ae(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends ks{constructor(I,w){super(w),this.url=I,Bi(this,w)}toString(){return Hr(this._root)}}function Bi(S,I){I.value._routerState=S,I.children.forEach(w=>Bi(S,w))}function Hr(S){const I=S.children.length>0?` { ${S.children.map(Hr).join(", ")} } `:"";return`${S.value}${I}`}function Fs(S){if(S.snapshot){const I=S.snapshot,w=S._futureSnapshot;S.snapshot=w,ut(I.queryParams,w.queryParams)||S.queryParams.next(w.queryParams),I.fragment!==w.fragment&&S.fragment.next(w.fragment),ut(I.params,w.params)||S.params.next(w.params),function(S,I){if(S.length!==I.length)return!1;for(let w=0;w<S.length;++w)if(!ut(S[w],I[w]))return!1;return!0}(I.url,w.url)||S.url.next(w.url),ut(I.data,w.data)||S.data.next(w.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function ct(S,I){return ut(S.params,I.params)&&function(S,I){return en(S,I)&&S.every((w,R)=>ut(w.parameters,I[R].parameters))}(S.url,I.url)&&!(!S.parent!=!I.parent)&&(!S.parent||ct(S.parent,I.parent))}function At(S,I,w){if(w&&S.shouldReuseRoute(I.value,w.value.snapshot)){const R=w.value;R._futureSnapshot=I.value;const L=function(S,I,w){return I.children.map(R=>{for(const L of w.children)if(S.shouldReuseRoute(R.value,L.value.snapshot))return At(S,R,L);return At(S,R)})}(S,I,w);return new vr(R,L)}{if(S.shouldAttach(I.value)){const $=S.retrieve(I.value);if(null!==$){const X=$.route;return ro(I,X),X}}const R=function(S){return new cr(new ve(S.url),new ve(S.params),new ve(S.queryParams),new ve(S.fragment),new ve(S.data),S.outlet,S.component,S)}(I.value),L=I.children.map($=>At(S,$));return new vr(R,L)}}function ro(S,I){if(S.value.routeConfig!==I.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(S.children.length!==I.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");I.value._futureSnapshot=S.value;for(let w=0;w<S.children.length;++w)ro(S.children[w],I.children[w])}function Vs(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function ns(S){return"object"==typeof S&&null!=S&&S.outlets}function Ca(S,I,w,R,L){let $={};return R&&jt(R,(X,ue)=>{$[ue]=Array.isArray(X)?X.map(He=>`${He}`):`${X}`}),new Si(w.root===S?I:Go(w.root,S,I),$,L)}function Go(S,I,w){const R={};return jt(S.children,(L,$)=>{R[$]=L===I?w:Go(L,I,w)}),new Ct(S.segments,R)}class xn{constructor(I,w,R){if(this.isAbsolute=I,this.numberOfDoubleDots=w,this.commands=R,I&&R.length>0&&Vs(R[0]))throw new Error("Root segment cannot have matrix parameters");const L=R.find(ns);if(L&&L!==Bt(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kn{constructor(I,w,R){this.segmentGroup=I,this.processChildren=w,this.index=R}}function io(S,I,w){if(S||(S=new Ct([],{})),0===S.segments.length&&S.hasChildren())return hi(S,I,w);const R=function(S,I,w){let R=0,L=I;const $={match:!1,pathIndex:0,commandIndex:0};for(;L<S.segments.length;){if(R>=w.length)return $;const X=S.segments[L],ue=w[R];if(ns(ue))break;const He=`${ue}`,pt=R<w.length-1?w[R+1]:null;if(L>0&&void 0===He)break;if(He&&pt&&"object"==typeof pt&&void 0===pt.outlets){if(!F(He,pt,X))return $;R+=2}else{if(!F(He,{},X))return $;R++}L++}return{match:!0,pathIndex:L,commandIndex:R}}(S,I,w),L=w.slice(R.commandIndex);if(R.match&&R.pathIndex<S.segments.length){const $=new Ct(S.segments.slice(0,R.pathIndex),{});return $.children[Ft]=new Ct(S.segments.slice(R.pathIndex),S.children),hi($,0,L)}return R.match&&0===L.length?new Ct(S.segments,{}):R.match&&!S.hasChildren()?Us(S,I,w):R.match?hi(S,0,L):Us(S,I,w)}function hi(S,I,w){if(0===w.length)return new Ct(S.segments,{});{const R=function(S){return ns(S[0])?S[0].outlets:{[Ft]:S}}(w),L={};return jt(R,($,X)=>{"string"==typeof $&&($=[$]),null!==$&&(L[X]=io(S.children[X],I,$))}),jt(S.children,($,X)=>{void 0===R[X]&&(L[X]=$)}),new Ct(S.segments,L)}}function Us(S,I,w){const R=S.segments.slice(0,I);let L=0;for(;L<w.length;){const $=w[L];if(ns($)){const He=qo($.outlets);return new Ct(R,He)}if(0===L&&Vs(w[0])){R.push(new Fr(S.segments[I].path,fi(w[0]))),L++;continue}const X=ns($)?$.outlets[Ft]:`${$}`,ue=L<w.length-1?w[L+1]:null;X&&ue&&Vs(ue)?(R.push(new Fr(X,fi(ue))),L+=2):(R.push(new Fr(X,{})),L++)}return new Ct(R,{})}function qo(S){const I={};return jt(S,(w,R)=>{"string"==typeof w&&(w=[w]),null!==w&&(I[R]=Us(new Ct([],{}),0,w))}),I}function fi(S){const I={};return jt(S,(w,R)=>I[R]=`${w}`),I}function F(S,I,w){return S==w.path&&ut(I,w.parameters)}class x{constructor(I,w,R,L){this.routeReuseStrategy=I,this.futureState=w,this.currState=R,this.forwardEvent=L}activate(I){const w=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,R,I),Fs(this.futureState.root),this.activateChildRoutes(w,R,I)}deactivateChildRoutes(I,w,R){const L=lr(w);I.children.forEach($=>{const X=$.value.outlet;this.deactivateRoutes($,L[X],R),delete L[X]}),jt(L,($,X)=>{this.deactivateRouteAndItsChildren($,R)})}deactivateRoutes(I,w,R){const L=I.value,$=w?w.value:null;if(L===$)if(L.component){const X=R.getContext(L.outlet);X&&this.deactivateChildRoutes(I,w,X.children)}else this.deactivateChildRoutes(I,w,R);else $&&this.deactivateRouteAndItsChildren(w,R)}deactivateRouteAndItsChildren(I,w){this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,w):this.deactivateRouteAndOutlet(I,w)}detachAndStoreRouteSubtree(I,w){const R=w.getContext(I.value.outlet);if(R&&R.outlet){const L=R.outlet.detach(),$=R.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:L,route:I,contexts:$})}}deactivateRouteAndOutlet(I,w){const R=w.getContext(I.value.outlet),L=R&&I.value.component?R.children:w,$=lr(I);for(const X of Object.keys($))this.deactivateRouteAndItsChildren($[X],L);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(I,w,R){const L=lr(w);I.children.forEach($=>{this.activateRoutes($,L[$.value.outlet],R),this.forwardEvent(new Mn($.value.snapshot))}),I.children.length&&this.forwardEvent(new to(I.value.snapshot))}activateRoutes(I,w,R){const L=I.value,$=w?w.value:null;if(Fs(L),L===$)if(L.component){const X=R.getOrCreateContext(L.outlet);this.activateChildRoutes(I,w,X.children)}else this.activateChildRoutes(I,w,R);else if(L.component){const X=R.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ue=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),X.children.onOutletReAttached(ue.contexts),X.attachRef=ue.componentRef,X.route=ue.route.value,X.outlet&&X.outlet.attach(ue.componentRef,ue.route.value),H(ue.route)}else{const ue=function(S){for(let I=S.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(L.snapshot),He=ue?ue.module.componentFactoryResolver:null;X.attachRef=null,X.route=L,X.resolver=He,X.outlet&&X.outlet.activateWith(L,He),this.activateChildRoutes(I,null,X.children)}}else this.activateChildRoutes(I,null,R)}}function H(S){Fs(S.value),S.children.forEach(H)}class lt{constructor(I,w){this.routes=I,this.module=w}}function tn(S){return"function"==typeof S}function xr(S){return S instanceof Si}const j=Symbol("INITIAL_VALUE");function k(){return(0,Vn.w)(S=>function(...S){let I,w;return(0,de.K)(S[S.length-1])&&(w=S.pop()),"function"==typeof S[S.length-1]&&(I=S.pop()),1===S.length&&(0,Ce.k)(S[0])&&(S=S[0]),(0,ce.n)(S,w).lift(new we(I))}(S.map(I=>I.pipe((0,En.q)(1),(0,ar.O)(j)))).pipe((0,pr.R)((I,w)=>{let R=!1;return w.reduce((L,$,X)=>L!==j?L:($===j&&(R=!0),R||!1!==$&&X!==w.length-1&&!xr($)?L:$),I)},j),(0,me.h)(I=>I!==j),(0,cn.U)(I=>xr(I)?I:!0===I),(0,En.q)(1)))}let W=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275cmp=A.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,R){1&w&&A._UZ(0,"router-outlet")},directives:function(){return[To]},encapsulation:2}),S})();function oe(S,I=""){for(let w=0;w<S.length;w++){const R=S[w];Ie(R,Qe(I,R))}}function Ie(S,I){S.children&&oe(S.children,I)}function Qe(S,I){return I?S||I.path?S&&!I.path?`${S}/`:!S&&I.path?I.path:`${S}/${I.path}`:"":S}function mt(S){const I=S.children&&S.children.map(mt),w=I?Object.assign(Object.assign({},S),{children:I}):Object.assign({},S);return!w.component&&(I||w.loadChildren)&&w.outlet&&w.outlet!==Ft&&(w.component=W),w}function Ht(S){return S.outlet||Ft}function Mt(S,I){const w=S.filter(R=>Ht(R)===I);return w.push(...S.filter(R=>Ht(R)!==I)),w}const Tn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sn(S,I,w){var R;if(""===I.path)return"full"===I.pathMatch&&(S.hasChildren()||w.length>0)?Object.assign({},Tn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const $=(I.matcher||ge)(w,S,I);if(!$)return Object.assign({},Tn);const X={};jt($.posParams,(He,pt)=>{X[pt]=He.path});const ue=$.consumed.length>0?Object.assign(Object.assign({},X),$.consumed[$.consumed.length-1].parameters):X;return{matched:!0,consumedSegments:$.consumed,lastChild:$.consumed.length,parameters:ue,positionalParamSegments:null!==(R=$.posParams)&&void 0!==R?R:{}}}function Zn(S,I,w,R,L="corrected"){if(w.length>0&&function(S,I,w){return w.some(R=>on(S,I,R)&&Ht(R)!==Ft)}(S,w,R)){const X=new Ct(I,function(S,I,w,R){const L={};L[Ft]=R,R._sourceSegment=S,R._segmentIndexShift=I.length;for(const $ of w)if(""===$.path&&Ht($)!==Ft){const X=new Ct([],{});X._sourceSegment=S,X._segmentIndexShift=I.length,L[Ht($)]=X}return L}(S,I,R,new Ct(w,S.children)));return X._sourceSegment=S,X._segmentIndexShift=I.length,{segmentGroup:X,slicedSegments:[]}}if(0===w.length&&function(S,I,w){return w.some(R=>on(S,I,R))}(S,w,R)){const X=new Ct(S.segments,function(S,I,w,R,L,$){const X={};for(const ue of R)if(on(S,w,ue)&&!L[Ht(ue)]){const He=new Ct([],{});He._sourceSegment=S,He._segmentIndexShift="legacy"===$?S.segments.length:I.length,X[Ht(ue)]=He}return Object.assign(Object.assign({},L),X)}(S,I,w,R,S.children,L));return X._sourceSegment=S,X._segmentIndexShift=I.length,{segmentGroup:X,slicedSegments:w}}const $=new Ct(S.segments,S.children);return $._sourceSegment=S,$._segmentIndexShift=I.length,{segmentGroup:$,slicedSegments:w}}function on(S,I,w){return(!(S.hasChildren()||I.length>0)||"full"!==w.pathMatch)&&""===w.path}function Gr(S,I,w,R){return!!(Ht(S)===R||R!==Ft&&on(I,w,S))&&("**"===S.path||sn(I,S,w).matched)}function Wo(S,I,w){return 0===I.length&&!S.children[w]}class pi{constructor(I){this.segmentGroup=I||null}}class is{constructor(I){this.urlTree=I}}function zo(S){return new ie.y(I=>I.error(new pi(S)))}function Zo(S){return new ie.y(I=>I.error(new is(S)))}function Nt(S){return new ie.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class Nl{constructor(I,w,R,L,$){this.configLoader=w,this.urlSerializer=R,this.urlTree=L,this.config=$,this.allowRedirects=!0,this.ngModule=I.get(A.h0i)}apply(){const I=Zn(this.urlTree.root,[],[],this.config).segmentGroup,w=new Ct(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,w,Ft).pipe((0,cn.U)($=>this.createUrlTree(tu($),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Se($=>{if($ instanceof is)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof pi?this.noMatchError($):$}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,Ft).pipe((0,cn.U)(L=>this.createUrlTree(tu(L),I.queryParams,I.fragment))).pipe(Se(L=>{throw L instanceof pi?this.noMatchError(L):L}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,w,R){const L=I.segments.length>0?new Ct([],{[Ft]:I}):I;return new Si(L,w,R)}expandSegmentGroup(I,w,R,L){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(I,w,R).pipe((0,cn.U)($=>new Ct([],$))):this.expandSegment(I,R,w,R.segments,L,!0)}expandChildren(I,w,R){const L=[];for(const $ of Object.keys(R.children))"primary"===$?L.unshift($):L.push($);return(0,je.D)(L).pipe(Ae($=>{const X=R.children[$],ue=Mt(w,$);return this.expandSegmentGroup(I,ue,X,$).pipe((0,cn.U)(He=>({segment:He,outlet:$})))}),(0,pr.R)(($,X)=>($[X.outlet]=X.segment,$),{}),function(S,I){const w=arguments.length>=2;return R=>R.pipe(S?(0,me.h)((L,$)=>S(L,$,R)):Gn.y,gt(1),w?(0,_n.d)(I):(0,kt.T)(()=>new it.K))}())}expandSegment(I,w,R,L,$,X){return(0,je.D)(R).pipe(Ae(ue=>this.expandSegmentAgainstRoute(I,w,R,ue,L,$,X).pipe(Se(pt=>{if(pt instanceof pi)return(0,Be.of)(null);throw pt}))),(0,Un.P)(ue=>!!ue),Se((ue,He)=>{if(ue instanceof it.K||"EmptyError"===ue.name){if(Wo(w,L,$))return(0,Be.of)(new Ct([],{}));throw new pi(w)}throw ue}))}expandSegmentAgainstRoute(I,w,R,L,$,X,ue){return Gr(L,w,$,X)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(I,w,L,$,X):ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,w,R,L,$,X):zo(w):zo(w)}expandSegmentAgainstRouteUsingRedirect(I,w,R,L,$,X){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,R,L,X):this.expandRegularSegmentAgainstRouteUsingRedirect(I,w,R,L,$,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,R,L){const $=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Zo($):this.lineralizeSegments(R,$).pipe((0,Te.zg)(X=>{const ue=new Ct(X,{});return this.expandSegment(I,ue,w,X,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,w,R,L,$,X){const{matched:ue,consumedSegments:He,lastChild:pt,positionalParamSegments:Dt}=sn(w,L,$);if(!ue)return zo(w);const Wt=this.applyRedirectCommands(He,L.redirectTo,Dt);return L.redirectTo.startsWith("/")?Zo(Wt):this.lineralizeSegments(L,Wt).pipe((0,Te.zg)(Fn=>this.expandSegment(I,w,R,Fn.concat($.slice(pt)),X,!1)))}matchSegmentAgainstRoute(I,w,R,L,$){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,Be.of)(R._loadedConfig):this.configLoader.load(I.injector,R)).pipe((0,cn.U)(Fn=>(R._loadedConfig=Fn,new Ct(L,{})))):(0,Be.of)(new Ct(L,{}));const{matched:X,consumedSegments:ue,lastChild:He}=sn(w,R,L);if(!X)return zo(w);const pt=L.slice(He);return this.getChildConfig(I,R,L).pipe((0,Te.zg)(Wt=>{const Fn=Wt.module,an=Wt.routes,{segmentGroup:As,slicedSegments:ri}=Zn(w,ue,pt,an),dr=new Ct(As.segments,As.children);if(0===ri.length&&dr.hasChildren())return this.expandChildren(Fn,an,dr).pipe((0,cn.U)(ss=>new Ct(ue,ss)));if(0===an.length&&0===ri.length)return(0,Be.of)(new Ct(ue,{}));const Gi=Ht(R)===$;return this.expandSegment(Fn,dr,an,ri,Gi?Ft:$,!0).pipe((0,cn.U)(ea=>new Ct(ue.concat(ea.segments),ea.children)))}))}getChildConfig(I,w,R){return w.children?(0,Be.of)(new lt(w.children,I)):w.loadChildren?void 0!==w._loadedConfig?(0,Be.of)(w._loadedConfig):this.runCanLoadGuards(I.injector,w,R).pipe((0,Te.zg)(L=>{return L?this.configLoader.load(I.injector,w).pipe((0,cn.U)($=>(w._loadedConfig=$,$))):(S=w,new ie.y(I=>I.error(_e(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))));var S})):(0,Be.of)(new lt([],I))}runCanLoadGuards(I,w,R){const L=w.canLoad;if(!L||0===L.length)return(0,Be.of)(!0);const $=L.map(X=>{const ue=I.get(X);let He;if((S=ue)&&tn(S.canLoad))He=ue.canLoad(w,R);else{if(!tn(ue))throw new Error("Invalid CanLoad guard");He=ue(w,R)}var S;return gn(He)});return(0,Be.of)($).pipe(k(),(0,ur.b)(X=>{if(!xr(X))return;const ue=_e(`Redirecting to "${this.urlSerializer.serialize(X)}"`);throw ue.url=X,ue}),(0,cn.U)(X=>!0===X))}lineralizeSegments(I,w){let R=[],L=w.root;for(;;){if(R=R.concat(L.segments),0===L.numberOfChildren)return(0,Be.of)(R);if(L.numberOfChildren>1||!L.children[Ft])return Nt(I.redirectTo);L=L.children[Ft]}}applyRedirectCommands(I,w,R){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),I,R)}applyRedirectCreatreUrlTree(I,w,R,L){const $=this.createSegmentGroup(I,w.root,R,L);return new Si($,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(I,w){const R={};return jt(I,(L,$)=>{if("string"==typeof L&&L.startsWith(":")){const ue=L.substring(1);R[$]=w[ue]}else R[$]=L}),R}createSegmentGroup(I,w,R,L){const $=this.createSegments(I,w.segments,R,L);let X={};return jt(w.children,(ue,He)=>{X[He]=this.createSegmentGroup(I,ue,R,L)}),new Ct($,X)}createSegments(I,w,R,L){return w.map($=>$.path.startsWith(":")?this.findPosParam(I,$,L):this.findOrReturn($,R))}findPosParam(I,w,R){const L=R[w.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${I}'. Cannot find '${w.path}'.`);return L}findOrReturn(I,w){let R=0;for(const L of w){if(L.path===I.path)return w.splice(R),L;R++}return I}}function tu(S){const I={};for(const R of Object.keys(S.children)){const $=tu(S.children[R]);($.segments.length>0||$.hasChildren())&&(I[R]=$)}return function(S){if(1===S.numberOfChildren&&S.children[Ft]){const I=S.children[Ft];return new Ct(S.segments.concat(I.segments),I.children)}return S}(new Ct(S.segments,I))}class Tc{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class ze{constructor(I,w){this.component=I,this.route=w}}function un(S,I,w){const R=S._root;return Es(R,I?I._root:null,w,[R.value])}function er(S,I,w){const R=function(S){if(!S)return null;for(let I=S.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(I);return(R?R.module.injector:w).get(S)}function Es(S,I,w,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const $=lr(I);return S.children.forEach(X=>{(function(S,I,w,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const $=S.value,X=I?I.value:null,ue=w?w.getContext(S.value.outlet):null;if(X&&$.routeConfig===X.routeConfig){const He=function(S,I,w){if("function"==typeof w)return w(S,I);switch(w){case"pathParamsChange":return!en(S.url,I.url);case"pathParamsOrQueryParamsChange":return!en(S.url,I.url)||!ut(S.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ct(S,I)||!ut(S.queryParams,I.queryParams);case"paramsChange":default:return!ct(S,I)}}(X,$,$.routeConfig.runGuardsAndResolvers);He?L.canActivateChecks.push(new Tc(R)):($.data=X.data,$._resolvedData=X._resolvedData),Es(S,I,$.component?ue?ue.children:null:w,R,L),He&&ue&&ue.outlet&&ue.outlet.isActivated&&L.canDeactivateChecks.push(new ze(ue.outlet.component,X))}else X&&Hn(I,ue,L),L.canActivateChecks.push(new Tc(R)),Es(S,null,$.component?ue?ue.children:null:w,R,L)})(X,$[X.value.outlet],w,R.concat([X.value]),L),delete $[X.value.outlet]}),jt($,(X,ue)=>Hn(X,w.getContext(ue),L)),L}function Hn(S,I,w){const R=lr(S),L=S.value;jt(R,($,X)=>{Hn($,L.component?I?I.children.getContext(X):null:I,w)}),w.canDeactivateChecks.push(new ze(L.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,L))}class ws{}function Bu(S){return new ie.y(I=>I.error(S))}class ru{constructor(I,w,R,L,$,X){this.rootComponentType=I,this.config=w,this.urlTree=R,this.url=L,this.paramsInheritanceStrategy=$,this.relativeLinkResolution=X}recognize(){const I=Zn(this.urlTree.root,[],[],this.config.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,I,Ft);if(null===w)return null;const R=new Rt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new vr(R,w),$=new _s(this.url,L);return this.inheritParamsAndData($._root),$}inheritParamsAndData(I){const w=I.value,R=jr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data),I.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(I,w,R){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,w):this.processSegment(I,w,w.segments,R)}processChildren(I,w){const R=[];for(const $ of Object.keys(w.children)){const X=w.children[$],ue=Mt(I,$),He=this.processSegmentGroup(ue,X,$);if(null===He)return null;R.push(...He)}const L=iu(R);return L.sort((I,w)=>I.value.outlet===Ft?-1:w.value.outlet===Ft?1:I.value.outlet.localeCompare(w.value.outlet)),L}processSegment(I,w,R,L){for(const $ of I){const X=this.processSegmentAgainstRoute($,w,R,L);if(null!==X)return X}return Wo(w,R,L)?[]:null}processSegmentAgainstRoute(I,w,R,L){if(I.redirectTo||!Gr(I,w,R,L))return null;let $,X=[],ue=[];if("**"===I.path){const an=R.length>0?Bt(R).parameters:{};$=new Rt(R,an,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,so(I),Ht(I),I.component,I,Ol(w),Pl(w)+R.length,kl(I))}else{const an=sn(w,I,R);if(!an.matched)return null;X=an.consumedSegments,ue=R.slice(an.lastChild),$=new Rt(X,an.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,so(I),Ht(I),I.component,I,Ol(w),Pl(w)+X.length,kl(I))}const He=(S=I).children?S.children:S.loadChildren?S._loadedConfig.routes:[],{segmentGroup:pt,slicedSegments:Dt}=Zn(w,X,ue,He.filter(an=>void 0===an.redirectTo),this.relativeLinkResolution);var S;if(0===Dt.length&&pt.hasChildren()){const an=this.processChildren(He,pt);return null===an?null:[new vr($,an)]}if(0===He.length&&0===Dt.length)return[new vr($,[])];const Wt=Ht(I)===L,Fn=this.processSegment(He,pt,Dt,Wt?Ft:L);return null===Fn?null:[new vr($,Fn)]}}function Ko(S){const I=S.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function iu(S){const I=[],w=new Set;for(const R of S){if(!Ko(R)){I.push(R);continue}const L=I.find($=>R.value.routeConfig===$.value.routeConfig);void 0!==L?(L.children.push(...R.children),w.add(L)):I.push(R)}for(const R of w){const L=iu(R.children);I.push(new vr(R.value,L))}return I.filter(R=>!w.has(R))}function Ol(S){let I=S;for(;I._sourceSegment;)I=I._sourceSegment;return I}function Pl(S){let I=S,w=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,w+=I._segmentIndexShift?I._segmentIndexShift:0;return w-1}function so(S){return S.data||{}}function kl(S){return S.resolve||{}}function Yo(S){return(0,Vn.w)(I=>{const w=S(I);return w?(0,je.D)(w).pipe((0,cn.U)(()=>I)):(0,Be.of)(I)})}class An extends class{shouldDetach(I){return!1}store(I,w){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,w){return I.routeConfig===w.routeConfig}}{}const $u=new A.OlP("ROUTES");class su{constructor(I,w,R,L){this.loader=I,this.compiler=w,this.onLoadStartListener=R,this.onLoadEndListener=L}load(I,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactory(w.loadChildren).pipe((0,cn.U)($=>{this.onLoadEndListener&&this.onLoadEndListener(w);const X=$.create(I);return new lt(Yt(X.injector.get($u,void 0,A.XFs.Self|A.XFs.Optional)).map(mt),X)}),Se($=>{throw w._loader$=void 0,$}));return w._loader$=new rn.c(L,()=>new ee.xQ).pipe((0,fs.x)()),w._loader$}loadModuleFactory(I){return"string"==typeof I?(0,je.D)(this.loader.load(I)):gn(I()).pipe((0,Te.zg)(w=>w instanceof A.YKP?(0,Be.of)(w):(0,je.D)(this.compiler.compileModuleAsync(w))))}}class Nc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new js,this.attachRef=null}}class js{constructor(){this.contexts=new Map}onChildOutletCreated(I,w){const R=this.getOrCreateContext(I);R.outlet=w,this.contexts.set(I,R)}onChildOutletDestroyed(I){const w=this.getContext(I);w&&(w.outlet=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let w=this.getContext(I);return w||(w=new Nc,this.contexts.set(I,w)),w}getContext(I){return this.contexts.get(I)||null}}class Wr{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,w){return I}}function ou(S){throw S}function Cs(S,I,w){return I.parse("/")}function oo(S,I){return(0,Be.of)(null)}const qu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class S{constructor(w,R,L,$,X,ue,He,pt){this.rootComponentType=w,this.urlSerializer=R,this.rootContexts=L,this.location=$,this.config=pt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ee.xQ,this.errorHandler=ou,this.malformedUriErrorHandler=Cs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oo,afterPreactivation:oo},this.urlHandlingStrategy=new Wr,this.routeReuseStrategy=new An,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=X.get(A.h0i),this.console=X.get(A.c2e);const Fn=X.get(A.R0b);this.isNgZoneEnabled=Fn instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(pt),this.currentUrlTree=new Si(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new su(ue,He,an=>this.triggerEvent(new ht(an)),an=>this.triggerEvent(new ft(an))),this.routerState=Ri(this.currentUrlTree,this.rootComponentType),this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(w){const R=this.events;return w.pipe((0,me.h)(L=>0!==L.id),(0,cn.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Vn.w)(L=>{let $=!1,X=!1;return(0,Be.of)(L).pipe((0,ur.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.currentRawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Vn.w)(ue=>{const He=!this.navigated||ue.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||He)&&this.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return(0,Be.of)(ue).pipe((0,Vn.w)(Dt=>{const Wt=this.transitions.getValue();return R.next(new jn(Dt.id,this.serializeUrl(Dt.extractedUrl),Dt.source,Dt.restoredState)),Wt!==this.transitions.getValue()?Ze.E:Promise.resolve(Dt)}),function(S,I,w,R){return(0,Vn.w)(L=>function(S,I,w,R,L){return new Nl(S,I,w,R,L).apply()}(S,I,w,L.extractedUrl,R).pipe((0,cn.U)($=>Object.assign(Object.assign({},L),{urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ur.b)(Dt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Dt.urlAfterRedirects})}),function(S,I,w,R,L){return(0,Te.zg)($=>function(S,I,w,R,L="emptyOnly",$="legacy"){try{const X=new ru(S,I,w,R,L,$).recognize();return null===X?Bu(new ws):(0,Be.of)(X)}catch(X){return Bu(X)}}(S,I,$.urlAfterRedirects,w($.urlAfterRedirects),R,L).pipe((0,cn.U)(X=>Object.assign(Object.assign({},$),{targetSnapshot:X}))))}(this.rootComponentType,this.config,Dt=>this.serializeUrl(Dt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ur.b)(Dt=>{"eager"===this.urlUpdateStrategy&&(Dt.extras.skipLocationChange||this.setBrowserUrl(Dt.urlAfterRedirects,Dt),this.browserUrlTree=Dt.urlAfterRedirects);const Wt=new We(Dt.id,this.serializeUrl(Dt.extractedUrl),this.serializeUrl(Dt.urlAfterRedirects),Dt.targetSnapshot);R.next(Wt)}));if(He&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Wt,extractedUrl:Fn,source:an,restoredState:As,extras:ri}=ue,dr=new jn(Wt,this.serializeUrl(Fn),an,As);R.next(dr);const Gi=Ri(Fn,this.rootComponentType).snapshot;return(0,Be.of)(Object.assign(Object.assign({},ue),{targetSnapshot:Gi,urlAfterRedirects:Fn,extras:Object.assign(Object.assign({},ri),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ue.rawUrl,this.browserUrlTree=ue.urlAfterRedirects,ue.resolve(null),Ze.E}),Yo(ue=>{const{targetSnapshot:He,id:pt,extractedUrl:Dt,rawUrl:Wt,extras:{skipLocationChange:Fn,replaceUrl:an}}=ue;return this.hooks.beforePreactivation(He,{navigationId:pt,appliedUrlTree:Dt,rawUrlTree:Wt,skipLocationChange:!!Fn,replaceUrl:!!an})}),(0,ur.b)(ue=>{const He=new dn(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot);this.triggerEvent(He)}),(0,cn.U)(ue=>Object.assign(Object.assign({},ue),{guards:un(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)})),function(S,I){return(0,Te.zg)(w=>{const{targetSnapshot:R,currentSnapshot:L,guards:{canActivateChecks:$,canDeactivateChecks:X}}=w;return 0===X.length&&0===$.length?(0,Be.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function(S,I,w,R){return(0,je.D)(S).pipe((0,Te.zg)(L=>function(S,I,w,R,L){const $=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,Be.of)(!0);const X=$.map(ue=>{const He=er(ue,I,L);let pt;if(function(S){return S&&tn(S.canDeactivate)}(He))pt=gn(He.canDeactivate(S,I,w,R));else{if(!tn(He))throw new Error("Invalid CanDeactivate guard");pt=gn(He(S,I,w,R))}return pt.pipe((0,Un.P)())});return(0,Be.of)(X).pipe(k())}(L.component,L.route,w,I,R)),(0,Un.P)(L=>!0!==L,!0))}(X,R,L,S).pipe((0,Te.zg)(ue=>ue&&function(S){return"boolean"==typeof S}(ue)?function(S,I,w,R){return(0,je.D)(I).pipe(Ae(L=>(0,Oe.z)(function(S,I){return null!==S&&I&&I(new Tr(S)),(0,Be.of)(!0)}(L.route.parent,R),function(S,I){return null!==S&&I&&I(new Ti(S)),(0,Be.of)(!0)}(L.route,R),function(S,I,w){const R=I[I.length-1],$=I.slice(0,I.length-1).reverse().map(X=>function(S){const I=S.routeConfig?S.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:S,guards:I}:null}(X)).filter(X=>null!==X).map(X=>Ke(()=>{const ue=X.guards.map(He=>{const pt=er(He,X.node,w);let Dt;if(function(S){return S&&tn(S.canActivateChild)}(pt))Dt=gn(pt.canActivateChild(R,S));else{if(!tn(pt))throw new Error("Invalid CanActivateChild guard");Dt=gn(pt(R,S))}return Dt.pipe((0,Un.P)())});return(0,Be.of)(ue).pipe(k())}));return(0,Be.of)($).pipe(k())}(S,L.path,w),function(S,I,w){const R=I.routeConfig?I.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Be.of)(!0);const L=R.map($=>Ke(()=>{const X=er($,I,w);let ue;if(function(S){return S&&tn(S.canActivate)}(X))ue=gn(X.canActivate(I,S));else{if(!tn(X))throw new Error("Invalid CanActivate guard");ue=gn(X(I,S))}return ue.pipe((0,Un.P)())}));return(0,Be.of)(L).pipe(k())}(S,L.route,w))),(0,Un.P)(L=>!0!==L,!0))}(R,$,S,I):(0,Be.of)(ue)),(0,cn.U)(ue=>Object.assign(Object.assign({},w),{guardsResult:ue})))})}(this.ngModule.injector,ue=>this.triggerEvent(ue)),(0,ur.b)(ue=>{if(xr(ue.guardsResult)){const pt=_e(`Redirecting to "${this.serializeUrl(ue.guardsResult)}"`);throw pt.url=ue.guardsResult,pt}const He=new wn(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.triggerEvent(He)}),(0,me.h)(ue=>!!ue.guardsResult||(this.cancelNavigationTransition(ue,""),!1)),Yo(ue=>{if(ue.guards.canActivateChecks.length)return(0,Be.of)(ue).pipe((0,ur.b)(He=>{const pt=new Nn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(pt)}),(0,Vn.w)(He=>{let pt=!1;return(0,Be.of)(He).pipe(function(S,I){return(0,Te.zg)(w=>{const{targetSnapshot:R,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,Be.of)(w);let $=0;return(0,je.D)(L).pipe(Ae(X=>function(S,I,w,R){return function(S,I,w,R){const L=Object.keys(S);if(0===L.length)return(0,Be.of)({});const $={};return(0,je.D)(L).pipe((0,Te.zg)(X=>function(S,I,w,R){const L=er(S,I,R);return gn(L.resolve?L.resolve(I,w):L(I,w))}(S[X],I,w,R).pipe((0,ur.b)(ue=>{$[X]=ue}))),gt(1),(0,Te.zg)(()=>Object.keys($).length===L.length?(0,Be.of)($):Ze.E))}(S._resolve,S,I,R).pipe((0,cn.U)($=>(S._resolvedData=$,S.data=Object.assign(Object.assign({},S.data),jr(S,w).resolve),null)))}(X.route,R,S,I)),(0,ur.b)(()=>$++),gt(1),(0,Te.zg)(X=>$===L.length?(0,Be.of)(w):Ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ur.b)({next:()=>pt=!0,complete:()=>{pt||this.cancelNavigationTransition(He,"At least one route resolver didn't emit any value.")}}))}),(0,ur.b)(He=>{const pt=new hn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(pt)}))}),Yo(ue=>{const{targetSnapshot:He,id:pt,extractedUrl:Dt,rawUrl:Wt,extras:{skipLocationChange:Fn,replaceUrl:an}}=ue;return this.hooks.afterPreactivation(He,{navigationId:pt,appliedUrlTree:Dt,rawUrlTree:Wt,skipLocationChange:!!Fn,replaceUrl:!!an})}),(0,cn.U)(ue=>{const He=function(S,I,w){const R=At(S,I._root,w?w._root:void 0);return new ys(R,I)}(this.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return Object.assign(Object.assign({},ue),{targetRouterState:He})}),(0,ur.b)(ue=>{this.currentUrlTree=ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ue.rawUrl),this.routerState=ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ue),this.browserUrlTree=ue.urlAfterRedirects)}),((S,I,w)=>(0,cn.U)(R=>(new x(I,R.targetRouterState,R.currentRouterState,w).activate(S),R)))(this.rootContexts,this.routeReuseStrategy,ue=>this.triggerEvent(ue)),(0,ur.b)({next(){$=!0},complete(){$=!0}}),function(S){return I=>I.lift(new Gt(S))}(()=>{!$&&!X&&this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),Se(ue=>{if(X=!0,function(S){return S&&S[Q]}(ue)){const He=xr(ue.url);He||(this.navigated=!0,this.resetStateAndUrl(L.currentRouterState,L.currentUrlTree,L.rawUrl));const pt=new gr(L.id,this.serializeUrl(L.extractedUrl),ue.message);R.next(pt),He?setTimeout(()=>{const Dt=this.urlHandlingStrategy.merge(ue.url,this.rawUrlTree);this.scheduleNavigation(Dt,"imperative",null,{skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.resetStateAndUrl(L.currentRouterState,L.currentUrlTree,L.rawUrl);const He=new Ot(L.id,this.serializeUrl(L.extractedUrl),ue);R.next(He);try{L.resolve(this.errorHandler(ue))}catch(pt){L.reject(pt)}}return Ze.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}getTransition(){const w=this.transitions.value;return w.urlAfterRedirects=this.browserUrlTree,w}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const R=this.extractLocationChangeInfoFromEvent(w);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:L,state:$,urlTree:X}=R,ue={replaceUrl:!0};if($){const He=Object.assign({},$);delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(ue.state=He)}this.scheduleNavigation(X,L,$,ue)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(w){var R;return{source:"popstate"===w.type?"popstate":"hashchange",urlTree:this.parseUrl(w.url),state:(null===(R=w.state)||void 0===R?void 0:R.navigationId)?w.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(w,R){if(!w)return!0;const L=R.urlTree.toString()===w.urlTree.toString();return R.transitionId!==w.transitionId||!L||!("hashchange"===R.source&&"popstate"===w.source||"popstate"===R.source&&"hashchange"===w.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){oe(w),this.config=w.map(mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,R={}){const{relativeTo:L,queryParams:$,fragment:X,queryParamsHandling:ue,preserveFragment:He}=R,pt=L||this.routerState.root,Dt=He?this.currentUrlTree.fragment:X;let Wt=null;switch(ue){case"merge":Wt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),$);break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=$||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),function(S,I,w,R,L){if(0===w.length)return Ca(I.root,I.root,I,R,L);const $=function(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new xn(!0,0,S);let I=0,w=!1;const R=S.reduce((L,$,X)=>{if("object"==typeof $&&null!=$){if($.outlets){const ue={};return jt($.outlets,(He,pt)=>{ue[pt]="string"==typeof He?He.split("/"):He}),[...L,{outlets:ue}]}if($.segmentPath)return[...L,$.segmentPath]}return"string"!=typeof $?[...L,$]:0===X?($.split("/").forEach((ue,He)=>{0==He&&"."===ue||(0==He&&""===ue?w=!0:".."===ue?I++:""!=ue&&L.push(ue))}),L):[...L,$]},[]);return new xn(w,I,R)}(w);if($.toRoot())return Ca(I.root,new Ct([],{}),I,R,L);const X=function(S,I,w){if(S.isAbsolute)return new kn(I.root,!0,0);if(-1===w.snapshot._lastPathIndex){const $=w.snapshot._urlSegment;return new kn($,$===I.root,0)}const R=Vs(S.commands[0])?0:1;return function(S,I,w){let R=S,L=I,$=w;for(;$>L;){if($-=L,R=R.parent,!R)throw new Error("Invalid number of '../'");L=R.segments.length}return new kn(R,!1,L-$)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+R,S.numberOfDoubleDots)}($,I,S),ue=X.processChildren?hi(X.segmentGroup,X.index,$.commands):io(X.segmentGroup,X.index,$.commands);return Ca(X.segmentGroup,ue,I,R,L)}(pt,this.currentUrlTree,w,Wt,null!=Dt?Dt:null)}navigateByUrl(w,R={skipLocationChange:!1}){const L=xr(w)?w:this.parseUrl(w),$=this.urlHandlingStrategy.merge(L,this.rawUrlTree);let X=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||R.skipLocationChange||R.replaceUrl)&&(X=this.location.getState()),this.scheduleNavigation($,"imperative",X,R)}navigate(w,R={skipLocationChange:!1}){return function(S){for(let I=0;I<S.length;I++){const w=S[I];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${I}`)}}(w),this.navigateByUrl(this.createUrlTree(w,R),R)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let R;try{R=this.urlSerializer.parse(w)}catch(L){R=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return R}isActive(w,R){let L;if(L=!0===R?Object.assign({},qu):!1===R?Object.assign({},Wu):R,xr(w))return li(this.currentUrlTree,w,L);const $=this.parseUrl(w);return li(this.currentUrlTree,$,L)}removeEmptyProps(w){return Object.keys(w).reduce((R,L)=>{const $=w[L];return null!=$&&(R[L]=$),R},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Yn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(w,R,L,$,X){if(this.disposed)return Promise.resolve(!1);const ue=this.getTransition(),He="imperative"!==R&&"imperative"===(null==ue?void 0:ue.source),Wt=(this.lastSuccessfulId===ue.id||this.currentNavigation?ue.rawUrl:ue.urlAfterRedirects).toString()===w.toString();if(He&&Wt)return Promise.resolve(!0);let Fn,an,As;X?(Fn=X.resolve,an=X.reject,As=X.promise):As=new Promise((Gi,Xo)=>{Fn=Gi,an=Xo});const ri=++this.navigationId;let dr;return dr="computed"===this.canceledNavigationResolution?L&&L.\u0275routerPageId?L.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:ri,targetPageId:dr,source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:$,resolve:Fn,reject:an,promise:As,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),As.catch(Gi=>Promise.reject(Gi))}setBrowserUrl(w,R){const L=this.urlSerializer.serialize(w),$=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl?this.location.replaceState(L,"",$):this.location.go(L,"",$)}resetStateAndUrl(w,R,L){this.routerState=w,this.currentUrlTree=R,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,R){"computed"===this.canceledNavigationResolution?"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-w.targetPageId):this.resetUrlToCurrentUrlTree();const L=new gr(w.id,this.serializeUrl(w.extractedUrl),R);this.triggerEvent(L),w.resolve(!1)}generateNgRouterState(w,R){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:R}:{navigationId:w}}}return S.\u0275fac=function(w){return new(w||S)(A.LFG(A.DyG),A.LFG(Ar),A.LFG(js),A.LFG(b.Ye),A.LFG(A.zs3),A.LFG(A.v3s),A.LFG(A.Sil),A.LFG(void 0))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})(),mi=(()=>{class S{constructor(w,R,L,$,X){this.router=w,this.route=R,this.commands=[],this.onChanges=new ee.xQ,null==L&&$.setAttribute(X.nativeElement,"tabindex","0")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}onClick(){const w={skipLocationChange:yi(this.skipLocationChange),replaceUrl:yi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yi(this.preserveFragment)})}}return S.\u0275fac=function(w){return new(w||S)(A.Y36(ni),A.Y36(cr),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq))},S.\u0275dir=A.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,R){1&w&&A.NdJ("click",function(){return R.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.TTD]}),S})(),au=(()=>{class S{constructor(w,R,L){this.router=w,this.route=R,this.locationStrategy=L,this.commands=[],this.onChanges=new ee.xQ,this.subscription=w.events.subscribe($=>{$ instanceof Yn&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,R,L,$,X){if(0!==w||R||L||$||X||"string"==typeof this.target&&"_self"!=this.target)return!0;const ue={skipLocationChange:yi(this.skipLocationChange),replaceUrl:yi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ue),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yi(this.preserveFragment)})}}return S.\u0275fac=function(w){return new(w||S)(A.Y36(ni),A.Y36(cr),A.Y36(b.S$))},S.\u0275dir=A.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,R){1&w&&A.NdJ("click",function($){return R.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&w&&(A.Ikx("href",R.href,A.LSH),A.uIk("target",R.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.TTD]}),S})();function yi(S){return""===S||!!S}let To=(()=>{class S{constructor(w,R,L,$,X){this.parentContexts=w,this.location=R,this.resolver=L,this.changeDetector=X,this.activated=null,this._activatedRoute=null,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.name=$||Ft,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,w}attach(w,R){this.activated=w,this._activatedRoute=R,this.location.insert(w.hostView)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const X=(R=R||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),ue=this.parentContexts.getOrCreateContext(this.name).children,He=new ao(w,ue,this.location.injector);this.activated=this.location.createComponent(X,this.location.length,He),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(w){return new(w||S)(A.Y36(js),A.Y36(A.s_b),A.Y36(A._Vd),A.$8M("name"),A.Y36(A.sBO))},S.\u0275dir=A.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class ao{constructor(I,w,R){this.route=I,this.childContexts=w,this.parent=R}get(I,w){return I===cr?this.route:I===js?this.childContexts:this.parent.get(I,w)}}class Ll{}class Vl{preload(I,w){return(0,Be.of)(null)}}let Hs=(()=>{class S{constructor(w,R,L,$,X){this.router=w,this.injector=$,this.preloadingStrategy=X,this.loader=new su(R,L,pt=>w.triggerEvent(new ht(pt)),pt=>w.triggerEvent(new ft(pt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(w=>w instanceof Yn),Ae(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(A.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,R){const L=[];for(const $ of R)if($.loadChildren&&!$.canLoad&&$._loadedConfig){const X=$._loadedConfig;L.push(this.processRoutes(X.module,X.routes))}else $.loadChildren&&!$.canLoad?L.push(this.preloadConfig(w,$)):$.children&&L.push(this.processRoutes(w,$.children));return(0,je.D)(L).pipe((0,Di.J)(),(0,cn.U)($=>{}))}preloadConfig(w,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,Be.of)(R._loadedConfig):this.loader.load(w.injector,R)).pipe((0,Te.zg)($=>(R._loadedConfig=$,this.processRoutes($.module,$.routes)))))}}return S.\u0275fac=function(w){return new(w||S)(A.LFG(ni),A.LFG(A.v3s),A.LFG(A.Sil),A.LFG(A.zs3),A.LFG(Ll))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})(),Sa=(()=>{class S{constructor(w,R,L={}){this.router=w,this.viewportScroller=R,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Yn&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof kr&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,R){this.router.triggerEvent(new kr(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(w){return new(w||S)(A.LFG(ni),A.LFG(b.EM),A.LFG(void 0))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})();const Is=new A.OlP("ROUTER_CONFIGURATION"),zu=new A.OlP("ROUTER_FORROOT_GUARD"),$s=[b.Ye,{provide:Ar,useClass:ot},{provide:ni,useFactory:function(S,I,w,R,L,$,X,ue={},He,pt){const Dt=new ni(null,S,I,w,R,L,$,Yt(X));return He&&(Dt.urlHandlingStrategy=He),pt&&(Dt.routeReuseStrategy=pt),function(S,I){S.errorHandler&&(I.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(I.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(I.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(I.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(I.urlUpdateStrategy=S.urlUpdateStrategy)}(ue,Dt),ue.enableTracing&&Dt.events.subscribe(Wt=>{var Fn,an;null===(Fn=console.group)||void 0===Fn||Fn.call(console,`Router Event: ${Wt.constructor.name}`),console.log(Wt.toString()),console.log(Wt),null===(an=console.groupEnd)||void 0===an||an.call(console)}),Dt},deps:[Ar,js,b.Ye,A.zs3,A.v3s,A.Sil,$u,Is,[class{},new A.FiY],[class{},new A.FiY]]},js,{provide:cr,useFactory:function(S){return S.routerState.root},deps:[ni]},{provide:A.v3s,useClass:A.EAV},Hs,Vl,class{preload(I,w){return w().pipe(Se(()=>(0,Be.of)(null)))}},{provide:Is,useValue:{enableTracing:!1}}];function lu(){return new A.PXZ("Router",ni)}let Gs=(()=>{class S{constructor(w,R){}static forRoot(w,R){return{ngModule:S,providers:[$s,cu(w),{provide:zu,useFactory:Mc,deps:[[ni,new A.FiY,new A.tp0]]},{provide:Is,useValue:R||{}},{provide:b.S$,useFactory:$i,deps:[b.lw,[new A.tBr(b.mr),new A.FiY],Is]},{provide:Sa,useFactory:bs,deps:[ni,b.EM,Is]},{provide:Ll,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:Vl},{provide:A.PXZ,multi:!0,useFactory:lu},[_i,{provide:A.ip1,multi:!0,useFactory:hu,deps:[_i]},{provide:Ds,useFactory:jl,deps:[_i]},{provide:A.tb,multi:!0,useExisting:Ds}]]}}static forChild(w){return{ngModule:S,providers:[cu(w)]}}}return S.\u0275fac=function(w){return new(w||S)(A.LFG(zu,8),A.LFG(ni,8))},S.\u0275mod=A.oAB({type:S}),S.\u0275inj=A.cJS({}),S})();function bs(S,I,w){return w.scrollOffset&&I.setOffset(w.scrollOffset),new Sa(S,I,w)}function $i(S,I,w={}){return w.useHash?new b.Do(S,I):new b.b0(S,I)}function Mc(S){return"guarded"}function cu(S){return[{provide:A.deG,multi:!0,useValue:S},{provide:$u,multi:!0,useValue:S}]}let _i=(()=>{class S{constructor(w){this.injector=w,this.initNavigation=!1,this.resultOfPreactivationDone=new ee.xQ}appInitializer(){return this.injector.get(b.V_,Promise.resolve(null)).then(()=>{let R=null;const L=new Promise(ue=>R=ue),$=this.injector.get(ni),X=this.injector.get(Is);return"disabled"===X.initialNavigation?($.setUpLocationChangeListener(),R(!0)):"enabled"===X.initialNavigation||"enabledBlocking"===X.initialNavigation?($.hooks.afterPreactivation=()=>this.initNavigation?(0,Be.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),$.initialNavigation()):R(!0),L})}bootstrapListener(w){const R=this.injector.get(Is),L=this.injector.get(Hs),$=this.injector.get(Sa),X=this.injector.get(ni),ue=this.injector.get(A.z2F);w===ue.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&X.initialNavigation(),L.setUpPreloading(),$.init(),X.resetRootComponentType(ue.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return S.\u0275fac=function(w){return new(w||S)(A.LFG(A.zs3))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac}),S})();function hu(S){return S.appInitializer.bind(S)}function jl(S){return S.bootstrapListener.bind(S)}const Ds=new A.OlP("Router Initializer")},4486:(dt,Le,G)=>{"use strict";G.d(Le,{Z:()=>be});var b=G(4685),A=G(6034),ee=G(5452),ye=G(300);class ve{constructor(Xe,je){this._delegate=Xe,this.firebase=je,(0,ee._addComponent)(Xe,new A.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Xe,je=ee._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(Xe);return!Ke.isInitialized()&&"EXPLICIT"===(null===(Ze=Ke.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:je})}_removeServiceInstance(Xe,je=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(je)}_addComponent(Xe){(0,ee._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,ee._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function se(){const we=function(we){const Xe={},je={__esModule:!0,initializeApp:function(xt,Se={}){const De=ee.initializeApp(xt,Se);if((0,b.r3)(Xe,De.name))return Xe[De.name];const xe=new we(De,je);return Xe[De.name]=xe,xe},app:Ke,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function(xt){const Se=xt.name,De=Se.replace("-compat","");if(ee._registerComponent(xt)&&"PUBLIC"===xt.type){const xe=(Te=Ke())=>{if("function"!=typeof Te[De])throw Ce.create("invalid-app-argument",{appName:Se});return Te[De]()};void 0!==xt.serviceProps&&(0,b.ZB)(xe,xt.serviceProps),je[De]=xe,we.prototype[De]=function(...Te){return this._getService.bind(this,Se).apply(this,xt.multipleInstances?Te:[])}}return"PUBLIC"===xt.type?je[De]:null},removeApp:function(xt){delete Xe[xt]},useAsService:function(xt,Se){return"serverAuth"===Se?null:Se},modularAPIs:ee}};function Ke(xt){if(!(0,b.r3)(Xe,xt=xt||ee._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:xt});return Xe[xt]}return je.default=je,Object.defineProperty(je,"apps",{get:function(){return Object.keys(Xe).map(xt=>Xe[xt])}}),Ke.App=we,je}(ve);return we.INTERNAL=Object.assign(Object.assign({},we.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function(je){(0,b.ZB)(we,je)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),we}(),te=new ye.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=Y;(0,ee.registerVersion)("@firebase/app-compat","0.1.1",undefined);const be=Ne},5452:(dt,Le,G)=>{"use strict";G.r(Le),G.d(Le,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>ui,_apps:()=>kt,_clearComponents:()=>fr,_components:()=>_n,_getProvider:()=>Ut,_registerComponent:()=>vn,_removeServiceInstance:()=>Gt,deleteApp:()=>fs,getApp:()=>Un,getApps:()=>ur,initializeApp:()=>pr,onLog:()=>jn,registerVersion:()=>pn,setLogLevel:()=>Yn});var b=G(8239),A=G(6034),ee=G(300),ye=G(4685);class ve{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(dn=>{if(function(Ot){const We=Ot.getComponent();return"VERSION"===(null==We?void 0:We.type)}(dn)){const wn=dn.getImmediate();return`${wn.library}/${wn.version}`}return null}).filter(dn=>dn).join(" ")}}const Ce="@firebase/app",se=new ee.Yd("@firebase/app"),Vt="[DEFAULT]",yt={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,_n=new Map;function Gn(Ot,We){try{Ot.container.addComponent(We)}catch(dn){se.debug(`Component ${We.name} failed to register with FirebaseApp ${Ot.name}`,dn)}}function ui(Ot,We){Ot.container.addOrOverwriteComponent(We)}function vn(Ot){const We=Ot.name;if(_n.has(We))return se.debug(`There were multiple attempts to register component ${We}.`),!1;_n.set(We,Ot);for(const dn of kt.values())Gn(dn,Ot);return!0}function Ut(Ot,We){return Ot.container.getProvider(We)}function Gt(Ot,We,dn=Vt){Ut(Ot,We).clearInstance(dn)}function fr(){_n.clear()}const Vn=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class En{constructor(We,dn,wn){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},dn),this._name=dn.name,this._automaticDataCollectionEnabled=dn.automaticDataCollectionEnabled,this._container=wn,this.container.addComponent(new A.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const ar="9.0.0";function pr(Ot,We={}){"object"!=typeof We&&(We={name:We});const dn=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},We),wn=dn.name;if("string"!=typeof wn||!wn)throw Vn.create("bad-app-name",{appName:String(wn)});const Nn=kt.get(wn);if(Nn){if((0,ye.vZ)(Ot,Nn.options)&&(0,ye.vZ)(dn,Nn.config))return Nn;throw Vn.create("duplicate-app",{appName:wn})}const hn=new A.H0(wn);for(const ft of _n.values())hn.addComponent(ft);const ht=new En(Ot,dn,hn);return kt.set(wn,ht),ht}function Un(Ot=Vt){const We=kt.get(Ot);if(!We)throw Vn.create("no-app",{appName:Ot});return We}function ur(){return Array.from(kt.values())}function fs(Ot){return Di.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(Ot){const We=Ot.name;kt.has(We)&&(kt.delete(We),yield Promise.all(Ot.container.getProviders().map(dn=>dn.delete())),Ot.isDeleted=!0)})).apply(this,arguments)}function pn(Ot,We,dn){var wn;let Nn=null!==(wn=yt[Ot])&&void 0!==wn?wn:Ot;dn&&(Nn+=`-${dn}`);const hn=Nn.match(/\s|\//),ht=We.match(/\s|\//);if(hn||ht){const ft=[`Unable to register library "${Nn}" with version "${We}":`];return hn&&ft.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),hn&&ht&&ft.push("and"),ht&&ft.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void se.warn(ft.join(" "))}vn(new A.wA(`${Nn}-version`,()=>({library:Nn,version:We}),"VERSION"))}function jn(Ot,We){if(null!==Ot&&"function"!=typeof Ot)throw Vn.create("invalid-log-argument");(0,ee.Am)(Ot,We)}function Yn(Ot){(0,ee.Ub)(Ot)}vn(new A.wA("platform-logger",We=>new ve(We),"PRIVATE")),pn(Ce,"0.7.0",undefined),pn("fire-js","")},6034:(dt,Le,G)=>{"use strict";G.d(Le,{wA:()=>ee,H0:()=>he});var b=G(4762),A=G(4685),ee=function(){function se(Y,te,ie){this.name=Y,this.instanceFactory=te,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function(Y){return this.instantiationMode=Y,this},se.prototype.setMultipleInstances=function(Y){return this.multipleInstances=Y,this},se.prototype.setServiceProps=function(Y){return this.serviceProps=Y,this},se.prototype.setInstanceCreatedCallback=function(Y){return this.onInstanceCreated=Y,this},se}(),ye="[DEFAULT]",ve=function(){function se(Y,te){this.name=Y,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function(Y){var te=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(te)){var ie=new A.BH;if(this.instancesDeferred.set(te,ie),this.isInitialized(te)||this.shouldAutoInitialize())try{var ne=this.getOrInitializeService({instanceIdentifier:te});ne&&ie.resolve(ne)}catch(ce){}}return this.instancesDeferred.get(te).promise},se.prototype.getImmediate=function(Y){var te,ie=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),ne=null!==(te=null==Y?void 0:Y.optional)&&void 0!==te&&te;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ce){if(ne)return null;throw ce}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function(Y){var te,ie;if(Y.name!==this.name)throw Error("Mismatching Component "+Y.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Y,this.shouldAutoInitialize()){if(function(se){return"EAGER"===se.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(Ze){}try{for(var ne=(0,b.XA)(this.instancesDeferred.entries()),ce=ne.next();!ce.done;ce=ne.next()){var Ne=(0,b.CR)(ce.value,2),we=Ne[1],Xe=this.normalizeInstanceIdentifier(Ne[0]);try{var je=this.getOrInitializeService({instanceIdentifier:Xe});we.resolve(je)}catch(Ze){}}}catch(Ze){te={error:Ze}}finally{try{ce&&!ce.done&&(ie=ne.return)&&ie.call(ne)}finally{if(te)throw te.error}}}},se.prototype.clearInstance=function(Y){void 0===Y&&(Y=ye),this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)},se.prototype.delete=function(){return(0,b.mG)(this,void 0,void 0,function(){var Y;return(0,b.Jh)(this,function(te){switch(te.label){case 0:return Y=Array.from(this.instances.values()),[4,Promise.all((0,b.ev)((0,b.ev)([],(0,b.CR)(Y.filter(function(ie){return"INTERNAL"in ie}).map(function(ie){return ie.INTERNAL.delete()}))),(0,b.CR)(Y.filter(function(ie){return"_delete"in ie}).map(function(ie){return ie._delete()}))))];case 1:return te.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function(Y){return void 0===Y&&(Y=ye),this.instances.has(Y)},se.prototype.getOptions=function(Y){return void 0===Y&&(Y=ye),this.instancesOptions.get(Y)||{}},se.prototype.initialize=function(Y){var te,ie;void 0===Y&&(Y={});var ne=Y.options,ce=void 0===ne?{}:ne,Ne=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Ne))throw Error(this.name+"("+Ne+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var be=this.getOrInitializeService({instanceIdentifier:Ne,options:ce});try{for(var we=(0,b.XA)(this.instancesDeferred.entries()),Xe=we.next();!Xe.done;Xe=we.next()){var je=(0,b.CR)(Xe.value,2),Ke=je[1];Ne===this.normalizeInstanceIdentifier(je[0])&&Ke.resolve(be)}}catch(it){te={error:it}}finally{try{Xe&&!Xe.done&&(ie=we.return)&&ie.call(we)}finally{if(te)throw te.error}}return be},se.prototype.onInit=function(Y,te){var ie,ne=this.normalizeInstanceIdentifier(te),ce=null!==(ie=this.onInitCallbacks.get(ne))&&void 0!==ie?ie:new Set;ce.add(Y),this.onInitCallbacks.set(ne,ce);var Ne=this.instances.get(ne);return Ne&&Y(Ne,ne),function(){ce.delete(Y)}},se.prototype.invokeOnInitCallbacks=function(Y,te){var ie,ne,ce=this.onInitCallbacks.get(te);if(ce)try{for(var Ne=(0,b.XA)(ce),be=Ne.next();!be.done;be=Ne.next()){var we=be.value;try{we(Y,te)}catch(Xe){}}}catch(Xe){ie={error:Xe}}finally{try{be&&!be.done&&(ne=Ne.return)&&ne.call(Ne)}finally{if(ie)throw ie.error}}},se.prototype.getOrInitializeService=function(Y){var te=Y.instanceIdentifier,ie=Y.options,ne=void 0===ie?{}:ie,ce=this.instances.get(te);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:de(te),options:ne}),this.instances.set(te,ce),this.instancesOptions.set(te,ne),this.invokeOnInitCallbacks(ce,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ce)}catch(Ne){}return ce||null},se.prototype.normalizeInstanceIdentifier=function(Y){return void 0===Y&&(Y=ye),this.component?this.component.multipleInstances?Y:ye:Y},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function de(se){return se===ye?void 0:se}var he=function(){function se(Y){this.name=Y,this.providers=new Map}return se.prototype.addComponent=function(Y){var te=this.getProvider(Y.name);if(te.isComponentSet())throw new Error("Component "+Y.name+" has already been registered with "+this.name);te.setComponent(Y)},se.prototype.addOrOverwriteComponent=function(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)},se.prototype.getProvider=function(Y){if(this.providers.has(Y))return this.providers.get(Y);var te=new ve(Y,this);return this.providers.set(Y,te),te},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},300:(dt,Le,G)=>{"use strict";function b(){for(var ie=0,ne=0,ce=arguments.length;ne<ce;ne++)ie+=arguments[ne].length;var Ne=Array(ie),be=0;for(ne=0;ne<ce;ne++)for(var we=arguments[ne],Xe=0,je=we.length;Xe<je;Xe++,be++)Ne[be]=we[Xe];return Ne}G.d(Le,{in:()=>ye,Yd:()=>se,Ub:()=>Y,Am:()=>te});var A,ee=[],ye=(()=>{return(ie=ye||(ye={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ye;var ie})(),ve={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},de=ye.INFO,Ce=((A={})[ye.DEBUG]="log",A[ye.VERBOSE]="log",A[ye.INFO]="info",A[ye.WARN]="warn",A[ye.ERROR]="error",A),he=function(ie,ne){for(var ce=[],Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];if(!(ne<ie.logLevel)){var be=(new Date).toISOString(),we=Ce[ne];if(!we)throw new Error("Attempted to log a message with an invalid logType (value: "+ne+")");console[we].apply(console,b(["["+be+"]  "+ie.name+":"],ce))}},se=function(){function ie(ne){this.name=ne,this._logLevel=de,this._logHandler=he,this._userLogHandler=null,ee.push(this)}return Object.defineProperty(ie.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ne){if(!(ne in ye))throw new TypeError('Invalid value "'+ne+'" assigned to `logLevel`');this._logLevel=ne},enumerable:!1,configurable:!0}),ie.prototype.setLogLevel=function(ne){this._logLevel="string"==typeof ne?ve[ne]:ne},Object.defineProperty(ie.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ne){this._userLogHandler=ne},enumerable:!1,configurable:!0}),ie.prototype.debug=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,ye.DEBUG],ne)),this._logHandler.apply(this,b([this,ye.DEBUG],ne))},ie.prototype.log=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,ye.VERBOSE],ne)),this._logHandler.apply(this,b([this,ye.VERBOSE],ne))},ie.prototype.info=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,ye.INFO],ne)),this._logHandler.apply(this,b([this,ye.INFO],ne))},ie.prototype.warn=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,ye.WARN],ne)),this._logHandler.apply(this,b([this,ye.WARN],ne))},ie.prototype.error=function(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,ye.ERROR],ne)),this._logHandler.apply(this,b([this,ye.ERROR],ne))},ie}();function Y(ie){ee.forEach(function(ne){ne.setLogLevel(ie)})}function te(ie,ne){for(var ce=function(Xe){var je=null;ne&&ne.level&&(je=ve[ne.level]),Xe.userLogHandler=null===ie?null:function(Ze,Ke){for(var Be=[],it=2;it<arguments.length;it++)Be[it-2]=arguments[it];var Oe=Be.map(function(rn){if(null==rn)return null;if("string"==typeof rn)return rn;if("number"==typeof rn||"boolean"==typeof rn)return rn.toString();if(rn instanceof Error)return rn.message;try{return JSON.stringify(rn)}catch(xt){return null}}).filter(function(rn){return rn}).join(" ");Ke>=(null!=je?je:Ze.logLevel)&&ie({level:ye[Ke].toLowerCase(),message:Oe,args:Be,type:Ze.name})}},Ne=0,be=ee;Ne<be.length;Ne++)ce(be[Ne])}},4685:(dt,Le,G)=>{"use strict";G.d(Le,{BH:()=>ce,LL:()=>Ye,ZR:()=>me,tV:()=>Y,r3:()=>Gt,Sg:()=>Ne,ne:()=>Di,vZ:()=>En,ZB:()=>ie,pd:()=>ur,m9:()=>On,z$:()=>be,jU:()=>je,ru:()=>Ze,d:()=>Be,xb:()=>cn,w1:()=>it,hl:()=>Se,uI:()=>we,UG:()=>Xe,b$:()=>Ke,G6:()=>xt,Mn:()=>Oe,xO:()=>pr,zd:()=>Un});var b=G(4762),ve=function(ae){for(var Q=[],_e=0,Re=0;Re<ae.length;Re++){var ge=ae.charCodeAt(Re);ge<128?Q[_e++]=ge:ge<2048?(Q[_e++]=ge>>6|192,Q[_e++]=63&ge|128):55296==(64512&ge)&&Re+1<ae.length&&56320==(64512&ae.charCodeAt(Re+1))?(ge=65536+((1023&ge)<<10)+(1023&ae.charCodeAt(++Re)),Q[_e++]=ge>>18|240,Q[_e++]=ge>>12&63|128,Q[_e++]=ge>>6&63|128,Q[_e++]=63&ge|128):(Q[_e++]=ge>>12|224,Q[_e++]=ge>>6&63|128,Q[_e++]=63&ge|128)}return Q},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ae,Q){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var _e=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[],ge=0;ge<ae.length;ge+=3){var $e=ae[ge],ut=ge+1<ae.length,Zt=ut?ae[ge+1]:0,Yt=ge+2<ae.length,Bt=Yt?ae[ge+2]:0,gn=(15&Zt)<<2|Bt>>6,Ai=63&Bt;Yt||(Ai=64,ut||(gn=64)),Re.push(_e[$e>>2],_e[(3&$e)<<4|Zt>>4],_e[gn],_e[Ai])}return Re.join("")},encodeString:function(ae,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ae):this.encodeByteArray(ve(ae),Q)},decodeString:function(ae,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ae):function(ae){for(var Q=[],_e=0,Re=0;_e<ae.length;){var ge=ae[_e++];if(ge<128)Q[Re++]=String.fromCharCode(ge);else if(ge>191&&ge<224){var $e=ae[_e++];Q[Re++]=String.fromCharCode((31&ge)<<6|63&$e)}else if(ge>239&&ge<365){var Yt=((7&ge)<<18|(63&($e=ae[_e++]))<<12|(63&(ut=ae[_e++]))<<6|63&ae[_e++])-65536;Q[Re++]=String.fromCharCode(55296+(Yt>>10)),Q[Re++]=String.fromCharCode(56320+(1023&Yt))}else{$e=ae[_e++];var ut=ae[_e++];Q[Re++]=String.fromCharCode((15&ge)<<12|(63&$e)<<6|63&ut)}}return Q.join("")}(this.decodeStringToByteArray(ae,Q))},decodeStringToByteArray:function(ae,Q){this.init_();for(var _e=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[],ge=0;ge<ae.length;){var $e=_e[ae.charAt(ge++)],Zt=ge<ae.length?_e[ae.charAt(ge)]:0,Bt=++ge<ae.length?_e[ae.charAt(ge)]:64,jt=++ge<ae.length?_e[ae.charAt(ge)]:64;if(++ge,null==$e||null==Zt||null==Bt||null==jt)throw Error();Re.push($e<<2|Zt>>4),64!==Bt&&(Re.push(Zt<<4&240|Bt>>2),64!==jt&&Re.push(Bt<<6&192|jt))}return Re},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}},se=function(ae){return function(ae){var Q=ve(ae);return Ce.encodeByteArray(Q,!0)}(ae).replace(/\./g,"")},Y=function(ae){try{return Ce.decodeString(ae,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ie(ae,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return Q}for(var Re in Q)!Q.hasOwnProperty(Re)||!ne(Re)||(ae[Re]=ie(ae[Re],Q[Re]));return ae}function ne(ae){return"__proto__"!==ae}var ce=function(){function ae(){var Q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(_e,Re){Q.resolve=_e,Q.reject=Re})}return ae.prototype.wrapCallback=function(Q){var _e=this;return function(Re,ge){Re?_e.reject(Re):_e.resolve(ge),"function"==typeof Q&&(_e.promise.catch(function(){}),1===Q.length?Q(Re):Q(Re,ge))}},ae}();function Ne(ae,Q){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Re=Q||"demo-project",ge=ae.iat||0,$e=ae.sub||ae.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ut=(0,b.pi)({iss:"https://securetoken.google.com/"+Re,aud:Re,iat:ge,exp:ge+3600,auth_time:ge,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(ut)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ae){return!1}}function je(){return"object"==typeof self&&self.self===self}function Ze(){var ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return be().indexOf("Electron/")>=0}function it(){var ae=be();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function Oe(){return be().indexOf("MSAppHost/")>=0}function xt(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"indexedDB"in self&&null!=indexedDB}var me=function(ae){function Q(_e,Re,ge){var $e=ae.call(this,Re)||this;return $e.code=_e,$e.customData=ge,$e.name="FirebaseError",Object.setPrototypeOf($e,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace($e,Ye.prototype.create),$e}return(0,b.ZT)(Q,ae),Q}(Error),Ye=function(){function ae(Q,_e,Re){this.service=Q,this.serviceName=_e,this.errors=Re}return ae.prototype.create=function(Q){for(var _e=[],Re=1;Re<arguments.length;Re++)_e[Re-1]=arguments[Re];var ge=_e[0]||{},$e=this.service+"/"+Q,ut=this.errors[Q],Zt=ut?gt(ut,ge):"Error",Yt=this.serviceName+": "+Zt+" ("+$e+").",Bt=new me($e,Yt,ge);return Bt},ae}();function gt(ae,Q){return ae.replace(Vt,function(_e,Re){var ge=Q[Re];return null!=ge?String(ge):"<"+Re+"?>"})}var Vt=/\{\$([^}]+)}/g;function Gt(ae,Q){return Object.prototype.hasOwnProperty.call(ae,Q)}function cn(ae){for(var Q in ae)if(Object.prototype.hasOwnProperty.call(ae,Q))return!1;return!0}function En(ae,Q){if(ae===Q)return!0;for(var _e=Object.keys(ae),Re=Object.keys(Q),ge=0,$e=_e;ge<$e.length;ge++){if(!Re.includes(ut=$e[ge]))return!1;var Zt=ae[ut],Yt=Q[ut];if(ar(Zt)&&ar(Yt)){if(!En(Zt,Yt))return!1}else if(Zt!==Yt)return!1}for(var Bt=0,Wn=Re;Bt<Wn.length;Bt++){var ut;if(!_e.includes(ut=Wn[Bt]))return!1}return!0}function ar(ae){return null!==ae&&"object"==typeof ae}function pr(ae){for(var Q=[],_e=function(Yt,Bt){Array.isArray(Bt)?Bt.forEach(function(Wn){Q.push(encodeURIComponent(Yt)+"="+encodeURIComponent(Wn))}):Q.push(encodeURIComponent(Yt)+"="+encodeURIComponent(Bt))},Re=0,ge=Object.entries(ae);Re<ge.length;Re++){var $e=ge[Re];_e($e[0],$e[1])}return Q.length?"&"+Q.join("&"):""}function Un(ae){var Q={};return ae.replace(/^\?/,"").split("&").forEach(function(Re){if(Re){var ge=Re.split("="),ut=ge[1];Q[decodeURIComponent(ge[0])]=decodeURIComponent(ut)}}),Q}function ur(ae){var Q=ae.indexOf("?");if(!Q)return"";var _e=ae.indexOf("#",Q);return ae.substring(Q,_e>0?_e:void 0)}function Di(ae,Q){var _e=new pn(ae,Q);return _e.subscribe.bind(_e)}!function(){function ae(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}ae.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ae.prototype.compress_=function(Q,_e){_e||(_e=0);var Re=this.W_;if("string"==typeof Q)for(var ge=0;ge<16;ge++)Re[ge]=Q.charCodeAt(_e)<<24|Q.charCodeAt(_e+1)<<16|Q.charCodeAt(_e+2)<<8|Q.charCodeAt(_e+3),_e+=4;else for(ge=0;ge<16;ge++)Re[ge]=Q[_e]<<24|Q[_e+1]<<16|Q[_e+2]<<8|Q[_e+3],_e+=4;for(ge=16;ge<80;ge++)Re[ge]=4294967295&(($e=Re[ge-3]^Re[ge-8]^Re[ge-14]^Re[ge-16])<<1|$e>>>31);var jt,gn,ut=this.chain_[0],Zt=this.chain_[1],Yt=this.chain_[2],Bt=this.chain_[3],Wn=this.chain_[4];for(ge=0;ge<80;ge++){ge<40?ge<20?(jt=Bt^Zt&(Yt^Bt),gn=1518500249):(jt=Zt^Yt^Bt,gn=1859775393):ge<60?(jt=Zt&Yt|Bt&(Zt|Yt),gn=2400959708):(jt=Zt^Yt^Bt,gn=3395469782);var $e=(ut<<5|ut>>>27)+jt+Wn+gn+Re[ge]&4294967295;Wn=Bt,Bt=Yt,Yt=4294967295&(Zt<<30|Zt>>>2),Zt=ut,ut=$e}this.chain_[0]=this.chain_[0]+ut&4294967295,this.chain_[1]=this.chain_[1]+Zt&4294967295,this.chain_[2]=this.chain_[2]+Yt&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},ae.prototype.update=function(Q,_e){if(null!=Q){void 0===_e&&(_e=Q.length);for(var Re=_e-this.blockSize,ge=0,$e=this.buf_,ut=this.inbuf_;ge<_e;){if(0===ut)for(;ge<=Re;)this.compress_(Q,ge),ge+=this.blockSize;if("string"==typeof Q){for(;ge<_e;)if($e[ut]=Q.charCodeAt(ge),++ge,++ut===this.blockSize){this.compress_($e),ut=0;break}}else for(;ge<_e;)if($e[ut]=Q[ge],++ge,++ut===this.blockSize){this.compress_($e),ut=0;break}}this.inbuf_=ut,this.total_+=_e}},ae.prototype.digest=function(){var Q=[],_e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Re=this.blockSize-1;Re>=56;Re--)this.buf_[Re]=255&_e,_e/=256;this.compress_(this.buf_);var ge=0;for(Re=0;Re<5;Re++)for(var $e=24;$e>=0;$e-=8)Q[ge]=this.chain_[Re]>>$e&255,++ge;return Q}}();var pn=function(){function ae(Q,_e){var Re=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(function(){Q(Re)}).catch(function(ge){Re.error(ge)})}return ae.prototype.next=function(Q){this.forEachObserver(function(_e){_e.next(Q)})},ae.prototype.error=function(Q){this.forEachObserver(function(_e){_e.error(Q)}),this.close(Q)},ae.prototype.complete=function(){this.forEachObserver(function(Q){Q.complete()}),this.close()},ae.prototype.subscribe=function(Q,_e,Re){var $e,ge=this;if(void 0===Q&&void 0===_e&&void 0===Re)throw new Error("Missing Observer.");void 0===($e=function(ae,Q){if("object"!=typeof ae||null===ae)return!1;for(var _e=0,Re=["next","error","complete"];_e<Re.length;_e++){var ge=Re[_e];if(ge in ae&&"function"==typeof ae[ge])return!0}return!1}(Q)?Q:{next:Q,error:_e,complete:Re}).next&&($e.next=gr),void 0===$e.error&&($e.error=gr),void 0===$e.complete&&($e.complete=gr);var ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ge.finalError?$e.error(ge.finalError):$e.complete()}catch(Zt){}}),this.observers.push($e),ut},ae.prototype.unsubscribeOne=function(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ae.prototype.forEachObserver=function(Q){if(!this.finalized)for(var _e=0;_e<this.observers.length;_e++)this.sendOne(_e,Q)},ae.prototype.sendOne=function(Q,_e){var Re=this;this.task.then(function(){if(void 0!==Re.observers&&void 0!==Re.observers[Q])try{_e(Re.observers[Q])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})},ae.prototype.close=function(Q){var _e=this;this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(function(){_e.observers=void 0,_e.onNoObservers=void 0}))},ae}();function gr(){}function On(ae){return ae&&ae._delegate?ae._delegate:ae}},7841:(dt,Le,G)=>{"use strict";G.d(Le,{Z:()=>b.Z});var b=G(4486);b.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(dt,Le,G)=>{"use strict";G.r(Le);var b=G(8239),A=G(4486),ee=G(4685),ye=G(5452),ve=G(4762),de=G(300),Ce=G(6034);const Ne=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},we=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new de.Yd("@firebase/auth");function Ze(E,...g){je.logLevel<=de.in.ERROR&&je.error(`Auth (${ye.SDK_VERSION}): ${E}`,...g)}function Ke(E,...g){throw it(E,...g)}function Be(E,...g){return it(E,...g)}function it(E,...g){if("string"!=typeof E){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(m,...D)}return we.create(E,...g)}function Oe(E,g,...m){if(!E)throw it(g,...m)}function rn(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Ze(g),new Error(g)}function xt(E,g){E||rn(g)}const Se=new Map;function De(E){xt(E instanceof Function,"Expected a class definition");let g=Se.get(E);return g?(xt(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,Se.set(E,g),g)}function Ae(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function me(){return"http:"===Ye()||"https:"===Ye()}function Ye(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class yt{constructor(g,m){this.shortDelay=g,this.longDelay=m,xt(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(me()||(0,ee.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function kt(E,g){xt(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class _n{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ui=new yt(3e4,6e4);function vn(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function Ut(E,g,m,D){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(E,g,m,D,U={}){return fr(E,U,()=>{let z={},pe={};D&&("GET"===g?pe=D:z={body:JSON.stringify(D)});const Ue=(0,ee.xO)(Object.assign({key:E.config.apiKey},pe)).slice(1),st=new(_n.headers());return st.set("Content-Type","application/json"),st.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&st.set("X-Firebase-Locale",E.languageCode),_n.fetch()(ar(E,E.config.apiHost,m,Ue),Object.assign({method:g,headers:st,referrerPolicy:"no-referrer"},z))})})).apply(this,arguments)}function fr(E,g,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,b.Z)(function*(E,g,m){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Gn),g);try{const U=new pr(E),z=yield Promise.race([m(),U.promise]);U.clearNetworkTimeout();const pe=yield z.json();if("needConfirmation"in pe)throw Un(E,"account-exists-with-different-credential",pe);if(z.ok&&!("errorMessage"in pe))return pe;{const st=(z.ok?pe.errorMessage:pe.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Un(E,"credential-already-in-use",pe);if("EMAIL_EXISTS"===st)throw Un(E,"email-already-in-use",pe);Ke(E,D[st]||st.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(U){if(U instanceof ee.ZR)throw U;Ke(E,"network-request-failed")}})).apply(this,arguments)}function Vn(E,g,m,D){return En.apply(this,arguments)}function En(){return(En=(0,b.Z)(function*(E,g,m,D,U={}){const z=yield Ut(E,g,m,D,U);return"mfaPendingCredential"in z&&Ke(E,"multi-factor-auth-required",{serverResponse:z}),z})).apply(this,arguments)}function ar(E,g,m,D){const U=`${g}${m}?${D}`;return E.config.emulator?kt(E.config,U):`${E.config.apiScheme}://${U}`}class pr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Be(this.auth,"timeout")),ui.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(E,g,m){const D={appName:E.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const U=Be(E,g,D);return U.customData._tokenResponse=m,U}function fs(){return(fs=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Di(E,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jn(E,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gr(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function dn(){return(dn=(0,b.Z)(function*(E,g=!1){const m=(0,ee.m9)(E),D=yield m.getIdToken(g),U=Nn(D);Oe(U&&U.exp&&U.auth_time&&U.iat,m.auth,"internal-error");const z="object"==typeof U.firebase?U.firebase:void 0,pe=null==z?void 0:z.sign_in_provider;return{claims:U,token:D,authTime:gr(wn(U.auth_time)),issuedAtTime:gr(wn(U.iat)),expirationTime:gr(wn(U.exp)),signInProvider:pe||null,signInSecondFactor:(null==z?void 0:z.sign_in_second_factor)||null}})).apply(this,arguments)}function wn(E){return 1e3*Number(E)}function Nn(E){const[g,m,D]=E.split(".");if(void 0===g||void 0===m||void 0===D)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,ee.tV)(m);return U?JSON.parse(U):(Ze("Failed to decode base64 JWT payload"),null)}catch(U){return Ze("Caught error parsing JWT payload as JSON",U),null}}function ht(E,g){return ft.apply(this,arguments)}function ft(){return(ft=(0,b.Z)(function*(E,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof ee.ZR&&Tr(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function Tr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class to{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const U=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,b.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,b.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Ti{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(E){return kr.apply(this,arguments)}function kr(){return(kr=(0,b.Z)(function*(E){var g;const m=E.auth,D=yield E.getIdToken(),U=yield ht(E,jn(m,{idToken:D}));Oe(null==U?void 0:U.users.length,m,"internal-error");const z=U.users[0];E._notifyReloadListener(z);const pe=(null===(g=z.providerUserInfo)||void 0===g?void 0:g.length)?Q(z.providerUserInfo):[],Ue=ae(E.providerData,pe),$t=!!E.isAnonymous&&!(E.email&&z.passwordHash||(null==Ue?void 0:Ue.length)),bt={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Ue,metadata:new Ti(z.createdAt,z.lastLoginAt),isAnonymous:$t};Object.assign(E,bt)})).apply(this,arguments)}function On(){return(On=(0,b.Z)(function*(E){const g=(0,ee.m9)(E);yield Mn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ae(E,g){return[...E.filter(D=>!g.some(U=>U.providerId===D.providerId)),...g]}function Q(E){return E.map(g=>{var{providerId:m}=g,D=(0,ve._T)(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Re(){return(Re=(0,b.Z)(function*(E,g){const m=yield fr(E,{},()=>{const D=(0,ee.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:U,apiKey:z}=E.config,pe=ar(E,U,"/v1/token",`key=${z}`);return _n.fetch()(pe,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Oe(g.idToken,"internal-error"),Oe(void 0!==g.idToken,"internal-error"),Oe(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(E){const g=Nn(E);return Oe(g,"internal-error"),Oe(void 0!==g.exp,"internal-error"),Oe(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,b.Z)(function*(){return Oe(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,b.Z)(function*(){const{accessToken:U,refreshToken:z,expiresIn:pe}=yield function(E,g){return Re.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(U,z,Number(pe))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:U,expirationTime:z}=m,pe=new ge;return D&&(Oe("string"==typeof D,"internal-error",{appName:g}),pe.refreshToken=D),U&&(Oe("string"==typeof U,"internal-error",{appName:g}),pe.accessToken=U),z&&(Oe("number"==typeof z,"internal-error",{appName:g}),pe.expirationTime=z),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return rn("not implemented")}}function $e(E,g){Oe("string"==typeof E||void 0===E,"internal-error",{appName:g})}class ut{constructor(g){var{uid:m,auth:D,stsTokenManager:U}=g,z=(0,ve._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new to(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.metadata=new Ti(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,b.Z)(function*(){const D=yield ht(m,m.stsTokenManager.getToken(m.auth,g));return Oe(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function(E){return dn.apply(this,arguments)}(this,g)}reload(){return function(E){return On.apply(this,arguments)}(this)}_assign(g){this!==g&&(Oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ut(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,b.Z)(function*(){let U=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),U=!0),m&&(yield Mn(D)),yield D.auth._persistUserIfCurrent(D),U&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,b.Z)(function*(){const m=yield g.getIdToken();return yield ht(g,function(E,g){return fs.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,U,z,pe,Ue,st,wt,$t;const bt=null!==(D=m.displayName)&&void 0!==D?D:void 0,ir=null!==(U=m.email)&&void 0!==U?U:void 0,Ys=null!==(z=m.phoneNumber)&&void 0!==z?z:void 0,Rs=null!==(pe=m.photoURL)&&void 0!==pe?pe:void 0,us=null!==(Ue=m.tenantId)&&void 0!==Ue?Ue:void 0,ca=null!==(st=m._redirectEventId)&&void 0!==st?st:void 0,ah=null!==(wt=m.createdAt)&&void 0!==wt?wt:void 0,uh=null!==($t=m.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Va,emailVerified:Up,isAnonymous:lh,providerData:Dr,stsTokenManager:ic}=m;Oe(Va&&ic,g,"internal-error");const sd=ge.fromJSON(this.name,ic);Oe("string"==typeof Va,g,"internal-error"),$e(bt,g.name),$e(ir,g.name),Oe("boolean"==typeof Up,g,"internal-error"),Oe("boolean"==typeof lh,g,"internal-error"),$e(Ys,g.name),$e(Rs,g.name),$e(us,g.name),$e(ca,g.name),$e(ah,g.name),$e(uh,g.name);const Ua=new ut({uid:Va,auth:g,email:ir,emailVerified:Up,displayName:bt,isAnonymous:lh,photoURL:Rs,phoneNumber:Ys,tenantId:us,stsTokenManager:sd,createdAt:ah,lastLoginAt:uh});return Dr&&Array.isArray(Dr)&&(Ua.providerData=Dr.map(Qs=>Object.assign({},Qs))),ca&&(Ua._redirectEventId=ca),Ua}static _fromIdTokenResponse(g,m,D=!1){return(0,b.Z)(function*(){const U=new ge;U.updateFromServerResponse(m);const z=new ut({uid:m.localId,auth:g,stsTokenManager:U,isAnonymous:D});return yield Mn(z),z})()}}const Yt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(m,D){var U=this;return(0,b.Z)(function*(){U.storage[m]=D})()}_get(m){var D=this;return(0,b.Z)(function*(){const U=D.storage[m];return void 0===U?null:U})()}_remove(m){var D=this;return(0,b.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return E.type="NONE",E})();function Bt(E,g,m){return`firebase:${E}:${g}:${m}`}class Wn{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:U,name:z}=this.auth;this.fullUserKey=Bt(this.userKey,U.apiKey,z),this.fullPersistenceKey=Bt("persistence",U.apiKey,z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,b.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?ut._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,b.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,b.Z)(function*(){if(!m.length)return new Wn(De(Yt),g,D);const U=(yield Promise.all(m.map(function(){var wt=(0,b.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let z=U[0]||De(Yt);const pe=Bt(D,g.config.apiKey,g.name);let Ue=null;for(const wt of m)try{const $t=yield wt._get(pe);if($t){const bt=ut._fromJSON(g,$t);wt!==z&&(Ue=bt),z=wt;break}}catch($t){}const st=U.filter(wt=>wt._shouldAllowMigration);return z._shouldAllowMigration&&st.length?(z=st[0],Ue&&(yield z._set(pe,Ue.toJSON())),yield Promise.all(m.map(function(){var wt=(0,b.Z)(function*($t){if($t!==z)try{yield $t._remove(pe)}catch(bt){}});return function($t){return wt.apply(this,arguments)}}())),new Wn(z,g,D)):new Wn(z,g,D)})()}}function jt(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ps(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(gn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(no(g))return"Blackberry";if(Ho(g))return"Webos";if(Ai(g))return"Safari";if((g.includes("chrome/")||Xi(g))&&!g.includes("edge/"))return"Chrome";if(li(g))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function gn(E=(0,ee.z$)()){return/firefox\//i.test(E)}function Ai(E=(0,ee.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Xi(E=(0,ee.z$)()){return/crios\//i.test(E)}function ps(E=(0,ee.z$)()){return/iemobile/i.test(E)}function li(E=(0,ee.z$)()){return/android/i.test(E)}function no(E=(0,ee.z$)()){return/blackberry/i.test(E)}function Ho(E=(0,ee.z$)()){return/webos/i.test(E)}function es(E=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(E)}function Si(E=(0,ee.z$)()){return es(E)||li(E)||Ho(E)||no(E)||/windows phone/i.test(E)||ps(E)}function Fr(E,g=[]){let m;switch(E){case"Browser":m=jt((0,ee.z$)());break;case"Worker":m=`${jt((0,ee.z$)())}-${E}`;break;default:m=E}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${ye.SDK_VERSION}/${D}`}class Ps{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $o(this),this.idTokenSubscription=new $o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=De(m)),this._initializationPromise=this.queue((0,b.Z)(function*(){var U;D._deleted||(D.persistenceManager=yield Wn.create(D,g),!D._deleted&&((null===(U=D._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(m),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,b.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,b.Z)(function*(){var D;let U=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const z=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,pe=null==U?void 0:U._redirectEventId,Ue=yield m.tryRedirectSignIn(g);(!z||z===pe)&&(null==Ue?void 0:Ue.user)&&(U=Ue.user)}return U?U._redirectEventId?(Oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===U._redirectEventId?m.directlySetCurrentUser(U):m.reloadAndSetCurrentUserOrClear(U)):m.reloadAndSetCurrentUserOrClear(U):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,b.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(U){yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,b.Z)(function*(){try{yield Mn(g)}catch(D){if("auth/network-request-failed"!==D.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,b.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){const D=g?(0,ee.m9)(g):null;return D&&Oe(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){if(!m._deleted)return g&&Oe(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,b.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,b.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,b.Z)(function*(){yield m.assertedPersistence.setPersistence(De(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ee.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,b.Z)(function*(){const U=yield D.getOrInitRedirectPersistenceManager(m);return null===g?U.removeCurrentUser():U.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,b.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&De(g)||m._popupRedirectResolver;Oe(D,m,"argument-error"),m.redirectPersistenceManager=yield Wn.create(m,[De(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,b.Z)(function*(){var D,U;return m._isInitialized&&(yield m.queue((0,b.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(U=m.redirectUser)||void 0===U?void 0:U._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,b.Z)(function*(){if(g===m.currentUser)return m.queue((0,b.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,U){if(this._deleted)return()=>{};const z="function"==typeof m?m:m.next.bind(m),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(pe,this,"internal-error"),pe.then(()=>z(this.currentUser)),"function"==typeof m?g.addObserver(m,D,U):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,b.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function en(E){return(0,ee.m9)(E)}class $o{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ee.ne)(m=>this.observer=m)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ot(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function fn(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class Jr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return rn("not implemented")}_getIdTokenResponse(g){return rn("not implemented")}_linkToIdToken(g,m){return rn("not implemented")}_getReauthenticationResolver(g){return rn("not implemented")}}function Pn(E,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:resetPassword",vn(E,g))})).apply(this,arguments)}function bn(E,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ei(E,g){return It.apply(this,arguments)}function It(){return(It=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:update",vn(E,g))})).apply(this,arguments)}function ci(){return(ci=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithPassword",vn(E,g))})).apply(this,arguments)}function gs(E,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:sendOobCode",vn(E,g))})).apply(this,arguments)}function Sr(E,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,b.Z)(function*(E,g){return gs(E,g)})).apply(this,arguments)}function Xn(E,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,b.Z)(function*(E,g){return gs(E,g)})).apply(this,arguments)}function mn(E,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,b.Z)(function*(E,g){return gs(E,g)})).apply(this,arguments)}function ms(E,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(E,g){return gs(E,g)})).apply(this,arguments)}function lr(){return(lr=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithEmailLink",vn(E,g))})).apply(this,arguments)}function Ri(){return(Ri=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithEmailLink",vn(E,g))})).apply(this,arguments)}class Me extends Jr{constructor(g,m,D,U=null){super("password",D),this._email=g,this._password=m,this._tenantId=U}static _fromEmailAndPassword(g,m){return new Me(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new Me(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return function(E,g){return ci.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(E,g){return lr.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ke(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,b.Z)(function*(){switch(D.signInMethod){case"password":return bn(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(E,g){return Ri.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:Ke(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function cr(E,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithIdp",vn(E,g))})).apply(this,arguments)}class Rt extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Rt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:U}=m,z=(0,ve._T)(m,["providerId","signInMethod"]);if(!D||!U)return null;const pe=new Rt(D,U);return Object.assign(pe,z),pe}_getIdTokenResponse(g){return cr(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,cr(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,cr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,ee.xO)(m)}return g}}function _s(E,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:sendVerificationCode",vn(E,g))})).apply(this,arguments)}function Fs(){return(Fs=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithPhoneNumber",vn(E,g))})).apply(this,arguments)}function Ls(){return(Ls=(0,b.Z)(function*(E,g){const m=yield Vn(E,"POST","/v1/accounts:signInWithPhoneNumber",vn(E,g));if(m.temporaryProof)throw Un(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const At={USER_NOT_FOUND:"user-not-found"};function ts(){return(ts=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithPhoneNumber",vn(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),At)})).apply(this,arguments)}class di extends Jr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new di({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new di({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(E,g){return Fs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(E,g){return Ls.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(E,g){return ts.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:U}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:U}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:U,temporaryProof:z}=g;return D||m||U||z?new di({verificationId:m,verificationCode:D,phoneNumber:U,temporaryProof:z}):null}}class ns{constructor(g){var m,D,U,z,pe,Ue;const st=(0,ee.zd)((0,ee.pd)(g)),wt=null!==(m=st.apiKey)&&void 0!==m?m:null,$t=null!==(D=st.oobCode)&&void 0!==D?D:null,bt=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=st.mode)&&void 0!==U?U:null);Oe(wt&&$t&&bt,"argument-error"),this.apiKey=wt,this.operation=bt,this.code=$t,this.continueUrl=null!==(z=st.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(pe=st.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(Ue=st.tenantId)&&void 0!==Ue?Ue:null}static parseLink(g){const m=function(E){const g=(0,ee.zd)((0,ee.pd)(E)).link,m=g?(0,ee.zd)((0,ee.pd)(g)).deep_link_id:null,D=(0,ee.zd)((0,ee.pd)(E)).deep_link_id;return(D?(0,ee.zd)((0,ee.pd)(D)).link:null)||D||m||g||E}(g);try{return new ns(m)}catch(D){return null}}}let Go=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,D){return Me._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const U=ns.parseLink(D);return Oe(U,"argument-error"),Me._fromEmailAndCode(m,U.code,U.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class xn{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ji extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class kn extends ji{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Oe("providerId"in m&&"signInMethod"in m,"argument-error"),Rt._fromParams(m)}credential(g){return this._credential(g)}_credential(g){return Oe(g.idToken||g.accessToken,"argument-error"),Rt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return kn.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return kn.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:U,pendingToken:z,nonce:pe,providerId:Ue}=g;if(!D&&!U&&!m&&!z||!Ue)return null;try{return new kn(Ue)._credential({idToken:m,accessToken:D,rawNonce:pe,pendingToken:z})}catch(st){return null}}}let rs=(()=>{class E extends ji{constructor(){super("facebook.com")}static credential(m){return Rt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch(D){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ia=(()=>{class E extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return Rt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:U}=m;if(!D&&!U)return null;try{return E.credential(D,U)}catch(z){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ba=(()=>{class E extends ji{constructor(){super("github.com")}static credential(m){return Rt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch(D){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class hi extends Jr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return cr(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,cr(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,cr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:U,pendingToken:z}=m;return D&&U&&z&&D===U?new hi(D,z):null}static _create(g,m){return new hi(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let qo=(()=>{class E extends ji{constructor(){super("twitter.com")}static credential(m,D){return Rt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:U}=m;if(!D||!U)return null;try{return E.credential(D,U)}catch(z){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function fi(E,g){return F.apply(this,arguments)}function F(){return(F=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signUp",vn(E,g))})).apply(this,arguments)}class O{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,U=!1){return(0,b.Z)(function*(){const z=yield ut._fromIdTokenResponse(g,D,U),pe=x(D);return new O({user:z,providerId:pe,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,b.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const U=x(D);return new O({user:g,providerId:U,_tokenResponse:D,operationType:m})})()}}function x(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Ve(){return(Ve=(0,b.Z)(function*(E){var g;const m=en(E);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new O({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield fi(m,{returnSecureToken:!0}),U=yield O._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(U.user),U})).apply(this,arguments)}class lt extends ee.ZR{constructor(g,m,D,U){var z;super(m.code,m.message),this.operationType=D,this.user=U,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(z=g.tenantId)&&void 0!==z?z:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,D,U){return new lt(g,m,D,U)}}function tn(E,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?lt._fromErrorAndOperation(E,z,g,D):z})}function Lr(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Bs(){return(Bs=(0,b.Z)(function*(E,g){const m=(0,ee.m9)(E);yield P(!0,m,g);const{providerUserInfo:D}=yield Di(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),U=Lr(D||[]);return m.providerData=m.providerData.filter(z=>U.has(z.providerId)),U.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function zn(E,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,b.Z)(function*(E,g,m=!1){const D=yield ht(E,g._linkToIdToken(E.auth,yield E.getIdToken()),m);return O._forOperation(E,"link",D)})).apply(this,arguments)}function P(E,g,m){return j.apply(this,arguments)}function j(){return(j=(0,b.Z)(function*(E,g,m){yield Mn(g);const U=!1===E?"provider-already-linked":"no-such-provider";Oe(Lr(g.providerData).has(m)===E,g.auth,U)})).apply(this,arguments)}function k(E,g){return W.apply(this,arguments)}function W(){return(W=(0,b.Z)(function*(E,g,m=!1){const{auth:D}=E,U="reauthenticate";try{const z=yield ht(E,tn(D,U,g,E),m);Oe(z.idToken,D,"internal-error");const pe=Nn(z.idToken);Oe(pe,D,"internal-error");const{sub:Ue}=pe;return Oe(E.uid===Ue,D,"user-mismatch"),O._forOperation(E,U,z)}catch(z){throw"auth/user-not-found"===(null==z?void 0:z.code)&&Ke(D,"user-mismatch"),z}})).apply(this,arguments)}function oe(E,g){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,b.Z)(function*(E,g,m=!1){const D="signIn",U=yield tn(E,D,g),z=yield O._fromIdTokenResponse(E,D,U);return m||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Qe(E,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,b.Z)(function*(E,g){return oe(en(E),g)})).apply(this,arguments)}function Ht(E,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(E,g){const m=(0,ee.m9)(E);return yield P(!1,m,g.providerId),zn(m,g)})).apply(this,arguments)}function Tn(E,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,b.Z)(function*(E,g){return k((0,ee.m9)(E),g)})).apply(this,arguments)}function Zn(E,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(E,g){return Vn(E,"POST","/v1/accounts:signInWithCustomToken",vn(E,g))})).apply(this,arguments)}function vs(){return(vs=(0,b.Z)(function*(E,g){const m=en(E),D=yield Zn(m,{token:g,returnSecureToken:!0}),U=yield O._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(U.user),U})).apply(this,arguments)}class $r{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?on._fromServerResponse(g,m):Ke(g,"internal-error")}}class on extends $r{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new on(m)}}function Gr(E,g,m){var D;Oe((null===(D=m.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),Oe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Oe(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iosBundleId=m.iOS.bundleId),m.android&&(Oe(m.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function pi(){return(pi=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E),U={requestType:"PASSWORD_RESET",email:g};m&&Gr(D,U,m),yield Xn(D,U)})).apply(this,arguments)}function zo(){return(zo=(0,b.Z)(function*(E,g,m){yield Pn((0,ee.m9)(E),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Nt(){return(Nt=(0,b.Z)(function*(E,g){yield ei((0,ee.m9)(E),{oobCode:g})})).apply(this,arguments)}function Rl(E,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,b.Z)(function*(E,g){const m=(0,ee.m9)(E),D=yield Pn(m,{oobCode:g}),U=D.requestType;switch(Oe(U,m,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(D.mfaInfo,m,"internal-error");default:Oe(D.email,m,"internal-error")}let z=null;return D.mfaInfo&&(z=$r._fromServerResponse(en(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:z},operation:U}})).apply(this,arguments)}function eu(){return(eu=(0,b.Z)(function*(E,g){const{data:m}=yield Rl((0,ee.m9)(E),g);return m.email})).apply(this,arguments)}function Lu(){return(Lu=(0,b.Z)(function*(E,g,m){const D=en(E),U=yield fi(D,{returnSecureToken:!0,email:g,password:m}),z=yield O._fromIdTokenResponse(D,"signIn",U);return yield D._updateCurrentUser(z.user),z})).apply(this,arguments)}function un(){return(un=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E),U={requestType:"EMAIL_SIGNIN",email:g};Oe(m.handleCodeInApp,D,"argument-error"),m&&Gr(D,U,m),yield mn(D,U)})).apply(this,arguments)}function Uu(){return(Uu=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E),U=Go.credentialWithLink(g,m||Ae());return Oe(U._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Qe(D,U)})).apply(this,arguments)}function Es(E,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:createAuthUri",vn(E,g))})).apply(this,arguments)}function Hn(){return(Hn=(0,b.Z)(function*(E,g){const D={identifier:g,continueUri:me()?Ae():"http://localhost"},{signinMethods:U}=yield Es((0,ee.m9)(E),D);return U||[]})).apply(this,arguments)}function Da(){return(Da=(0,b.Z)(function*(E,g){const m=(0,ee.m9)(E),U={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&Gr(m.auth,U,g);const{email:z}=yield Sr(m.auth,U);z!==E.email&&(yield E.reload())})).apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};m&&Gr(D.auth,z,m);const{email:pe}=yield ms(D.auth,z);pe!==E.email&&(yield E.reload())})).apply(this,arguments)}function gi(E,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,b.Z)(function*(E,g){return Ut(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Io(){return(Io=(0,b.Z)(function*(E,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,ee.m9)(E),z={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},pe=yield ht(D,gi(D.auth,z));D.displayName=pe.displayName||null,D.photoURL=pe.photoUrl||null;const Ue=D.providerData.find(({providerId:st})=>"password"===st);Ue&&(Ue.displayName=D.displayName,Ue.photoURL=D.photoURL),yield D._updateTokensIfNecessary(pe)})).apply(this,arguments)}function Ml(E,g,m){return ru.apply(this,arguments)}function ru(){return(ru=(0,b.Z)(function*(E,g,m){const{auth:D}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(z.email=g),m&&(z.password=m);const pe=yield ht(E,bn(D,z));yield E._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class bo{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class Ko extends bo{constructor(g,m,D,U){super(g,m,D),this.username=U}}class iu extends bo{constructor(g,m){super(g,"facebook.com",m)}}class ju extends Ko{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ol extends bo{constructor(g,m){super(g,"google.com",m)}}class Pl extends Ko{constructor(g,m,D){super(g,"twitter.com",m,D)}}function so(E){const{user:g,_tokenResponse:m}=E;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(E){var g,m;if(!E)return null;const{providerId:D}=E,U=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&(null==E?void 0:E.idToken)){const pe=null===(m=null===(g=Nn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(pe)return new bo(z,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!D)return null;switch(D){case"facebook.com":return new iu(z,U);case"github.com":return new ju(z,U);case"google.com":return new Ol(z,U);case"twitter.com":return new Pl(z,U,E.screenName||null);case"custom":case"anonymous":return new bo(z,null);default:return new bo(z,D,U)}}(m)}class Mi{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Mi("enroll",g)}static _fromMfaPendingCredential(g){return new Mi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Mi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(D=g.multiFactorSession)||void 0===D?void 0:D.idToken)return Mi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class An{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=en(g),U=(m.serverResponse.mfaInfo||[]).map(pe=>$r._fromServerResponse(D,pe));Oe(m.serverResponse.mfaPendingCredential,D,"internal-error");const z=Mi._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new An(z,U,function(){var pe=(0,b.Z)(function*(Ue){const st=yield Ue._process(D,z);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const wt=Object.assign(Object.assign({},m.serverResponse),{idToken:st.idToken,refreshToken:st.refreshToken});switch(m.operationType){case"signIn":const $t=yield O._fromIdTokenResponse(D,m.operationType,wt);return yield D._updateCurrentUser($t.user),$t;case"reauthenticate":return Oe(m.user,D,"internal-error"),O._forOperation(m.user,m.operationType,wt);default:Ke(D,"internal-error")}});return function(Ue){return pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,b.Z)(function*(){return m.signInResolver(g)})()}}function su(E,g){return Ut(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},g))}class Gu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>$r._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Gu(g)}getSession(){var g=this;return(0,b.Z)(function*(){return Mi._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var D=this;return(0,b.Z)(function*(){const U=g,z=yield D.getSession(),pe=yield ht(D.user,U._process(D.user.auth,z,m));return yield D.user._updateTokensIfNecessary(pe),D.user.reload()})()}unenroll(g){var m=this;return(0,b.Z)(function*(){const D="string"==typeof g?g:g.uid,U=yield m.user.getIdToken(),z=yield ht(m.user,function(E,g){return Ut(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},g))}(m.user.auth,{idToken:U,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:pe})=>pe!==D),yield m.user._updateTokensIfNecessary(z);try{yield m.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const Wr=new WeakMap,Cs="__sak";class oo{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const mi=(()=>{class E extends oo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,ee.z$)();return Ai(E)||es(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const U=this.storage.getItem(D),z=this.localCache[D];U!==z&&m(D,z,U)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Ue,st,wt)=>{this.notifyListeners(Ue,wt)});const U=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(U);if(m.newValue!==Ue)null!==m.newValue?this.storage.setItem(U,m.newValue):this.storage.removeItem(U);else if(this.localCache[U]===m.newValue&&!D)return}const z=()=>{const Ue=this.storage.getItem(U);!D&&this.localCache[U]===Ue||this.notifyListeners(U,Ue)},pe=this.storage.getItem(U);(0,ee.w1)()&&10===document.documentMode&&pe!==m.newValue&&m.newValue!==m.oldValue?setTimeout(z,10):z()}notifyListeners(m,D){this.localCache[m]=D;const U=this.listeners[m];if(U)for(const z of Array.from(U))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var U=()=>super._set,z=this;return(0,b.Z)(function*(){yield U().call(z,m,D),z.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,U=this;return(0,b.Z)(function*(){const z=yield D().call(U,m);return U.localCache[m]=JSON.stringify(z),z})()}_remove(m){var D=()=>super._remove,U=this;return(0,b.Z)(function*(){yield D().call(U,m),delete U.localCache[m]})()}}return E.type="LOCAL",E})(),yi=(()=>{class E extends oo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return E.type="SESSION",E})();let To=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(z=>z.isListeningto(m));if(D)return D;const U=new E(m);return this.receivers.push(U),U}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,b.Z)(function*(){const U=m,{eventId:z,eventType:pe,data:Ue}=U.data,st=D.handlersMap[pe];if(!(null==st?void 0:st.size))return;U.ports[0].postMessage({status:"ack",eventId:z,eventType:pe});const wt=Array.from(st).map(function(){var bt=(0,b.Z)(function*(ir){return ir(U.origin,Ue)});return function(ir){return bt.apply(this,arguments)}}()),$t=yield function(E){return Promise.all(E.map(function(){var g=(0,b.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(wt);U.ports[0].postMessage({status:"done",eventId:z,eventType:pe,response:$t})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function ao(E="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return E+m}class Ll{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var U=this;return(0,b.Z)(function*(){const z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let pe,Ue;return new Promise((st,wt)=>{const $t=ao("",20);z.port1.start();const bt=setTimeout(()=>{wt(new Error("unsupported_event"))},D);Ue={messageChannel:z,onMessage(ir){const Ys=ir;if(Ys.data.eventId===$t)switch(Ys.data.status){case"ack":clearTimeout(bt),pe=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),st(Ys.data.response);break;default:clearTimeout(bt),clearTimeout(pe),wt(new Error("invalid_response"))}}},U.handlers.add(Ue),z.port1.addEventListener("message",Ue.onMessage),U.target.postMessage({eventType:g,eventId:$t,data:m},[z.port2])}).finally(()=>{Ue&&U.removeMessageHandler(Ue)})})()}}function Ur(){return window}function Hs(){return void 0!==Ur().WorkerGlobalScope&&"function"==typeof Ur().importScripts}function uu(){return(uu=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const Ul="firebaseLocalStorageDb",lu="firebaseLocalStorage",Gs="fbase_key";class bs{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function $i(E,g){return E.transaction([lu],g?"readwrite":"readonly").objectStore(lu)}function cu(){const E=indexedDB.open(Ul,1);return new Promise((g,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(lu,{keyPath:Gs})}catch(U){m(U)}}),E.addEventListener("success",(0,b.Z)(function*(){const D=E.result;D.objectStoreNames.contains(lu)?g(D):(D.close(),yield function(){const E=indexedDB.deleteDatabase(Ul);return new bs(E).toPromise()}(),g(yield cu()))}))})}function du(E,g,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,b.Z)(function*(E,g,m){const D=$i(E,!0).put({[Gs]:g,value:m});return new bs(D).toPromise()})).apply(this,arguments)}function _i(){return(_i=(0,b.Z)(function*(E,g){const m=$i(E,!1).get(g),D=yield new bs(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function hu(E,g){const m=$i(E,!0).delete(g);return new bs(m).toPromise()}const Jo=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,b.Z)(function*(){return m.db||(m.db=yield cu()),m.db})()}_withRetries(m){var D=this;return(0,b.Z)(function*(){let U=0;for(;;)try{const z=yield D._openDb();return yield m(z)}catch(z){if(U++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,b.Z)(function*(){return Hs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,b.Z)(function*(){m.receiver=To._getInstance(Hs()?self:null),m.receiver._subscribe("keyChanged",function(){var D=(0,b.Z)(function*(U,z){return{keyProcessed:(yield m._poll()).includes(z.key)}});return function(U,z){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,b.Z)(function*(U,z){return["keyChanged"]});return function(U,z){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,b.Z)(function*(){var D,U;if(m.activeServiceWorker=yield function(){return uu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ll(m.activeServiceWorker);const z=yield m.sender._send("ping",{},800);!z||(null===(D=z[0])||void 0===D?void 0:D.fulfilled)&&(null===(U=z[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,b.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const m=yield cu();return yield du(m,Cs,"1"),yield hu(m,Cs),!0}catch(m){}return!1})()}_withPendingWrite(m){var D=this;return(0,b.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var U=this;return(0,b.Z)(function*(){return U._withPendingWrite((0,b.Z)(function*(){return yield U._withRetries(z=>du(z,m,D)),U.localCache[m]=D,U.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,b.Z)(function*(){const U=yield D._withRetries(z=>function(E,g){return _i.apply(this,arguments)}(z,m));return D.localCache[m]=U,U})()}_remove(m){var D=this;return(0,b.Z)(function*(){return D._withPendingWrite((0,b.Z)(function*(){return yield D._withRetries(U=>hu(U,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,b.Z)(function*(){const D=yield m._withRetries(pe=>{const Ue=$i(pe,!1).getAll();return new bs(Ue).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const U=[],z=new Set;for(const{fbase_key:pe,value:Ue}of D)z.add(pe),JSON.stringify(m.localCache[pe])!==JSON.stringify(Ue)&&(m.notifyListeners(pe,Ue),U.push(pe));for(const pe of Object.keys(m.localCache))m.localCache[pe]&&!z.has(pe)&&(m.notifyListeners(pe,null),U.push(pe));return U})()}notifyListeners(m,D){this.localCache[m]=D;const U=this.listeners[m];if(U)for(const z of Array.from(U))z(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function S(E,g){return Ut(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},g))}function R(){return(R=(0,b.Z)(function*(E){return(yield Ut(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $(E){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=g,D.onerror=U=>{const z=Be("internal-error");z.customData=U,m(z)},D.type="text/javascript",D.charset="UTF-8",function(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(D)})}function X(E){return`__${E}${Math.floor(1e6*Math.random())}`}const pt=1e12;class Dt{constructor(g){this.auth=g,this.counter=pt,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new Wt(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||pt;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||pt))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,b.Z)(function*(){var D;return null===(D=m._widgets.get(g||pt))||void 0===D||D.execute(),""})()}}class Wt{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof g?document.getElementById(g):g;Oe(U,"argument-error",{appName:m}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const an=X("rcb"),As=new yt(3e4,6e4);class dr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ur().grecaptcha}load(g,m=""){return Oe((E=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Ur().grecaptcha):new Promise((D,U)=>{const z=Ur().setTimeout(()=>{U(Be(g,"network-request-failed"))},As.get());Ur()[an]=()=>{Ur().clearTimeout(z),delete Ur()[an];const Ue=Ur().grecaptcha;if(!Ue)return void U(Be(g,"internal-error"));const st=Ue.render;Ue.render=(wt,$t)=>{const bt=st(wt,$t);return this.counter++,bt},this.hostLanguage=m,D(Ue)},$(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:an,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(z),U(Be(g,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Ur().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xo{load(g){return(0,b.Z)(function*(){return new Dt(g)})()}clearedOneInstance(){}}const ea="recaptcha",ss={theme:"light",type:"image"};class sy{constructor(g,m=Object.assign({},ss),D){this.parameters=m,this.type=ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=en(D),this.isInvisible="invisible"===this.parameters.size,Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof g?document.getElementById(g):g;Oe(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xo:new dr,this.validateStartingState()}verify(){var g=this;return(0,b.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(z=>{const pe=Ue=>{!Ue||(g.tokenChangeListeners.delete(pe),z(Ue))};g.tokenChangeListeners.add(pe),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=Ur()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,b.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,b.Z)(function*(){Oe(me()&&!Hs(),g.auth,"internal-error"),yield function(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(E){return R.apply(this,arguments)}(g.auth);Oe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oc{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=di._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Pc(){return(Pc=(0,b.Z)(function*(E,g,m){const D=en(E),U=yield Fc(D,g,(0,ee.m9)(m));return new Oc(U,z=>Qe(D,z))})).apply(this,arguments)}function Hl(){return(Hl=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E);yield P(!1,D,"phone");const U=yield Fc(D.auth,g,(0,ee.m9)(m));return new Oc(U,z=>Ht(D,z))})).apply(this,arguments)}function Hd(){return(Hd=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E),U=yield Fc(D.auth,g,(0,ee.m9)(m));return new Oc(U,z=>Tn(D,z))})).apply(this,arguments)}function Fc(E,g,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,b.Z)(function*(E,g,m){var D;const U=yield m.verify();try{let z;if(Oe("string"==typeof U,E,"argument-error"),Oe(m.type===ea,E,"argument-error"),z="string"==typeof g?{phoneNumber:g}:g,"session"in z){const pe=z.session;if("phoneNumber"in z)return Oe("enroll"===pe.type,E,"internal-error"),(yield su(E,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Oe("signin"===pe.type,E,"internal-error");const Ue=(null===(D=z.multiFactorHint)||void 0===D?void 0:D.uid)||z.multiFactorUid;return Oe(Ue,E,"missing-multi-factor-info"),(yield S(E,{mfaPendingCredential:pe.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield _s(E,{phoneNumber:z.phoneNumber,recaptchaToken:U});return pe}}finally{m._reset()}})).apply(this,arguments)}function Wh(){return(Wh=(0,b.Z)(function*(E,g){yield zn((0,ee.m9)(E),g)})).apply(this,arguments)}let Vc=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=en(m)}verifyPhoneNumber(m,D){return Fc(this.auth,m,(0,ee.m9)(D))}static credential(m,D){return di._fromVerification(m,D)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:U}=m;return D&&U?di._fromTokenResponse(D,U):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ta(E,g){return g?De(g):(Oe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Zu extends Jr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return cr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return cr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return cr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function $d(E){return oe(E.auth,new Zu(E),E.bypassAuthState)}function zh(E){const{auth:g,user:m}=E;return Oe(m,g,"internal-error"),k(m,new Zu(E),E.bypassAuthState)}function xp(E){return tr.apply(this,arguments)}function tr(){return(tr=(0,b.Z)(function*(E){const{auth:g,user:m}=E;return Oe(m,g,"internal-error"),zn(m,new Zu(E),E.bypassAuthState)})).apply(this,arguments)}class na{constructor(g,m,D,U,z=!1){this.auth=g,this.resolver=D,this.user=U,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,b.Z)(function*(D,U){g.pendingPromise={resolve:D,reject:U};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(z){g.reject(z)}});return function(D,U){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,b.Z)(function*(){const{urlResponse:D,sessionId:U,postBody:z,tenantId:pe,error:Ue,type:st}=g;if(Ue)return void m.reject(Ue);const wt={auth:m.auth,requestUri:D,sessionId:U,tenantId:pe||void 0,postBody:z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(st)(wt))}catch($t){m.reject($t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return $d;case"linkViaPopup":case"linkViaRedirect":return xp;case"reauthViaPopup":case"reauthViaRedirect":return zh;default:Ke(this.auth,"internal-error")}}resolve(g){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uc=new yt(2e3,1e4);function Bc(){return(Bc=(0,b.Z)(function*(E,g,m){const D=en(E);Oe(g instanceof xn,E,"argument-error");const U=ta(D,m);return new uo(D,"signInViaPopup",g,U).executeNotNull()})).apply(this,arguments)}function Ws(){return(Ws=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E);Oe(g instanceof xn,D.auth,"argument-error");const U=ta(D.auth,m);return new uo(D.auth,"reauthViaPopup",g,U,D).executeNotNull()})).apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E);Oe(g instanceof xn,D.auth,"argument-error");const U=ta(D.auth,m);return new uo(D.auth,"linkViaPopup",g,U,D).executeNotNull()})).apply(this,arguments)}let uo=(()=>{class E extends na{constructor(m,D,U,z,pe){super(m,D,z,pe),this.provider=U,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,b.Z)(function*(){const D=yield m.execute();return Oe(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,b.Z)(function*(){xt(1===m.filter.length,"Popup operations only handle one event");const D=ao();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(U=>{m.reject(U)}),m.resolver._isIframeWebStorageSupported(m.auth,U=>{U||m.reject(Be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,U;this.pollId=(null===(U=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Uc.get())};m()}}return E.currentPopupAction=null,E})();const Hc=new Map;class $c extends na{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,b.Z)(function*(){let D=Hc.get(m.auth._key());if(!D){try{const z=(yield function(E,g){return So.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(z)}catch(U){D=()=>Promise.reject(U)}Hc.set(m.auth._key(),D)}return D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,b.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const U=yield D.auth._redirectUserForId(g.eventId);if(U)return D.user=U,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,b.Z)(function*(E,g){const m=Zh(g),D="true"===(yield zs(E)._get(m));return yield zs(E)._remove(m),D})).apply(this,arguments)}function $l(E,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,b.Z)(function*(E,g){return zs(E)._set(Zh(g),"true")})).apply(this,arguments)}function zs(E){return De(E._redirectPersistence)}function Zh(E){return Bt("pendingRedirect",E.config.apiKey,E.name)}function Wc(){return(Wc=(0,b.Z)(function*(E,g,m){const D=en(E);Oe(g instanceof xn,E,"argument-error");const U=ta(D,m);return yield $l(U,D),U._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Wd(){return(Wd=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E);Oe(g instanceof xn,D.auth,"argument-error");const U=ta(D.auth,m);yield $l(U,D.auth);const z=yield ql(D);return U._openRedirect(D.auth,g,"reauthViaRedirect",z)})).apply(this,arguments)}function pu(){return(pu=(0,b.Z)(function*(E,g,m){const D=(0,ee.m9)(E);Oe(g instanceof xn,D.auth,"argument-error");const U=ta(D.auth,m);yield P(!1,D,g.providerId),yield $l(U,D.auth);const z=yield ql(D);return U._openRedirect(D.auth,g,"linkViaRedirect",z)})).apply(this,arguments)}function ia(){return(ia=(0,b.Z)(function*(E,g){return yield en(E)._initializationPromise,xa(E,g,!1)})).apply(this,arguments)}function xa(E,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,b.Z)(function*(E,g,m=!1){const D=en(E),U=ta(D,g),pe=yield new $c(D,U,m).execute();return pe&&!m&&(delete pe.user._redirectEventId,yield D._persistUserIfCurrent(pe.user),yield D._setRedirectUser(null,g)),pe})).apply(this,arguments)}function ql(E){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,b.Z)(function*(E){const g=ao(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class xo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wl(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!Wl(g)){const U=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Be(this.auth,U))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yh(g))}saveEventToCache(g){this.cachedEventUids.add(Yh(g)),this.lastProcessedEventTime=Date.now()}}function Yh(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function Wl({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ra(E){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,b.Z)(function*(E,g={}){return Ut(E,"GET","/v1/projects",g)})).apply(this,arguments)}const Sn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zd=/^https?/;function os(){return(os=(0,b.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield Ra(E);for(const m of g)try{if(Ju(m))return}catch(D){}Ke(E,"unauthorized-domain")})).apply(this,arguments)}function Ju(E){const g=Ae(),{protocol:m,hostname:D}=new URL(g);if(E.startsWith("chrome-extension://")){const pe=new URL(E);return""===pe.hostname&&""===D?"chrome-extension:"===m&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&pe.hostname===D}if(!zd.test(m))return!1;if(Sn.test(E))return D===E;const U=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(D)}const Qh=new yt(3e4,6e4);function Xu(){const E=Ur().___jsl;if(null==E?void 0:E.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Kc=null;function Na(E){return Kc=Kc||function(E){return new Promise((g,m)=>{var D,U,z;function pe(){Xu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Xu(),m(Be(E,"network-request-failed"))},timeout:Qh.get()})}if(null===(U=null===(D=Ur().gapi)||void 0===D?void 0:D.iframes)||void 0===U?void 0:U.Iframe)g(gapi.iframes.getContext());else{if(!(null===(z=Ur().gapi)||void 0===z?void 0:z.load)){const Ue=X("iframefcb");return Ur()[Ue]=()=>{gapi.load?pe():m(Be(E,"network-request-failed"))},$(`https://apis.google.com/js/api.js?onload=${Ue}`)}pe()}}).catch(g=>{throw Kc=null,g})}(E),Kc}const Ro=new yt(5e3,15e3),ly={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Op=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zr(E){const g=E.config;Oe(g.authDomain,E,"auth-domain-config-required");const m=g.emulator?kt(g,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:E.name,v:ye.SDK_VERSION},U=Op.get(E.config.apiHost);U&&(D.eid=U);const z=E._getFrameworks();return z.length&&(D.fw=z.join(",")),`${m}?${(0,ee.xO)(D).slice(1)}`}function lo(){return(lo=(0,b.Z)(function*(E){const g=yield Na(E),m=Ur().gapi;return Oe(m,E,"internal-error"),g.open({where:document.body,url:Zr(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ly,dontclear:!0},D=>new Promise(function(){var U=(0,b.Z)(function*(z,pe){yield D.restyle({setHideOnLeave:!1});const Ue=Be(E,"network-request-failed"),st=Ur().setTimeout(()=>{pe(Ue)},Ro.get());function wt(){Ur().clearTimeout(st),z(D)}D.ping(wt).then(wt,()=>{pe(Ue)})});return function(z,pe){return U.apply(this,arguments)}}()))})).apply(this,arguments)}const Kd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Fe(E,g,m,D,U,z){Oe(E.config.authDomain,E,"auth-domain-config-required"),Oe(E.config.apiKey,E,"invalid-api-key");const pe={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:D,v:ye.SDK_VERSION,eventId:U};if(g instanceof xn){g.setDefaultLanguage(E.languageCode),pe.providerId=g.providerId||"",(0,ee.xb)(g.getCustomParameters())||(pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[st,wt]of Object.entries(z||{}))pe[st]=wt}if(g instanceof ji){const st=g.getScopes().filter(wt=>""!==wt);st.length>0&&(pe.scopes=st.join(","))}E.tenantId&&(pe.tid=E.tenantId);const Ue=pe;for(const st of Object.keys(Ue))void 0===Ue[st]&&delete Ue[st];return`${function({config:E}){return E.emulator?kt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,ee.xO)(Ue).slice(1)}`}const wr="webStorageSupport";class Qd extends class{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return rn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Qd(g)}_finalizeEnroll(g,m,D){return function(E,g){return Ut(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(E,g){return Ut(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class dy{constructor(){}static assertion(g){return Qd._fromCredential(g)}}var E;class Jh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,b.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{var U;g((null===(U=D)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oa(){return window}function Jc(){return(Jc=(0,b.Z)(function*(E,g,m){var D;const{BuildInfo:U}=Oa();xt(g.sessionId,"AuthEvent did not contain a session ID");const z=yield el(g.sessionId),pe={};return es()?pe.ibi=U.packageName:li()?pe.apn=U.packageName:Ke(E,"operation-not-supported-in-this-environment"),U.displayName&&(pe.appDisplayName=U.displayName),pe.sessionId=z,Fe(E,m,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,pe)})).apply(this,arguments)}function Zs(){return(Zs=(0,b.Z)(function*(E){const{BuildInfo:g}=Oa(),m={};es()?m.iosBundleId=g.packageName:li()?m.androidPackageName=g.packageName:Ke(E,"operation-not-supported-in-this-environment"),yield Ra(E,m)})).apply(this,arguments)}function Xd(){return(Xd=(0,b.Z)(function*(E,g,m){const{cordova:D}=Oa();let U=()=>{};try{yield new Promise((z,pe)=>{let Ue=null;function st(){var bt;z();const ir=null===(bt=D.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof ir&&ir(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function wt(){Ue||(Ue=window.setTimeout(()=>{pe(Be(E,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===(null==document?void 0:document.visibilityState)&&wt()}g.addPassiveListener(st),document.addEventListener("resume",wt,!1),li()&&document.addEventListener("visibilitychange",$t,!1),U=()=>{g.removePassiveListener(st),document.removeEventListener("resume",wt,!1),document.removeEventListener("visibilitychange",$t,!1),Ue&&window.clearTimeout(Ue)}})}finally{U()}})).apply(this,arguments)}function el(E){return eh.apply(this,arguments)}function eh(){return(eh=(0,b.Z)(function*(E){const g=si(E),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function si(E){if(xt(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),m=new Uint8Array(g);for(let D=0;D<E.length;D++)m[D]=E.charCodeAt(D);return m}E="Browser",(0,ye._registerComponent)(new Ce.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),{apiKey:U,authDomain:z}=D.options;return(pe=>{Oe(U&&!U.includes(":"),"invalid-api-key",{appName:pe.name}),Oe(!(null==z?void 0:z.includes(":")),"argument-error",{appName:pe.name});const Ue={apiKey:U,authDomain:z,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(E)},st=new Ps(pe,Ue);return function(E,g){const m=(null==g?void 0:g.persistence)||[],D=(Array.isArray(m)?m:[m]).map(De);(null==g?void 0:g.errorMap)&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(st,m),st})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,ye._registerComponent)(new Ce.wA("auth-internal",g=>{const m=en(g.getProvider("auth").getImmediate());return new Jh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ye.registerVersion)("@firebase/auth","0.17.1",void 0);class Pa extends xo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,b.Z)(function*(){yield g.initPromise})()}}function Xc(E){return th.apply(this,arguments)}function th(){return(th=(0,b.Z)(function*(E){const g=yield yu()._get(Ss(E));return g&&(yield yu()._remove(Ss(E))),g})).apply(this,arguments)}function ho(){const E=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const D=Math.floor(Math.random()*g.length);E.push(g.charAt(D))}return E.join("")}function yu(){return De(mi)}function Ss(E){return Bt("authEvent",E.config.apiKey,E.name)}function as(E){if(!(null==E?void 0:E.includes("?")))return{};const[g,...m]=E.split("?");return(0,ee.zd)(m.join("?"))}function nh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}function ed(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Jl(E=(0,ee.z$)()){return!("file:"!==ed()&&"ionic:"!==ed()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function ec(){try{const E=self.localStorage,g=ao();if(E)return E.setItem(g,"1"),E.removeItem(g),!function(E=(0,ee.z$)()){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,ee.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,ee.hl)()}catch(E){return tc()&&(0,ee.hl)()}return!1}function tc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ua(){return("http:"===ed()||"https:"===ed()||(0,ee.ru)()||Jl())&&!((0,ee.b$)()||(0,ee.UG)())&&ec()&&!tc()}function nf(){return Jl()&&"undefined"!=typeof document}function il(){return(il=(0,b.Z)(function*(){return!!nf()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}const qn={LOCAL:"local",NONE:"none",SESSION:"session"},_u=Oe,ih="persistence";function sh(E){return td.apply(this,arguments)}function td(){return(td=(0,b.Z)(function*(E){yield E._initializationPromise;const g=rf(),m=Bt(ih,E.config.apiKey,E.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,E._getPersistence())})).apply(this,arguments)}function rf(){return"undefined"!=typeof window?window:null}const hy=Oe;class vu{constructor(){this.browserResolver=De(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yi,this._completeRedirectFn=xa}_openPopup(g,m,D,U){var z=this;return(0,b.Z)(function*(){var pe;xt(null===(pe=z.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Ue=Fe(g,m,D,Ae(),U);return function(E,g,m,D=500,U=600){const z=Math.max((window.screen.availHeight-U)/2,0).toString(),pe=Math.max((window.screen.availWidth-D)/2,0).toString();let Ue="";const st=Object.assign(Object.assign({},Kd),{width:D.toString(),height:U.toString(),top:z,left:pe}),wt=(0,ee.z$)().toLowerCase();m&&(Ue=Xi(wt)?"_blank":m),gn(wt)&&(g=g||"http://localhost",st.scrollbars="yes");const $t=Object.entries(st).reduce((ir,[Ys,Rs])=>`${ir}${Ys}=${Rs},`,"");if(function(E=(0,ee.z$)()){var g;return es(E)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(wt)&&"_self"!==Ue)return function(E,g){const m=document.createElement("a");m.href=E,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Ue),new Yd(null);const bt=window.open(g||"",Ue,$t);Oe(bt,E,"popup-blocked");try{bt.focus()}catch(ir){}return new Yd(bt)}(g,Ue,ao())})()}_openRedirect(g,m,D,U){var z=this;return(0,b.Z)(function*(){return yield z._originValidation(g),E=Fe(g,m,D,Ae(),U),Ur().location.href=E,new Promise(()=>{});var E})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:U,promise:z}=this.eventManagers[m];return U?Promise.resolve(U):(xt(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D}initAndGetManager(g){var m=this;return(0,b.Z)(function*(){const D=yield function(E){return lo.apply(this,arguments)}(g),U=new xo(g);return D.register("authEvent",z=>(Oe(null==z?void 0:z.authEvent,g,"invalid-auth-event"),{status:U.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:U},m.iframes[g._key()]=D,U})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(wr,{type:wr},U=>{var z;const pe=null===(z=null==U?void 0:U[0])||void 0===z?void 0:z[wr];void 0!==pe&&m(!!pe),Ke(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(E){return os.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Si()||Ai()||es()}}),this.cordovaResolver=De(class{constructor(){this._redirectPersistence=yi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xa}_initialize(g){var m=this;return(0,b.Z)(function*(){const D=g._key();let U=m.eventManagers.get(D);return U||(U=new Pa(g),m.eventManagers.set(D,U),m.attachCallbackListeners(g,U)),U})()}_openPopup(g){Ke(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,D,U){var z=this;return(0,b.Z)(function*(){!function(E){var g,m,D,U,z,pe,Ue,st,wt,$t;const bt=Oa();Oe("function"==typeof(null===(g=null==bt?void 0:bt.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(void 0!==(null===(m=null==bt?void 0:bt.BuildInfo)||void 0===m?void 0:m.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(z=null===(U=null===(D=null==bt?void 0:bt.cordova)||void 0===D?void 0:D.plugins)||void 0===U?void 0:U.browsertab)||void 0===z?void 0:z.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(st=null===(Ue=null===(pe=null==bt?void 0:bt.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===st?void 0:st.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===($t=null===(wt=null==bt?void 0:bt.cordova)||void 0===wt?void 0:wt.InAppBrowser)||void 0===$t?void 0:$t.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const pe=yield z._initialize(g);yield pe.initialized(),pe.resetRedirect(),Hc.clear(),yield z._originValidation(g);const Ue=function(E,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:ho(),postBody:null,tenantId:E.tenantId,error:Be(E,"no-auth-event")}}(g,D,U);yield function(E,g){return yu()._set(Ss(E),g)}(g,Ue);const st=yield function(E,g,m){return Jc.apply(this,arguments)}(g,Ue,m),wt=yield function(E){const{cordova:g}=Oa();return new Promise(m=>{g.plugins.browsertab.isAvailable(D=>{let U=null;D?g.plugins.browsertab.openUrl(E):U=g.InAppBrowser.open(E,function(E=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),m(U)})})}(st);return function(E,g,m){return Xd.apply(this,arguments)}(g,pe,wt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(E){return Zs.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:D,handleOpenURL:U,BuildInfo:z}=Oa(),pe=setTimeout((0,b.Z)(function*(){yield Xc(g),m.onEvent(nh())}),500),Ue=function(){var $t=(0,b.Z)(function*(bt){clearTimeout(pe);const ir=yield Xc(g);let Ys=null;ir&&(null==bt?void 0:bt.url)&&(Ys=function(E,g){var m,D;const U=function(E){const g=as(E),m=g.link?decodeURIComponent(g.link):void 0,D=as(m).link,U=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return as(U).link||U||D||m||E}(g);if(U.includes("/__/auth/callback")){const z=as(U),pe=z.firebaseError?function(E){try{return JSON.parse(E)}catch(g){return null}}(decodeURIComponent(z.firebaseError)):null,Ue=null===(D=null===(m=null==pe?void 0:pe.code)||void 0===m?void 0:m.split("auth/"))||void 0===D?void 0:D[1],st=Ue?Be(Ue):null;return st?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:st,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:U,postBody:null}}return null}(ir,bt.url)),m.onEvent(Ys||nh())});return function(ir){return $t.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ue);const st=U,wt=`${z.packageName.toLowerCase()}://`;Oa().handleOpenURL=function(){var $t=(0,b.Z)(function*(bt){if(bt.toLowerCase().startsWith(wt)&&Ue({url:bt}),"function"==typeof st)try{st(bt)}catch(ir){console.error(ir)}});return function(bt){return $t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=yi,this._completeRedirectFn=xa}_initialize(g){var m=this;return(0,b.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,D,U){var z=this;return(0,b.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(g,m,D,U)})()}_openRedirect(g,m,D,U){var z=this;return(0,b.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(g,m,D,U)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return nf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,b.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return il.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Mo(E){return E.unwrap()}function Fa(E){return nd(E)}function sf(E,g){var m;const D=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new rd(E,function(E,g){var m;const D=(0,ee.m9)(E),U=g;return Oe(g.operationType,D,"argument-error"),Oe(null===(m=U.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),An._fromError(D,U)}(E,g));else if(D){const U=nd(g),z=g;U&&(z.credential=U,z.tenantId=D.tenantId||void 0,z.email=D.email||void 0,z.phoneNumber=D.phoneNumber||void 0)}}function nd(E){const{_tokenResponse:g}=E instanceof ee.ZR?E.customData:E;if(!g)return null;if(!(E instanceof ee.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Vc.credentialFromResult(E);const m=g.providerId;if(!m||"password"===m)return null;let D;switch(m){case"google.com":D=Ia;break;case"facebook.com":D=rs;break;case"github.com":D=ba;break;case"twitter.com":D=qo;break;default:const{oauthIdToken:U,oauthAccessToken:z,oauthTokenSecret:pe,pendingToken:Ue,nonce:st}=g;return z||pe||U||Ue?Ue?m.startsWith("saml.")?hi._create(m,Ue):Rt._fromParams({providerId:m,signInMethod:m,pendingToken:Ue,idToken:U,accessToken:z}):new kn(m).credential({idToken:U,accessToken:z,rawNonce:st}):null}return E instanceof ee.ZR?D.credentialFromError(E):D.credentialFromResult(E)}function Ln(E,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(E,g){let m;try{m=yield g}catch(z){throw z instanceof ee.ZR&&sf(E,z),z}const{operationType:D,user:U}=m;return{operationType:D,credential:Fa(m),additionalUserInfo:so(m),user:xs.getOrCreate(U)}})).apply(this,arguments)}function sl(E,g){return La.apply(this,arguments)}function La(){return(La=(0,b.Z)(function*(E,g){const m=yield g;return{verificationId:m.verificationId,confirm:D=>Ln(E,m.confirm(D))}})).apply(this,arguments)}class rd{constructor(g,m){this.resolver=m,this.auth=function(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ln(Mo(this.auth),this.resolver.resolveSignIn(g))}}class xs{constructor(g){this._delegate=g,this.multiFactor=function(E){const g=(0,ee.m9)(E);return Wr.has(g)||Wr.set(g,Gu._fromUser(g)),Wr.get(g)}(g)}static getOrCreate(g){return xs.USER_MAP.has(g)||xs.USER_MAP.set(g,new xs(g)),xs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,b.Z)(function*(){return Ln(m.auth,Ht(m._delegate,g))})()}linkWithPhoneNumber(g,m){var D=this;return(0,b.Z)(function*(){return sl(D.auth,function(E,g,m){return Hl.apply(this,arguments)}(D._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,b.Z)(function*(){return Ln(m.auth,function(E,g,m){return ra.apply(this,arguments)}(m._delegate,g,vu))})()}linkWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield sh(en(m.auth)),function(E,g,m){return function(E,g,m){return pu.apply(this,arguments)}(E,g,m)}(m._delegate,g,vu)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,b.Z)(function*(){return Ln(m.auth,Tn(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return sl(this.auth,function(E,g,m){return Hd.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Ln(this.auth,function(E,g,m){return Ws.apply(this,arguments)}(this._delegate,g,vu))}reauthenticateWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield sh(en(m.auth)),function(E,g,m){return function(E,g,m){return Wd.apply(this,arguments)}(E,g,m)}(m._delegate,g,vu)})()}sendEmailVerification(g){return function(E,g){return Da.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,b.Z)(function*(){return yield function(E,g){return Bs.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(E,g){return Ml((0,ee.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function(E,g){return Ml((0,ee.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(E,g){return Wh.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(E,g){return Io.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(E,g,m){return Aa.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xs.USER_MAP=new WeakMap;const Eu=Oe;let nc=(()=>{class E{constructor(m,D){if(this.app=m,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=m.options;Eu(U,"invalid-api-key",{appName:m.name});let z=[Yt];if("undefined"!=typeof window){z=function(E,g){const m=rf();if(!(null==m?void 0:m.sessionStorage))return[];const D=Bt(ih,E,g);switch(m.sessionStorage.getItem(D)){case qn.NONE:return[Yt];case qn.LOCAL:return[Jo,yi];case qn.SESSION:return[yi];default:return[]}}(U,m.name);for(const Ue of[Jo,mi,yi])z.includes(Ue)||z.push(Ue)}Eu(U,"invalid-api-key",{appName:m.name});const pe="undefined"!=typeof window?vu:void 0;this._delegate=D.initialize({options:{persistence:z,popupRedirectResolver:pe}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,D){!function(E,g,m){const D=en(E);Oe(D._canInitEmulator,D,"emulator-config-failed"),Oe(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const U=!!(null==m?void 0:m.disableWarnings),z=ot(g),{host:pe,port:Ue}=function(E){const g=ot(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(D);if(U){const z=U[1];return{host:z,port:fn(D.substr(z.length+1))}}{const[z,pe]=D.split(":");return{host:z,port:fn(pe)}}}(g);D.config.emulator={url:`${z}//${pe}${null===Ue?"":`:${Ue}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:pe,port:Ue,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:U})}),function(E){function g(){const m=document.createElement("p"),D=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(U)}(this._delegate,m,D)}applyActionCode(m){return function(E,g){return Nt.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Rl(this._delegate,m)}confirmPasswordReset(m,D){return function(E,g,m){return zo.apply(this,arguments)}(this._delegate,m,D)}createUserWithEmailAndPassword(m,D){var U=this;return(0,b.Z)(function*(){return Ln(U._delegate,function(E,g,m){return Lu.apply(this,arguments)}(U._delegate,m,D))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(E,g){return Hn.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(E,g){const m=ns.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,b.Z)(function*(){Eu(ua(),m._delegate,"operation-not-supported-in-this-environment");const D=yield function(E,g){return ia.apply(this,arguments)}(m._delegate,vu);return D?Ln(m._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(E,g){en(E)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,D,U){const{next:z,error:pe,complete:Ue}=id(m,D,U);return this._delegate.onAuthStateChanged(z,pe,Ue)}onIdTokenChanged(m,D,U){const{next:z,error:pe,complete:Ue}=id(m,D,U);return this._delegate.onIdTokenChanged(z,pe,Ue)}sendSignInLinkToEmail(m,D){return function(E,g,m){return un.apply(this,arguments)}(this._delegate,m,D)}sendPasswordResetEmail(m,D){return function(E,g,m){return pi.apply(this,arguments)}(this._delegate,m,D||void 0)}setPersistence(m){var D=this;return(0,b.Z)(function*(){let U;switch(function(E,g){_u(Object.values(qn).includes(g),E,"invalid-persistence-type"),(0,ee.b$)()?_u(g!==qn.SESSION,E,"unsupported-persistence-type"):(0,ee.UG)()?_u(g===qn.NONE,E,"unsupported-persistence-type"):tc()?_u(g===qn.NONE||g===qn.LOCAL&&(0,ee.hl)(),E,"unsupported-persistence-type"):_u(g===qn.NONE||ec(),E,"unsupported-persistence-type")}(D._delegate,m),m){case qn.SESSION:U=yi;break;case qn.LOCAL:U=(yield De(Jo)._isAvailable())?Jo:mi;break;case qn.NONE:U=Yt;break;default:return Ke("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ln(this._delegate,function(E){return Ve.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ln(this._delegate,Qe(this._delegate,m))}signInWithCustomToken(m){return Ln(this._delegate,function(E,g){return vs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,D){return Ln(this._delegate,function(E,g,m){return Qe((0,ee.m9)(E),Go.credential(g,m))}(this._delegate,m,D))}signInWithEmailLink(m,D){return Ln(this._delegate,function(E,g,m){return Uu.apply(this,arguments)}(this._delegate,m,D))}signInWithPhoneNumber(m,D){return sl(this._delegate,function(E,g,m){return Pc.apply(this,arguments)}(this._delegate,m,D))}signInWithPopup(m){var D=this;return(0,b.Z)(function*(){return Eu(ua(),D._delegate,"operation-not-supported-in-this-environment"),Ln(D._delegate,function(E,g,m){return Bc.apply(this,arguments)}(D._delegate,m,vu))})()}signInWithRedirect(m){var D=this;return(0,b.Z)(function*(){return Eu(ua(),D._delegate,"operation-not-supported-in-this-environment"),yield sh(D._delegate),function(E,g,m){return function(E,g,m){return Wc.apply(this,arguments)}(E,g,m)}(D._delegate,m,vu)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(E,g){return eu.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=qn,E})();function id(E,g,m){let D=E;"function"!=typeof E&&({next:D,error:g,complete:m}=E);const U=D;return{next:pe=>U(pe&&xs.getOrCreate(pe)),error:g,complete:m}}class la{constructor(){this.providerId="phone",this._delegate=new Vc(Mo(A.Z.auth()))}static credential(g,m){return Vc.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}la.PHONE_SIGN_IN_METHOD=Vc.PHONE_SIGN_IN_METHOD,la.PROVIDER_ID=Vc.PROVIDER_ID;const Ks=Oe;class of{constructor(g,m,D=A.Z.app()){var U;Ks(null===(U=D.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new sy(g,m,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new Ce.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new nc(m,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Go,FacebookAuthProvider:rs,GithubAuthProvider:ba,GoogleAuthProvider:Ia,OAuthProvider:kn,PhoneAuthProvider:la,PhoneMultiFactorGenerator:dy,RecaptchaVerifier:of,TwitterAuthProvider:qo,Auth:nc,AuthCredential:Jr,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.1")}(A.Z)},7574:(dt,Le,G)=>{"use strict";G.d(Le,{y:()=>te});var b=G(7393),ee=G(9181),ye=G(6490),de=G(6554),Ce=G(4487);var Y=G(2494);let te=(()=>{class ne{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const be=new ne;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,we){const{operator:Xe}=this,je=function(ne,ce,Ne){if(ne){if(ne instanceof b.L)return ne;if(ne[ee.b])return ne[ee.b]()}return ne||ce||Ne?new b.L(ne,ce,Ne):new b.L(ye.c)}(Ne,be,we);if(je.add(Xe?Xe.call(je,this.source):this.source||Y.v.useDeprecatedSynchronousErrorHandling&&!je.syncErrorThrowable?this._subscribe(je):this._trySubscribe(je)),Y.v.useDeprecatedSynchronousErrorHandling&&je.syncErrorThrowable&&(je.syncErrorThrowable=!1,je.syncErrorThrown))throw je.syncErrorValue;return je}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){Y.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=be),function(ne){for(;ne;){const{closed:ce,destination:Ne,isStopped:be}=ne;if(ce||be)return!1;ne=Ne&&Ne instanceof b.L?Ne:null}return!0}(Ne)?Ne.error(be):console.warn(be)}}forEach(Ne,be){return new(be=ie(be))((we,Xe)=>{let je;je=this.subscribe(Ze=>{try{Ne(Ze)}catch(Ke){Xe(Ke),je&&je.unsubscribe()}},Xe,we)})}_subscribe(Ne){const{source:be}=this;return be&&be.subscribe(Ne)}[de.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(ne){return 0===ne.length?Ce.y:1===ne.length?ne[0]:function(Ne){return ne.reduce((be,we)=>we(be),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=ie(Ne))((be,we)=>{let Xe;this.subscribe(je=>Xe=je,je=>we(je),()=>be(Xe))})}}return ne.create=ce=>new ne(ce),ne})();function ie(ne){if(ne||(ne=Y.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},6490:(dt,Le,G)=>{"use strict";G.d(Le,{c:()=>ee});var b=G(2494),A=G(4449);const ee={closed:!0,next(ye){},error(ye){if(b.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,A.z)(ye)},complete(){}}},9765:(dt,Le,G)=>{"use strict";G.d(Le,{Yc:()=>Ce,xQ:()=>he});var b=G(7574),A=G(7393),ee=G(5319),ye=G(7971),ve=G(8858),de=G(9181);class Ce extends A.L{constructor(te){super(te),this.destination=te}}let he=(()=>{class Y extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[de.b](){return new Ce(this)}lift(ie){const ne=new se(this,this);return ne.operator=ie,ne}next(ie){if(this.closed)throw new ye.N;if(!this.isStopped){const{observers:ne}=this,ce=ne.length,Ne=ne.slice();for(let be=0;be<ce;be++)Ne[be].next(ie)}}error(ie){if(this.closed)throw new ye.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:ne}=this,ce=ne.length,Ne=ne.slice();for(let be=0;be<ce;be++)Ne[be].error(ie);this.observers.length=0}complete(){if(this.closed)throw new ye.N;this.isStopped=!0;const{observers:ie}=this,ne=ie.length,ce=ie.slice();for(let Ne=0;Ne<ne;Ne++)ce[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new ye.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new ye.N;return this.hasError?(ie.error(this.thrownError),ee.w.EMPTY):this.isStopped?(ie.complete(),ee.w.EMPTY):(this.observers.push(ie),new ve.W(this,ie))}asObservable(){const ie=new b.y;return ie.source=this,ie}}return Y.create=(te,ie)=>new se(te,ie),Y})();class se extends he{constructor(te,ie){super(),this.destination=te,this.source=ie}next(te){const{destination:ie}=this;ie&&ie.next&&ie.next(te)}error(te){const{destination:ie}=this;ie&&ie.error&&this.destination.error(te)}complete(){const{destination:te}=this;te&&te.complete&&this.destination.complete()}_subscribe(te){const{source:ie}=this;return ie?this.source.subscribe(te):ee.w.EMPTY}}},8858:(dt,Le,G)=>{"use strict";G.d(Le,{W:()=>A});var b=G(5319);class A extends b.w{constructor(ye,ve){super(),this.subject=ye,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ye=this.subject,ve=ye.observers;if(this.subject=null,!ve||0===ve.length||ye.isStopped||ye.closed)return;const de=ve.indexOf(this.subscriber);-1!==de&&ve.splice(de,1)}}},7393:(dt,Le,G)=>{"use strict";G.d(Le,{L:()=>Ce});var b=G(9105),A=G(6490),ee=G(5319),ye=G(9181),ve=G(2494),de=G(4449);class Ce extends ee.w{constructor(Y,te,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=A.c;break;case 1:if(!Y){this.destination=A.c;break}if("object"==typeof Y){Y instanceof Ce?(this.syncErrorThrowable=Y.syncErrorThrowable,this.destination=Y,Y.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,Y));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,Y,te,ie)}}[ye.b](){return this}static create(Y,te,ie){const ne=new Ce(Y,te,ie);return ne.syncErrorThrowable=!1,ne}next(Y){this.isStopped||this._next(Y)}error(Y){this.isStopped||(this.isStopped=!0,this._error(Y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Y){this.destination.next(Y)}_error(Y){this.destination.error(Y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Y,this}}class he extends Ce{constructor(Y,te,ie,ne){super(),this._parentSubscriber=Y;let ce,Ne=this;(0,b.m)(te)?ce=te:te&&(ce=te.next,ie=te.error,ne=te.complete,te!==A.c&&(Ne=Object.create(te),(0,b.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=ce,this._error=ie,this._complete=ne}next(Y){if(!this.isStopped&&this._next){const{_parentSubscriber:te}=this;ve.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?this.__tryOrSetError(te,this._next,Y)&&this.unsubscribe():this.__tryOrUnsub(this._next,Y)}}error(Y){if(!this.isStopped){const{_parentSubscriber:te}=this,{useDeprecatedSynchronousErrorHandling:ie}=ve.v;if(this._error)ie&&te.syncErrorThrowable?(this.__tryOrSetError(te,this._error,Y),this.unsubscribe()):(this.__tryOrUnsub(this._error,Y),this.unsubscribe());else if(te.syncErrorThrowable)ie?(te.syncErrorValue=Y,te.syncErrorThrown=!0):(0,de.z)(Y),this.unsubscribe();else{if(this.unsubscribe(),ie)throw Y;(0,de.z)(Y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Y}=this;if(this._complete){const te=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,te),this.unsubscribe()):(this.__tryOrUnsub(te),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Y,te){try{Y.call(this._context,te)}catch(ie){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,de.z)(ie)}}__tryOrSetError(Y,te,ie){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{te.call(this._context,ie)}catch(ne){return ve.v.useDeprecatedSynchronousErrorHandling?(Y.syncErrorValue=ne,Y.syncErrorThrown=!0,!0):((0,de.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Y}=this;this._context=null,this._parentSubscriber=null,Y.unsubscribe()}}},5319:(dt,Le,G)=>{"use strict";G.d(Le,{w:()=>de});var b=G(9796),A=G(1555),ee=G(9105);const ve=(()=>{function he(se){return Error.call(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Y,te)=>`${te+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se,this}return he.prototype=Object.create(Error.prototype),he})();class de{constructor(se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,se&&(this._ctorUnsubscribe=!0,this._unsubscribe=se)}unsubscribe(){let se;if(this.closed)return;let{_parentOrParents:Y,_ctorUnsubscribe:te,_unsubscribe:ie,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Y instanceof de)Y.remove(this);else if(null!==Y)for(let ce=0;ce<Y.length;++ce)Y[ce].remove(this);if((0,ee.m)(ie)){te&&(this._unsubscribe=void 0);try{ie.call(this)}catch(ce){se=ce instanceof ve?Ce(ce.errors):[ce]}}if((0,b.k)(ne)){let ce=-1,Ne=ne.length;for(;++ce<Ne;){const be=ne[ce];if((0,A.K)(be))try{be.unsubscribe()}catch(we){se=se||[],we instanceof ve?se=se.concat(Ce(we.errors)):se.push(we)}}}if(se)throw new ve(se)}add(se){let Y=se;if(!se)return de.EMPTY;switch(typeof se){case"function":Y=new de(se);case"object":if(Y===this||Y.closed||"function"!=typeof Y.unsubscribe)return Y;if(this.closed)return Y.unsubscribe(),Y;if(!(Y instanceof de)){const ne=Y;Y=new de,Y._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+se+" added to Subscription.")}let{_parentOrParents:te}=Y;if(null===te)Y._parentOrParents=this;else if(te instanceof de){if(te===this)return Y;Y._parentOrParents=[te,this]}else{if(-1!==te.indexOf(this))return Y;te.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[Y]:ie.push(Y),Y}remove(se){const Y=this._subscriptions;if(Y){const te=Y.indexOf(se);-1!==te&&Y.splice(te,1)}}}var he;function Ce(he){return he.reduce((se,Y)=>se.concat(Y instanceof ve?Y.errors:Y),[])}de.EMPTY=((he=new de).closed=!0,he)},2494:(dt,Le,G)=>{"use strict";G.d(Le,{v:()=>A});let b=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ee){if(ee){const ye=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ye.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=ee},get useDeprecatedSynchronousErrorHandling(){return b}}},5345:(dt,Le,G)=>{"use strict";G.d(Le,{IY:()=>ye,Ds:()=>de,ft:()=>he});var b=G(7393),A=G(7574),ee=G(7444);class ye extends b.L{constructor(Y){super(),this.parent=Y}_next(Y){this.parent.notifyNext(Y)}_error(Y){this.parent.notifyError(Y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class de extends b.L{notifyNext(Y){this.destination.next(Y)}notifyError(Y){this.destination.error(Y)}notifyComplete(){this.destination.complete()}}function he(se,Y){if(Y.closed)return;if(se instanceof A.y)return se.subscribe(Y);let te;try{te=(0,ee.s)(se)(Y)}catch(ie){Y.error(ie)}return te}},2441:(dt,Le,G)=>{"use strict";G.d(Le,{c:()=>ve,N:()=>de});var b=G(9765),A=G(7574),ee=G(5319),ye=G(1307);class ve extends A.y{constructor(te,ie){super(),this.source=te,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(te){return this.getSubject().subscribe(te)}getSubject(){const te=this._subject;return(!te||te.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let te=this._connection;return te||(this._isComplete=!1,te=this._connection=new ee.w,te.add(this.source.subscribe(new Ce(this.getSubject(),this))),te.closed&&(this._connection=null,te=ee.w.EMPTY)),te}refCount(){return(0,ye.x)()(this)}}const de=(()=>{const Y=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class Ce extends b.Yc{constructor(te,ie){super(te),this.connectable=ie}_error(te){this._unsubscribe(),super._error(te)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const te=this.connectable;if(te){this.connectable=null;const ie=te._connection;te._refCount=0,te._subject=null,te._connection=null,ie&&ie.unsubscribe()}}}},8071:(dt,Le,G)=>{"use strict";G.d(Le,{z:()=>ye});var b=G(5917),A=G(3282);function ye(...ve){return(0,A.J)(1)((0,b.of)(...ve))}},9193:(dt,Le,G)=>{"use strict";G.d(Le,{E:()=>A,c:()=>ee});var b=G(7574);const A=new b.y(ve=>ve.complete());function ee(ve){return ve?function(ve){return new b.y(de=>ve.schedule(()=>de.complete()))}(ve):A}},4402:(dt,Le,G)=>{"use strict";G.d(Le,{D:()=>Ne});var b=G(7574),A=G(7444),ee=G(5319),ye=G(6554),Ce=G(4087),he=G(377),te=G(4072),ie=G(9489);function Ne(be,we){return we?function(be,we){if(null!=be){if(function(be){return be&&"function"==typeof be[ye.L]}(be))return function(be,we){return new b.y(Xe=>{const je=new ee.w;return je.add(we.schedule(()=>{const Ze=be[ye.L]();je.add(Ze.subscribe({next(Ke){je.add(we.schedule(()=>Xe.next(Ke)))},error(Ke){je.add(we.schedule(()=>Xe.error(Ke)))},complete(){je.add(we.schedule(()=>Xe.complete()))}}))})),je})}(be,we);if((0,te.t)(be))return function(be,we){return new b.y(Xe=>{const je=new ee.w;return je.add(we.schedule(()=>be.then(Ze=>{je.add(we.schedule(()=>{Xe.next(Ze),je.add(we.schedule(()=>Xe.complete()))}))},Ze=>{je.add(we.schedule(()=>Xe.error(Ze)))}))),je})}(be,we);if((0,ie.z)(be))return(0,Ce.r)(be,we);if(function(be){return be&&"function"==typeof be[he.hZ]}(be)||"string"==typeof be)return function(be,we){if(!be)throw new Error("Iterable cannot be null");return new b.y(Xe=>{const je=new ee.w;let Ze;return je.add(()=>{Ze&&"function"==typeof Ze.return&&Ze.return()}),je.add(we.schedule(()=>{Ze=be[he.hZ](),je.add(we.schedule(function(){if(Xe.closed)return;let Ke,Be;try{const it=Ze.next();Ke=it.value,Be=it.done}catch(it){return void Xe.error(it)}Be?Xe.complete():(Xe.next(Ke),this.schedule())}))})),je})}(be,we)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,we):be instanceof b.y?be:new b.y((0,A.s)(be))}},6693:(dt,Le,G)=>{"use strict";G.d(Le,{n:()=>ye});var b=G(7574),A=G(5015),ee=G(4087);function ye(ve,de){return de?(0,ee.r)(ve,de):new b.y((0,A.V)(ve))}},6682:(dt,Le,G)=>{"use strict";G.d(Le,{T:()=>ve});var b=G(7574),A=G(4869),ee=G(3282),ye=G(6693);function ve(...de){let Ce=Number.POSITIVE_INFINITY,he=null,se=de[de.length-1];return(0,A.K)(se)?(he=de.pop(),de.length>1&&"number"==typeof de[de.length-1]&&(Ce=de.pop())):"number"==typeof se&&(Ce=de.pop()),null===he&&1===de.length&&de[0]instanceof b.y?de[0]:(0,ee.J)(Ce)((0,ye.n)(de,he))}},5917:(dt,Le,G)=>{"use strict";G.d(Le,{of:()=>ye});var b=G(4869),A=G(6693),ee=G(4087);function ye(...ve){let de=ve[ve.length-1];return(0,b.K)(de)?(ve.pop(),(0,ee.r)(ve,de)):(0,A.n)(ve)}},5242:(dt,Le,G)=>{"use strict";G.d(Le,{d:()=>A});var b=G(7393);function A(ve=null){return de=>de.lift(new ee(ve))}class ee{constructor(de){this.defaultValue=de}call(de,Ce){return Ce.subscribe(new ye(de,this.defaultValue))}}class ye extends b.L{constructor(de,Ce){super(de),this.defaultValue=Ce,this.isEmpty=!0}_next(de){this.isEmpty=!1,this.destination.next(de)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(dt,Le,G)=>{"use strict";G.d(Le,{h:()=>A});var b=G(7393);function A(ve,de){return function(he){return he.lift(new ee(ve,de))}}class ee{constructor(de,Ce){this.predicate=de,this.thisArg=Ce}call(de,Ce){return Ce.subscribe(new ye(de,this.predicate,this.thisArg))}}class ye extends b.L{constructor(de,Ce,he){super(de),this.predicate=Ce,this.thisArg=he,this.count=0}_next(de){let Ce;try{Ce=this.predicate.call(this.thisArg,de,this.count++)}catch(he){return void this.destination.error(he)}Ce&&this.destination.next(de)}}},8049:(dt,Le,G)=>{"use strict";G.d(Le,{P:()=>Ce});var b=G(3410),A=G(5435),ee=G(5257),ye=G(5242),ve=G(4635),de=G(4487);function Ce(he,se){const Y=arguments.length>=2;return te=>te.pipe(he?(0,A.h)((ie,ne)=>he(ie,ne,te)):de.y,(0,ee.q)(1),Y?(0,ye.d)(se):(0,ve.T)(()=>new b.K))}},8002:(dt,Le,G)=>{"use strict";G.d(Le,{U:()=>A});var b=G(7393);function A(ve,de){return function(he){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new ee(ve,de))}}class ee{constructor(de,Ce){this.project=de,this.thisArg=Ce}call(de,Ce){return Ce.subscribe(new ye(de,this.project,this.thisArg))}}class ye extends b.L{constructor(de,Ce,he){super(de),this.project=Ce,this.count=0,this.thisArg=he||this}_next(de){let Ce;try{Ce=this.project.call(this.thisArg,de,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(Ce)}}},3282:(dt,Le,G)=>{"use strict";G.d(Le,{J:()=>ee});var b=G(9773),A=G(4487);function ee(ye=Number.POSITIVE_INFINITY){return(0,b.zg)(A.y,ye)}},9773:(dt,Le,G)=>{"use strict";G.d(Le,{zg:()=>ye});var b=G(8002),A=G(4402),ee=G(5345);function ye(he,se,Y=Number.POSITIVE_INFINITY){return"function"==typeof se?te=>te.pipe(ye((ie,ne)=>(0,A.D)(he(ie,ne)).pipe((0,b.U)((ce,Ne)=>se(ie,ce,ne,Ne))),Y)):("number"==typeof se&&(Y=se),te=>te.lift(new ve(he,Y)))}class ve{constructor(se,Y=Number.POSITIVE_INFINITY){this.project=se,this.concurrent=Y}call(se,Y){return Y.subscribe(new de(se,this.project,this.concurrent))}}class de extends ee.Ds{constructor(se,Y,te=Number.POSITIVE_INFINITY){super(se),this.project=Y,this.concurrent=te,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(se){this.active<this.concurrent?this._tryNext(se):this.buffer.push(se)}_tryNext(se){let Y;const te=this.index++;try{Y=this.project(se,te)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub(Y)}_innerSub(se){const Y=new ee.IY(this),te=this.destination;te.add(Y);const ie=(0,ee.ft)(se,Y);ie!==Y&&te.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(se){this.destination.next(se)}notifyComplete(){const se=this.buffer;this.active--,se.length>0?this._next(se.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(dt,Le,G)=>{"use strict";G.d(Le,{ht:()=>te,QV:()=>se});var b=G(7393),A=G(9193),ee=G(5917),ye=G(7574);class he{constructor(ce,Ne,be){this.kind=ce,this.value=Ne,this.error=be,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,Ne,be){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return Ne&&Ne(this.error);case"C":return be&&be()}}accept(ce,Ne,be){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,Ne,be)}toObservable(){switch(this.kind){case"N":return(0,ee.of)(this.value);case"E":return ne=this.error,new ye.y(Ne=>Ne.error(ne));case"C":return(0,A.c)()}var ne;throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new he("N",ce):he.undefinedValueNotification}static createError(ce){return new he("E",void 0,ce)}static createComplete(){return he.completeNotification}}function se(ne,ce=0){return function(be){return be.lift(new Y(ne,ce))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class Y{constructor(ce,Ne=0){this.scheduler=ce,this.delay=Ne}call(ce,Ne){return Ne.subscribe(new te(ce,this.scheduler,this.delay))}}class te extends b.L{constructor(ce,Ne,be=0){super(ce),this.scheduler=Ne,this.delay=be}static dispatch(ce){const{notification:Ne,destination:be}=ce;Ne.observe(be),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(te.dispatch,this.delay,new ie(ce,this.destination)))}_next(ce){this.scheduleMessage(he.createNext(ce))}_error(ce){this.scheduleMessage(he.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class ie{constructor(ce,Ne){this.notification=ce,this.destination=Ne}}},1307:(dt,Le,G)=>{"use strict";G.d(Le,{x:()=>A});var b=G(7393);function A(){return function(de){return de.lift(new ee(de))}}class ee{constructor(de){this.connectable=de}call(de,Ce){const{connectable:he}=this;he._refCount++;const se=new ye(de,he),Y=Ce.subscribe(se);return se.closed||(se.connection=he.connect()),Y}}class ye extends b.L{constructor(de,Ce){super(de),this.connectable=Ce}_unsubscribe(){const{connectable:de}=this;if(!de)return void(this.connection=null);this.connectable=null;const Ce=de._refCount;if(Ce<=0)return void(this.connection=null);if(de._refCount=Ce-1,Ce>1)return void(this.connection=null);const{connection:he}=this,se=de._connection;this.connection=null,se&&(!he||se===he)&&se.unsubscribe()}}},2145:(dt,Le,G)=>{"use strict";G.d(Le,{R:()=>A});var b=G(7393);function A(ve,de){let Ce=!1;return arguments.length>=2&&(Ce=!0),function(se){return se.lift(new ee(ve,de,Ce))}}class ee{constructor(de,Ce,he=!1){this.accumulator=de,this.seed=Ce,this.hasSeed=he}call(de,Ce){return Ce.subscribe(new ye(de,this.accumulator,this.seed,this.hasSeed))}}class ye extends b.L{constructor(de,Ce,he,se){super(de),this.accumulator=Ce,this._seed=he,this.hasSeed=se,this.index=0}get seed(){return this._seed}set seed(de){this.hasSeed=!0,this._seed=de}_next(de){if(this.hasSeed)return this._tryNext(de);this.seed=de,this.destination.next(de)}_tryNext(de){const Ce=this.index++;let he;try{he=this.accumulator(this.seed,de,Ce)}catch(se){this.destination.error(se)}this.seed=he,this.destination.next(he)}}},9761:(dt,Le,G)=>{"use strict";G.d(Le,{O:()=>ee});var b=G(8071),A=G(4869);function ee(...ye){const ve=ye[ye.length-1];return(0,A.K)(ve)?(ye.pop(),de=>(0,b.z)(ye,de,ve)):de=>(0,b.z)(ye,de)}},3101:(dt,Le,G)=>{"use strict";G.d(Le,{R:()=>we});var b=G(7574);let A=1;const ee=Promise.resolve(),ye={};function ve(je){return je in ye&&(delete ye[je],!0)}const de={setImmediate(je){const Ze=A++;return ye[Ze]=!0,ee.then(()=>ve(Ze)&&je()),Ze},clearImmediate(je){ve(je)}};var he=G(6465),Y=G(6102);const ne=new class extends Y.v{flush(Ze){this.active=!0,this.scheduled=void 0;const{actions:Ke}=this;let Be,it=-1,Oe=Ke.length;Ze=Ze||Ke.shift();do{if(Be=Ze.execute(Ze.state,Ze.delay))break}while(++it<Oe&&(Ze=Ke.shift()));if(this.active=!1,Be){for(;++it<Oe&&(Ze=Ke.shift());)Ze.unsubscribe();throw Be}}}(class extends he.o{constructor(Ze,Ke){super(Ze,Ke),this.scheduler=Ze,this.work=Ke}requestAsyncId(Ze,Ke,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ze,Ke,Be):(Ze.actions.push(this),Ze.scheduled||(Ze.scheduled=de.setImmediate(Ze.flush.bind(Ze,null))))}recycleAsyncId(Ze,Ke,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Ze,Ke,Be);0===Ze.actions.length&&(de.clearImmediate(Ke),Ze.scheduled=void 0)}});var ce=G(9796);class be extends b.y{constructor(Ze,Ke=0,Be=ne){var je;super(),this.source=Ze,this.delayTime=Ke,this.scheduler=Be,(!(!(0,ce.k)(je=Ke)&&je-parseFloat(je)+1>=0)||Ke<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=ne)}static create(Ze,Ke=0,Be=ne){return new be(Ze,Ke,Be)}static dispatch(Ze){const{source:Ke,subscriber:Be}=Ze;return this.add(Ke.subscribe(Be))}_subscribe(Ze){return this.scheduler.schedule(be.dispatch,this.delayTime,{source:this.source,subscriber:Ze})}}function we(je,Ze=0){return function(Be){return Be.lift(new Xe(je,Ze))}}class Xe{constructor(Ze,Ke){this.scheduler=Ze,this.delay=Ke}call(Ze,Ke){return new be(Ke,this.delay,this.scheduler).subscribe(Ze)}}},3190:(dt,Le,G)=>{"use strict";G.d(Le,{w:()=>ye});var b=G(8002),A=G(4402),ee=G(5345);function ye(Ce,he){return"function"==typeof he?se=>se.pipe(ye((Y,te)=>(0,A.D)(Ce(Y,te)).pipe((0,b.U)((ie,ne)=>he(Y,ie,te,ne))))):se=>se.lift(new ve(Ce))}class ve{constructor(he){this.project=he}call(he,se){return se.subscribe(new de(he,this.project))}}class de extends ee.Ds{constructor(he,se){super(he),this.project=se,this.index=0}_next(he){let se;const Y=this.index++;try{se=this.project(he,Y)}catch(te){return void this.destination.error(te)}this._innerSub(se)}_innerSub(he){const se=this.innerSubscription;se&&se.unsubscribe();const Y=new ee.IY(this),te=this.destination;te.add(Y),this.innerSubscription=(0,ee.ft)(he,Y),this.innerSubscription!==Y&&te.add(this.innerSubscription)}_complete(){const{innerSubscription:he}=this;(!he||he.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(he){this.destination.next(he)}}},5257:(dt,Le,G)=>{"use strict";G.d(Le,{q:()=>ye});var b=G(7393),A=G(7108),ee=G(9193);function ye(Ce){return he=>0===Ce?(0,ee.c)():he.lift(new ve(Ce))}class ve{constructor(he){if(this.total=he,this.total<0)throw new A.W}call(he,se){return se.subscribe(new de(he,this.total))}}class de extends b.L{constructor(he,se){super(he),this.total=se,this.count=0}_next(he){const se=this.total,Y=++this.count;Y<=se&&(this.destination.next(he),Y===se&&(this.destination.complete(),this.unsubscribe()))}}},3342:(dt,Le,G)=>{"use strict";G.d(Le,{b:()=>ye});var b=G(7393);function A(){}var ee=G(9105);function ye(Ce,he,se){return function(te){return te.lift(new ve(Ce,he,se))}}class ve{constructor(he,se,Y){this.nextOrObserver=he,this.error=se,this.complete=Y}call(he,se){return se.subscribe(new de(he,this.nextOrObserver,this.error,this.complete))}}class de extends b.L{constructor(he,se,Y,te){super(he),this._tapNext=A,this._tapError=A,this._tapComplete=A,this._tapError=Y||A,this._tapComplete=te||A,(0,ee.m)(se)?(this._context=this,this._tapNext=se):se&&(this._context=se,this._tapNext=se.next||A,this._tapError=se.error||A,this._tapComplete=se.complete||A)}_next(he){try{this._tapNext.call(this._context,he)}catch(se){return void this.destination.error(se)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(se){return void this.destination.error(se)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4635:(dt,Le,G)=>{"use strict";G.d(Le,{T:()=>ee});var b=G(3410),A=G(7393);function ee(Ce=de){return he=>he.lift(new ye(Ce))}class ye{constructor(he){this.errorFactory=he}call(he,se){return se.subscribe(new ve(he,this.errorFactory))}}class ve extends A.L{constructor(he,se){super(he),this.errorFactory=se,this.hasValue=!1}_next(he){this.hasValue=!0,this.destination.next(he)}_complete(){if(this.hasValue)return this.destination.complete();{let he;try{he=this.errorFactory()}catch(se){he=se}this.destination.error(he)}}}function de(){return new b.K}},4087:(dt,Le,G)=>{"use strict";G.d(Le,{r:()=>ee});var b=G(7574),A=G(5319);function ee(ye,ve){return new b.y(de=>{const Ce=new A.w;let he=0;return Ce.add(ve.schedule(function(){he!==ye.length?(de.next(ye[he++]),de.closed||Ce.add(this.schedule())):de.complete()})),Ce})}},6465:(dt,Le,G)=>{"use strict";G.d(Le,{o:()=>ee});var b=G(5319);class A extends b.w{constructor(ve,de){super()}schedule(ve,de=0){return this}}class ee extends A{constructor(ve,de){super(ve,de),this.scheduler=ve,this.work=de,this.pending=!1}schedule(ve,de=0){if(this.closed)return this;this.state=ve;const Ce=this.id,he=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(he,Ce,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(he,this.id,de),this}requestAsyncId(ve,de,Ce=0){return setInterval(ve.flush.bind(ve,this),Ce)}recycleAsyncId(ve,de,Ce=0){if(null!==Ce&&this.delay===Ce&&!1===this.pending)return de;clearInterval(de)}execute(ve,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(ve,de);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,de){let he,Ce=!1;try{this.work(ve)}catch(se){Ce=!0,he=!!se&&se||new Error(se)}if(Ce)return this.unsubscribe(),he}_unsubscribe(){const ve=this.id,de=this.scheduler,Ce=de.actions,he=Ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&Ce.splice(he,1),null!=ve&&(this.id=this.recycleAsyncId(de,ve,null)),this.delay=null}}},6102:(dt,Le,G)=>{"use strict";G.d(Le,{v:()=>A});let b=(()=>{class ee{constructor(ve,de=ee.now){this.SchedulerAction=ve,this.now=de}schedule(ve,de=0,Ce){return new this.SchedulerAction(this,ve).schedule(Ce,de)}}return ee.now=()=>Date.now(),ee})();class A extends b{constructor(ye,ve=b.now){super(ye,()=>A.delegate&&A.delegate!==this?A.delegate.now():ve()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ye,ve=0,de){return A.delegate&&A.delegate!==this?A.delegate.schedule(ye,ve,de):super.schedule(ye,ve,de)}flush(ye){const{actions:ve}=this;if(this.active)return void ve.push(ye);let de;this.active=!0;do{if(de=ye.execute(ye.state,ye.delay))break}while(ye=ve.shift());if(this.active=!1,de){for(;ye=ve.shift();)ye.unsubscribe();throw de}}}},3637:(dt,Le,G)=>{"use strict";G.d(Le,{z:()=>ee});var b=G(6465);const ee=new(G(6102).v)(b.o)},7771:(dt,Le,G)=>{"use strict";G.d(Le,{c:()=>de,N:()=>ve});var b=G(6465),ee=G(6102);const ve=new class extends ee.v{}(class extends b.o{constructor(he,se){super(he,se),this.scheduler=he,this.work=se}schedule(he,se=0){return se>0?super.schedule(he,se):(this.delay=se,this.state=he,this.scheduler.flush(this),this)}execute(he,se){return se>0||this.closed?super.execute(he,se):this._execute(he,se)}requestAsyncId(he,se,Y=0){return null!==Y&&Y>0||null===Y&&this.delay>0?super.requestAsyncId(he,se,Y):he.flush(this)}}),de=ve},377:(dt,Le,G)=>{"use strict";G.d(Le,{hZ:()=>A});const A="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(dt,Le,G)=>{"use strict";G.d(Le,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(dt,Le,G)=>{"use strict";G.d(Le,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(dt,Le,G)=>{"use strict";G.d(Le,{W:()=>A});const A=(()=>{function ee(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ee.prototype=Object.create(Error.prototype),ee})()},3410:(dt,Le,G)=>{"use strict";G.d(Le,{K:()=>A});const A=(()=>{function ee(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ee.prototype=Object.create(Error.prototype),ee})()},7971:(dt,Le,G)=>{"use strict";G.d(Le,{N:()=>A});const A=(()=>{function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ee.prototype=Object.create(Error.prototype),ee})()},4449:(dt,Le,G)=>{"use strict";function b(A){setTimeout(()=>{throw A},0)}G.d(Le,{z:()=>b})},4487:(dt,Le,G)=>{"use strict";function b(A){return A}G.d(Le,{y:()=>b})},9796:(dt,Le,G)=>{"use strict";G.d(Le,{k:()=>b});const b=Array.isArray||(A=>A&&"number"==typeof A.length)},9489:(dt,Le,G)=>{"use strict";G.d(Le,{z:()=>b});const b=A=>A&&"number"==typeof A.length&&"function"!=typeof A},9105:(dt,Le,G)=>{"use strict";function b(A){return"function"==typeof A}G.d(Le,{m:()=>b})},1555:(dt,Le,G)=>{"use strict";function b(A){return null!==A&&"object"==typeof A}G.d(Le,{K:()=>b})},4072:(dt,Le,G)=>{"use strict";function b(A){return!!A&&"function"!=typeof A.subscribe&&"function"==typeof A.then}G.d(Le,{t:()=>b})},4869:(dt,Le,G)=>{"use strict";function b(A){return A&&"function"==typeof A.schedule}G.d(Le,{K:()=>b})},7444:(dt,Le,G)=>{"use strict";G.d(Le,{s:()=>te});var b=G(5015),A=G(4449),ye=G(377),de=G(6554),he=G(9489),se=G(4072),Y=G(1555);const te=ie=>{if(ie&&"function"==typeof ie[de.L])return(ie=>ne=>{const ce=ie[de.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(ne)})(ie);if((0,he.z)(ie))return(0,b.V)(ie);if((0,se.t)(ie))return(ie=>ne=>(ie.then(ce=>{ne.closed||(ne.next(ce),ne.complete())},ce=>ne.error(ce)).then(null,A.z),ne))(ie);if(ie&&"function"==typeof ie[ye.hZ])return(ie=>ne=>{const ce=ie[ye.hZ]();for(;;){let Ne;try{Ne=ce.next()}catch(be){return ne.error(be),ne}if(Ne.done){ne.complete();break}if(ne.next(Ne.value),ne.closed)break}return"function"==typeof ce.return&&ne.add(()=>{ce.return&&ce.return()}),ne})(ie);{const ce=`You provided ${(0,Y.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(dt,Le,G)=>{"use strict";G.d(Le,{V:()=>b});const b=A=>ee=>{for(let ye=0,ve=A.length;ye<ve&&!ee.closed;ye++)ee.next(A[ye]);ee.complete()}},4570:(dt,Le,G)=>{"use strict";var b=G(8583),A=G(3018);class ee extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends ee{static makeCurrent(){(0,b.HT)(new ye)}onAndCancel(r,o,c){return r.addEventListener(o,c,!1),()=>{r.removeEventListener(o,c,!1)}}dispatchEvent(r,o){r.dispatchEvent(o)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,o){return(o=o||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,o){return"window"===o?window:"document"===o?r:"body"===o?r.body:null}getBaseHref(r){const o=(ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null);return null==o?null:function(u){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",u);const r=Ce.pathname;return"/"===r.charAt(0)?r:`/${r}`}(o)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return(0,b.Mx)(document.cookie,r)}}let Ce,ve=null;const se=new A.OlP("TRANSITION_ID"),te=[{provide:A.ip1,useFactory:function(u,r,o){return()=>{o.get(A.CZH).donePromise.then(()=>{const c=(0,b.q)();Array.prototype.slice.apply(r.querySelectorAll("style[ng-transition]")).filter(_=>_.getAttribute("ng-transition")===u).forEach(_=>c.remove(_))})}},deps:[se,b.K0,A.zs3],multi:!0}];class ie{static init(){(0,A.VLi)(new ie)}addToWindow(r){A.dqk.getAngularTestability=(c,h=!0)=>{const _=r.findTestabilityInTree(c,h);if(null==_)throw new Error("Could not find testability for element.");return _},A.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(c=>{const h=A.dqk.getAllAngularTestabilities();let _=h.length,C=!1;const N=function(B){C=C||B,_--,0==_&&c(C)};h.forEach(function(B){B.whenStable(N)})})}findTestabilityInTree(r,o,c){if(null==o)return null;const h=r.getTestability(o);return null!=h?h:c?(0,b.q)().isShadowRoot(o)?this.findTestabilityInTree(r,o.host,!0):this.findTestabilityInTree(r,o.parentElement,!0):null}}let ne=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();const xe=new A.OlP("EventManagerPlugins");let Te=(()=>{class u{constructor(o,c){this._zone=c,this._eventNameToPlugin=new Map,o.forEach(h=>h.manager=this),this._plugins=o.slice().reverse()}addEventListener(o,c,h){return this._findPluginFor(c).addEventListener(o,c,h)}addGlobalEventListener(o,c,h){return this._findPluginFor(c).addGlobalEventListener(o,c,h)}getZone(){return this._zone}_findPluginFor(o){const c=this._eventNameToPlugin.get(o);if(c)return c;const h=this._plugins;for(let _=0;_<h.length;_++){const C=h[_];if(C.supports(o))return this._eventNameToPlugin.set(o,C),C}throw new Error(`No event manager plugin found for event ${o}`)}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(xe),A.LFG(A.R0b))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();class Ae{constructor(r){this._doc=r}addGlobalEventListener(r,o,c){const h=(0,b.q)().getGlobalEventTarget(this._doc,r);if(!h)throw new Error(`Unsupported event target ${h} for event ${o}`);return this.addEventListener(h,o,c)}}let me=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(o){const c=new Set;o.forEach(h=>{this._stylesSet.has(h)||(this._stylesSet.add(h),c.add(h))}),this.onStylesAdded(c)}onStylesAdded(o){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})(),Ye=(()=>{class u extends me{constructor(o){super(),this._doc=o,this._hostNodes=new Map,this._hostNodes.set(o.head,[])}_addStylesToHost(o,c,h){o.forEach(_=>{const C=this._doc.createElement("style");C.textContent=_,h.push(c.appendChild(C))})}addHost(o){const c=[];this._addStylesToHost(this._stylesSet,o,c),this._hostNodes.set(o,c)}removeHost(o){const c=this._hostNodes.get(o);c&&c.forEach(gt),this._hostNodes.delete(o)}onStylesAdded(o){this._hostNodes.forEach((c,h)=>{this._addStylesToHost(o,h,c)})}ngOnDestroy(){this._hostNodes.forEach(o=>o.forEach(gt))}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(b.K0))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();function gt(u){(0,b.q)().remove(u)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function Gt(u,r,o){for(let c=0;c<r.length;c++){let h=r[c];Array.isArray(h)?Gt(u,h,o):(h=h.replace(yt,u),o.push(h))}return o}function fr(u){return r=>{if("__ngUnwrap__"===r)return u;!1===u(r)&&(r.preventDefault(),r.returnValue=!1)}}let Vn=(()=>{class u{constructor(o,c,h){this.eventManager=o,this.sharedStylesHost=c,this.appId=h,this.rendererByCompId=new Map,this.defaultRenderer=new En(o)}createRenderer(o,c){if(!o||!c)return this.defaultRenderer;switch(c.encapsulation){case A.ifc.Emulated:{let h=this.rendererByCompId.get(c.id);return h||(h=new ur(this.eventManager,this.sharedStylesHost,c,this.appId),this.rendererByCompId.set(c.id,h)),h.applyToHost(o),h}case 1:case A.ifc.ShadowDom:return new fs(this.eventManager,this.sharedStylesHost,o,c);default:if(!this.rendererByCompId.has(c.id)){const h=Gt(c.id,c.styles,[]);this.sharedStylesHost.addStyles(h),this.rendererByCompId.set(c.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(Te),A.LFG(Ye),A.LFG(A.AFp))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();class En{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,o){return o?document.createElementNS(Vt[o]||o,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,o){r.appendChild(o)}insertBefore(r,o,c){r&&r.insertBefore(o,c)}removeChild(r,o){r&&r.removeChild(o)}selectRootElement(r,o){let c="string"==typeof r?document.querySelector(r):r;if(!c)throw new Error(`The selector "${r}" did not match any elements`);return o||(c.textContent=""),c}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,o,c,h){if(h){o=h+":"+o;const _=Vt[h];_?r.setAttributeNS(_,o,c):r.setAttribute(o,c)}else r.setAttribute(o,c)}removeAttribute(r,o,c){if(c){const h=Vt[c];h?r.removeAttributeNS(h,o):r.removeAttribute(`${c}:${o}`)}else r.removeAttribute(o)}addClass(r,o){r.classList.add(o)}removeClass(r,o){r.classList.remove(o)}setStyle(r,o,c,h){h&(A.JOm.DashCase|A.JOm.Important)?r.style.setProperty(o,c,h&A.JOm.Important?"important":""):r.style[o]=c}removeStyle(r,o,c){c&A.JOm.DashCase?r.style.removeProperty(o):r.style[o]=""}setProperty(r,o,c){r[o]=c}setValue(r,o){r.nodeValue=o}listen(r,o,c){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,o,fr(c)):this.eventManager.addEventListener(r,o,fr(c))}}class ur extends En{constructor(r,o,c,h){super(r),this.component=c;const _=Gt(h+"-"+c.id,c.styles,[]);o.addStyles(_),this.contentAttr="_ngcontent-%COMP%".replace(yt,h+"-"+c.id),this.hostAttr=function(u){return"_nghost-%COMP%".replace(yt,u)}(h+"-"+c.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,o){const c=super.createElement(r,o);return super.setAttribute(c,this.contentAttr,""),c}}class fs extends En{constructor(r,o,c,h){super(r),this.sharedStylesHost=o,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Gt(h.id,h.styles,[]);for(let C=0;C<_.length;C++){const N=document.createElement("style");N.textContent=_[C],this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,o){return super.appendChild(this.nodeOrShadowRoot(r),o)}insertBefore(r,o,c){return super.insertBefore(this.nodeOrShadowRoot(r),o,c)}removeChild(r,o){return super.removeChild(this.nodeOrShadowRoot(r),o)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Di=(()=>{class u extends Ae{constructor(o){super(o)}supports(o){return!0}addEventListener(o,c,h){return o.addEventListener(c,h,!1),()=>this.removeEventListener(o,c,h)}removeEventListener(o,c,h){return o.removeEventListener(c,h)}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(b.K0))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();const hn=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ft={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let On=(()=>{class u extends Ae{constructor(o){super(o)}supports(o){return null!=u.parseEventName(o)}addEventListener(o,c,h){const _=u.parseEventName(c),C=u.eventCallback(_.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(o,_.domEventName,C))}static parseEventName(o){const c=o.toLowerCase().split("."),h=c.shift();if(0===c.length||"keydown"!==h&&"keyup"!==h)return null;const _=u._normalizeKey(c.pop());let C="";if(hn.forEach(B=>{const K=c.indexOf(B);K>-1&&(c.splice(K,1),C+=B+".")}),C+=_,0!=c.length||0===_.length)return null;const N={};return N.domEventName=h,N.fullKey=C,N}static getEventFullKey(o){let c="",h=function(u){let r=u.key;if(null==r){if(r=u.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===u.location&&Tr.hasOwnProperty(r)&&(r=Tr[r]))}return ft[r]||r}(o);return h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),hn.forEach(_=>{_!=h&&Ft[_](o)&&(c+=_+".")}),c+=h,c}static eventCallback(o,c,h){return _=>{u.getEventFullKey(_)===o&&h.runGuarded(()=>c(_))}}static _normalizeKey(o){switch(o){case"esc":return"escape";default:return o}}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(b.K0))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac}),u})();const gn=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:b.bD},{provide:A.g9A,useValue:function(){ye.makeCurrent(),ie.init()},multi:!0},{provide:b.K0,useFactory:function(){return(0,A.RDi)(document),document},deps:[]}]),Ai=[[],{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function(){return new A.qLn},deps:[]},{provide:xe,useClass:Di,multi:!0,deps:[b.K0,A.R0b,A.Lbi]},{provide:xe,useClass:On,multi:!0,deps:[b.K0]},[],{provide:Vn,useClass:Vn,deps:[Te,Ye,A.AFp]},{provide:A.FYo,useExisting:Vn},{provide:me,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[b.K0]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b]},{provide:Te,useClass:Te,deps:[xe,A.R0b]},{provide:b.JF,useClass:ne,deps:[]},[]];let Xi=(()=>{class u{constructor(o){if(o)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(o){return{ngModule:u,providers:[{provide:A.AFp,useValue:o.appId},{provide:se,useExisting:A.AFp},te]}}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(u,12))},u.\u0275mod=A.oAB({type:u}),u.\u0275inj=A.cJS({providers:Ai,imports:[b.ez,A.hGG]}),u})();"undefined"!=typeof window&&window;var Qn=G(6575),bn=G(3637),Xr=G(7574),ei=G(4402),It=G(5917),Jn=G(9126),ci=G(9761),gs=G(7393);function yr(){return u=>u.lift(new Sr)}class Sr{call(r,o){return o.subscribe(new Ui(r))}}class Ui extends gs.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let o;this.hasPrev?o=[this.prev,r]:this.hasPrev=!0,this.prev=r,o&&this.destination.next(o)}}var Xn=G(8002),_r=G(2145);class ks{constructor(r,o){this.compare=r,this.keySelector=o}call(r,o){return o.subscribe(new ms(r,this.compare,this.keySelector))}}class ms extends gs.L{constructor(r,o,c){super(r),this.keySelector=c,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(r,o){return r===o}_next(r){let o;try{const{keySelector:h}=this;o=h?h(r):r}catch(h){return this.destination.error(h)}let c=!1;if(this.hasKey)try{const{compare:h}=this;c=h(this.key,o)}catch(h){return this.destination.error(h)}else this.hasKey=!0;c||(this.key=o,this.destination.next(r))}}var xi=G(5435),vr=G(309),lr=G(8939),Ri=(G(9083),G(4486)),Me=G(8239),cr=G(5452),jr=G(6034),Dn=G(300),Rt=G(4685),_s=function(u,r){return(_s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h])})(u,r)};function Hr(u){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&u[r],c=0;if(o)return o.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var ct,Fs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ls=Ls||{},At=Fs||self;function ro(){}function ts(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function di(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var Vs="closure_uid_"+(1e9*Math.random()>>>0),ns=0;function Ca(u,r,o){return u.call.apply(u.bind,arguments)}function Go(u,r,o){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function xn(u,r,o){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ca:Go).apply(null,arguments)}function ji(u,r){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function kn(u,r){function o(){}o.prototype=r.prototype,u.Z=r.prototype,u.prototype=new o,u.prototype.constructor=u,u.Vb=function(c,h,_){for(var C=Array(arguments.length-2),N=2;N<arguments.length;N++)C[N-2]=arguments[N];return r.prototype[h].apply(c,C)}}function rs(){this.s=this.s,this.o=this.o}var ba={};rs.prototype.s=!1,rs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,Vs)&&u[Vs]||(u[Vs]=++ns)}(this);delete ba[u]}},rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var io=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var o=0;o<u.length;o++)if(o in u&&u[o]===r)return o;return-1},hi=Array.prototype.forEach?function(u,r,o){Array.prototype.forEach.call(u,r,o)}:function(u,r,o){for(var c=u.length,h="string"==typeof u?u.split(""):u,_=0;_<c;_++)_ in h&&r.call(o,h[_],_,u)};function Us(u){return Array.prototype.concat.apply([],arguments)}function qo(u){var r=u.length;if(0<r){for(var o=Array(r),c=0;c<r;c++)o[c]=u[c];return o}return[]}function fi(u){return/^[\s\xa0]*$/.test(u)}var H,F=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function O(u,r){return-1!=u.indexOf(r)}function x(u,r){return u<r?-1:u>r?1:0}e:{var Ve=At.navigator;if(Ve){var lt=Ve.userAgent;if(lt){H=lt;break e}}H=""}function tn(u,r,o){for(var c in u)r.call(o,u[c],c,u)}function Lr(u){var r={};for(var o in u)r[o]=u[o];return r}var xr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bs(u,r){for(var o,c,h=1;h<arguments.length;h++){for(o in c=arguments[h])u[o]=c[o];for(var _=0;_<xr.length;_++)o=xr[_],Object.prototype.hasOwnProperty.call(c,o)&&(u[o]=c[o])}}function zn(u){return zn[" "](u),u}zn[" "]=ro;var mt,u,P=O(H,"Opera"),j=O(H,"Trident")||O(H,"MSIE"),k=O(H,"Edge"),W=k||j,oe=O(H,"Gecko")&&!(O(H.toLowerCase(),"webkit")&&!O(H,"Edge"))&&!(O(H,"Trident")||O(H,"MSIE"))&&!O(H,"Edge"),Ie=O(H.toLowerCase(),"webkit")&&!O(H,"Edge");function Qe(){var u=At.document;return u?u.documentMode:void 0}e:{var Ht="",Mt=(u=H,oe?/rv:([^\);]+)(\)|;)/.exec(u):k?/Edge\/([\d\.]+)/.exec(u):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Ie?/WebKit\/(\S+)/.exec(u):P?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Mt&&(Ht=Mt?Mt[1]:""),j){var Tn=Qe();if(null!=Tn&&Tn>parseFloat(Ht)){mt=String(Tn);break e}}mt=Ht}var sn={};function Zn(){return r=sn,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=F(String(mt)).split("."),o=F("9").split("."),c=Math.max(r.length,o.length),h=0;0==u&&h<c;h++){var _=r[h]||"",C=o[h]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],0==_[0].length&&0==C[0].length)break;u=x(0==_[1].length?0:parseInt(_[1],10),0==C[1].length?0:parseInt(C[1],10))||x(0==_[2].length,0==C[2].length)||x(_[2],C[2]),_=_[3],C=C[3]}while(0==u)}return 0<=u}();var r}var vs=At.document&&j&&(Qe()||parseInt(mt,10))||void 0,$r=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{At.addEventListener("test",ro,r),At.removeEventListener("test",ro,r)}catch(o){}return u}();function on(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function Gr(u,r){if(on.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var o=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(oe){e:{try{zn(r.nodeName);var h=!0;break e}catch(_){}h=!1}h||(r=null)}}else"mouseover"==o?r=u.fromElement:"mouseout"==o&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Wo[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Gr.Z.h.call(this)}}on.prototype.h=function(){this.defaultPrevented=!0},kn(Gr,on);var Wo={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pi="closure_listenable_"+(1e6*Math.random()|0),is=0;function zo(u,r,o,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=o,this.capture=!!c,this.ia=h,this.key=++is,this.ca=this.fa=!1}function Zo(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function Nt(u){this.src=u,this.g={},this.h=0}function Rl(u,r){var o=r.type;if(o in u.g){var _,c=u.g[o],h=io(c,r);(_=0<=h)&&Array.prototype.splice.call(c,h,1),_&&(Zo(r),0==u.g[o].length&&(delete u.g[o],u.h--))}}function Xa(u,r,o,c){for(var h=0;h<u.length;++h){var _=u[h];if(!_.ca&&_.listener==r&&_.capture==!!o&&_.ia==c)return h}return-1}Nt.prototype.add=function(u,r,o,c,h){var _=u.toString();(u=this.g[_])||(u=this.g[_]=[],this.h++);var C=Xa(u,r,c,h);return-1<C?(r=u[C],o||(r.fa=!1)):((r=new zo(r,this.src,_,!!c,h)).fa=o,u.push(r)),r};var Nl="closure_lm_"+(1e6*Math.random()|0),eu={};function tu(u,r,o,c,h){if(c&&c.once)return ze(u,r,o,c,h);if(Array.isArray(r)){for(var _=0;_<r.length;_++)tu(u,r[_],o,c,h);return null}return o=nu(o),u&&u[pi]?u.N(r,o,di(c)?!!c.capture:!!c,h):Lu(u,r,o,!1,c,h)}function Lu(u,r,o,c,h,_){if(!r)throw Error("Invalid event type");var C=di(h)?!!h.capture:!!h,N=Es(u);if(N||(u[Nl]=N=new Nt(u)),(o=N.add(r,o,c,C,_)).proxy)return o;if(c=function(){var r=Uu;return function u(o){return r.call(u.src,u.listener,o)}}(),o.proxy=c,c.src=u,c.listener=o,u.addEventListener)$r||(h=C),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(er(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return o}function ze(u,r,o,c,h){if(Array.isArray(r)){for(var _=0;_<r.length;_++)ze(u,r[_],o,c,h);return null}return o=nu(o),u&&u[pi]?u.O(r,o,di(c)?!!c.capture:!!c,h):Lu(u,r,o,!0,c,h)}function un(u,r,o,c,h){if(Array.isArray(r))for(var _=0;_<r.length;_++)un(u,r[_],o,c,h);else c=di(c)?!!c.capture:!!c,o=nu(o),u&&u[pi]?(u=u.i,(r=String(r).toString())in u.g&&-1<(o=Xa(_=u.g[r],o,c,h))&&(Zo(_[o]),Array.prototype.splice.call(_,o,1),0==_.length&&(delete u.g[r],u.h--))):u&&(u=Es(u))&&(r=u.g[r.toString()],u=-1,r&&(u=Xa(r,o,c,h)),(o=-1<u?r[u]:null)&&Vu(o))}function Vu(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[pi])Rl(r.i,u);else{var o=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(o,c,u.capture):r.detachEvent?r.detachEvent(er(o),c):r.addListener&&r.removeListener&&r.removeListener(c),(o=Es(r))?(Rl(o,u),0==o.h&&(o.src=null,r[Nl]=null)):Zo(u)}}}function er(u){return u in eu?eu[u]:eu[u]="on"+u}function Uu(u,r){if(u.ca)u=!0;else{r=new Gr(r,this);var o=u.listener,c=u.ia||u.src;u.fa&&Vu(u),u=o.call(c,r)}return u}function Es(u){return(u=u[Nl])instanceof Nt?u:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(u){return"function"==typeof u?u:(u[Ni]||(u[Ni]=function(r){return u.handleEvent(r)}),u[Ni])}function Hn(){rs.call(this),this.i=new Nt(this),this.P=this,this.I=null}function ti(u,r){var o,c=u.I;if(c)for(o=[];c;c=c.I)o.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new on(r,u);else if(r instanceof on)r.target=r.target||u;else{var h=r;Bs(r=new on(c,u),h)}if(h=!0,o)for(var _=o.length-1;0<=_;_--){var C=r.g=o[_];h=Da(C,c,!0,r)&&h}if(h=Da(C=r.g=u,c,!0,r)&&h,h=Da(C,c,!1,r)&&h,o)for(_=0;_<o.length;_++)h=Da(C=r.g=o[_],c,!1,r)&&h}function Da(u,r,o,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,_=0;_<r.length;++_){var C=r[_];if(C&&!C.ca&&C.capture==o){var N=C.listener,B=C.ia||C.src;C.fa&&Rl(u.i,C),h=!1!==N.call(B,c)&&h}}return h&&!c.defaultPrevented}kn(Hn,rs),Hn.prototype[pi]=!0,Hn.prototype.removeEventListener=function(u,r,o,c){un(this,u,r,o,c)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var o=u.g[r],c=0;c<o.length;c++)Zo(o[c]);delete u.g[r],u.h--}}this.I=null},Hn.prototype.N=function(u,r,o,c){return this.i.add(String(u),r,!1,o,c)},Hn.prototype.O=function(u,r,o,c){return this.i.add(String(u),r,!0,o,c)};var Ta=At.JSON.stringify;function Aa(){var u=Sc,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var Bu,gi=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,o){var c=Hi.get();c.set(r,o),this.h?this.h.next=c:this.g=c,this.h=c},u}(),Hi=new(function(){function u(r,o){this.i=r,this.j=o,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new Ac},function(u){return u.reset()}),Ac=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,o){this.h=r,this.g=o,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function Io(u){At.setTimeout(function(){throw u},0)}function ws(u,r){Bu||function(){var u=At.Promise.resolve(void 0);Bu=function(){u.then(bo)}}(),ru||(Bu(),ru=!0),Sc.add(u,r)}var ru=!1,Sc=new gi;function bo(){for(var u;u=Aa();){try{u.h.call(u.g)}catch(o){Io(o)}var r=Hi;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}ru=!1}function Ko(u,r){Hn.call(this),this.h=u||1,this.g=r||At,this.j=xn(this.kb,this),this.l=Date.now()}function iu(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function ju(u,r,o){if("function"==typeof u)o&&(u=xn(u,o));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=xn(u.handleEvent,u)}return 2147483647<Number(r)?-1:At.setTimeout(u,r||0)}function Ol(u){u.g=ju(function(){u.g=null,u.i&&(u.i=!1,Ol(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}kn(Ko,Hn),(ct=Ko.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ti(this,"tick"),this.da&&(iu(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Ko.Z.M.call(this),iu(this),delete this.g};var Pl=function(u){function r(o,c){var h=u.call(this)||this;return h.m=o,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=u}_s(u,r),u.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}(r,u),r.prototype.l=function(o){this.h=arguments,this.g?this.i=!0:Ol(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(rs);function so(u){rs.call(this),this.h=u,this.g={}}kn(so,rs);var kl=[];function xc(u,r,o,c){Array.isArray(o)||(o&&(kl[0]=o.toString()),o=kl);for(var h=0;h<o.length;h++){var _=tu(r,o[h],c||u.handleEvent,!1,u.h||u);if(!_)break;u.g[_.key]=_}}function Rc(u){tn(u.g,function(r,o){this.g.hasOwnProperty(o)&&Vu(r)},u),u.g={}}function Hu(){this.g=!0}function Yo(u,r,o,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var o=JSON.parse(r);if(o)for(u=0;u<o.length;u++)if(Array.isArray(o[u])){var c=o[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var _=h[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var C=1;C<h.length;C++)h[C]=""}}}return Ta(o)}catch(N){return r}}(u,o)+(c?" "+c:"")})}so.prototype.M=function(){so.Z.M.call(this),Rc(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hu.prototype.Aa=function(){this.g=!1},Hu.prototype.info=function(){};var An={},$u=null;function su(){return $u=$u||new Hn}function Nc(u){on.call(this,An.Ma,u)}function js(u){var r=su();ti(r,new Nc(r,u))}function Gu(u,r){on.call(this,An.STAT_EVENT,u),this.stat=r}function Wr(u){var r=su();ti(r,new Gu(r,u))}function ou(u,r){on.call(this,An.Na,u),this.size=r}function Cs(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){u()},r)}An.Ma="serverreachability",kn(Nc,on),An.STAT_EVENT="statevent",kn(Gu,on),An.Na="timingevent",kn(ou,on);var oo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wu(){}function Do(){}Wu.prototype.h=null;var Qo,mi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function au(){on.call(this,"d")}function yi(){on.call(this,"c")}function To(){}function ao(u,r,o,c){this.l=u,this.j=r,this.m=o,this.X=c||1,this.V=new so(this),this.P=Ur,this.W=new Ko(u=W?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ll}function Ll(){this.i=null,this.g="",this.h=!1}kn(au,on),kn(yi,on),kn(To,Wu),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},Qo=new To;var Ur=45e3,Vl={},Hs={};function Sa(u,r,o){u.K=1,u.v=L(Ts(r)),u.s=o,u.U=!0,uu(u,null)}function uu(u,r){u.F=Date.now(),$s(u),u.A=Ts(u.v);var o=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),ea(o.h,"t",c),u.C=0,o=u.l.H,u.h=new Ll,u.g=Yu(u.l,o?r:null,!u.s),0<u.O&&(u.L=new Pl(xn(u.Ia,u,u.g),u.O)),xc(u.V,u.g,"readystatechange",u.gb),r=u.H?Lr(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),js(1),function(u,r,o,c,h,_){u.info(function(){if(u.g)if(_)for(var C="",N=_.split("&"),B=0;B<N.length;B++){var K=N[B].split("=");if(1<K.length){var J=K[0];K=K[1];var le=J.split("_");C=2<=le.length&&"type"==le[1]?C+(J+"=")+K+"&":C+(J+"=redacted&")}}else C=null;else C=_;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+o+"\n"+C})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Is(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function zu(u,r,o){for(var h,c=!0;!u.I&&u.C<o.length;){if((h=Ul(u,o))==Hs){4==r&&(u.o=4,Wr(14),c=!1),Yo(u.j,u.m,null,"[Incomplete Response]");break}if(h==Vl){u.o=4,Wr(15),Yo(u.j,u.m,o,"[Invalid Chunk]"),c=!1;break}Yo(u.j,u.m,h,null),Mc(u,h)}Is(u)&&h!=Hs&&h!=Vl&&(u.h.g="",u.C=0),4!=r||0!=o.length||u.h.h||(u.o=1,Wr(16),c=!1),u.i=u.i&&c,c?0<o.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),xa(r),r.L=!0,Wr(11))):(Yo(u.j,u.m,o,"[Invalid Chunked Response]"),$i(u),bs(u))}function Ul(u,r){var o=u.C,c=r.indexOf("\n",o);return-1==c?Hs:(o=Number(r.substring(o,c)),isNaN(o)?Vl:(c+=1)+o>r.length?Hs:(r=r.substr(c,o),u.C=c+o,r))}function $s(u){u.Y=Date.now()+u.P,lu(u,u.P)}function lu(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Cs(xn(u.eb,u),r)}function Gs(u){u.B&&(At.clearTimeout(u.B),u.B=null)}function bs(u){0==u.l.G||u.I||Zc(u.l,u)}function $i(u){Gs(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,iu(u.W),Rc(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function Mc(u,r){try{var o=u.l;if(0!=o.G&&(o.g==u||Hl(o.i,u)))if(o.I=u.N,!u.J&&Hl(o.i,u)&&3==o.G){try{var c=o.Ca.g.parse(r)}catch(Pt){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(o.u)o.ta=h[1],0<o.ta-o.U&&37500>h[2]&&o.N&&0==o.A&&!o.v&&(o.v=Cs(xn(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<u.F))break e;ql(o),qc(o)}ia(o),Wr(18)}if(1>=Er(o.i)&&o.ka){try{o.ka()}catch(Pt){}o.ka=void 0}}else xo(o,11)}else if((u.J||o.g==u)&&ql(o),!fi(r))for(h=o.Ca.g.parse(r),r=0;r<h.length;r++){var _=h[r];if(o.U=_[0],_=_[1],2==o.G)if("c"==_[0]){o.J=_[1],o.la=_[2];var C=_[3];null!=C&&(o.ma=C,o.h.info("VER="+o.ma));var N=_[4];null!=N&&(o.za=N,o.h.info("SVER="+o.za));var B=_[5];null!=B&&"number"==typeof B&&0<B&&(o.K=c=1.5*B,o.h.info("backChannelRequestTimeoutMs_="+c)),c=o;var K=u.g;if(K){var J=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var le=c.i;!le.g&&(O(J,"spdy")||O(J,"quic")||O(J,"h2"))&&(le.j=le.l,le.g=new Set,le.h&&(kc(le,le.h),le.h=null))}if(c.D){var ke=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(c.sa=ke,R(c.F,c.D,ke))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-u.F,o.h.info("Handshake RTT: "+o.O+"ms"));var qe=u;if((c=o).oa=Wl(c,c.H?c.la:null,c.W),qe.J){Hd(c.i,qe);var rt=qe,vt=c.K;vt&&rt.setTimeout(vt),rt.B&&(Gs(rt),$s(rt)),c.g=qe}else Np(c);0<o.l.length&&zc(o)}else"stop"!=_[0]&&"close"!=_[0]||xo(o,7);else 3==o.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?xo(o,7):Gc(o):"noop"!=_[0]&&o.j&&o.j.wa(_),o.A=0)}js(4)}catch(Pt){}}function du(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(ts(u)||"string"==typeof u)hi(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var o=u.T();else if(u.R&&"function"==typeof u.R)o=void 0;else if(ts(u)||"string"==typeof u){o=[];for(var c=u.length,h=0;h<c;h++)o.push(h)}else for(h in o=[],c=0,u)o[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(ts(u)){for(var r=[],o=u.length,c=0;c<o;c++)r.push(u[c]);return r}for(c in r=[],o=0,u)r[o++]=u[c];return r}(u)).length;for(var _=0;_<h;_++)r.call(void 0,c[_],o&&o[_],u)}}function Ao(u,r){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var c=0;c<o;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof Ao)for(o=u.T(),c=0;c<o.length;c++)this.set(o[c],u.get(o[c]));else for(c in u)this.set(c,u[c])}function Bl(u){if(u.i!=u.g.length){for(var r=0,o=0;r<u.g.length;){var c=u.g[r];_i(u.h,c)&&(u.g[o++]=c),r++}u.g.length=o}if(u.i!=u.g.length){var h={};for(o=r=0;r<u.g.length;)_i(h,c=u.g[r])||(u.g[o++]=c,h[c]=1),r++;u.g.length=o}}function _i(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(ct=ao.prototype).setTimeout=function(u){this.P=u},ct.gb=function(u){u=u.target;var r=this.L;r&&3==So(u)?r.l():this.Ia(u)},ct.Ia=function(u){try{if(u==this.g)e:{var r=So(this.g),o=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||W||this.g&&(this.h.h||this.g.ga()||$l(this.g)))){this.I||4!=r||7==o||js(8==o||0>=c?3:2),Gs(this);var h=this.g.ba();this.N=h;t:if(Is(this)){var _=$l(this.g);u="";var C=_.length,N=4==So(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$i(this),bs(this);var B="";break t}this.h.i=new At.TextDecoder}for(o=0;o<C;o++)this.h.h=!0,u+=this.h.i.decode(_[o],{stream:N&&o==C-1});_.splice(0,C),this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.ga();if(this.i=200==h,function(u,r,o,c,h,_,C){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+o+"\n"+_+" "+C})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var K,J=this.g;if((K=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fi(K)){var le=K;break t}}le=null}if(!(h=le)){this.i=!1,this.o=3,Wr(12),$i(this),bs(this);break e}Yo(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mc(this,h)}this.U?(zu(this,r,B),W&&this.i&&3==r&&(xc(this.V,this.W,"tick",this.fb),this.W.start())):(Yo(this.j,this.m,B,null),Mc(this,B)),4==r&&$i(this),this.i&&!this.I&&(4==r?Zc(this.l,this):(this.i=!1,$s(this)))}else 400==h&&0<B.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),$i(this),bs(this)}}}catch(ke){}},ct.fb=function(){if(this.g){var u=So(this.g),r=this.g.ga();this.C<r.length&&(Gs(this),zu(this,u,r),this.i&&4!=u&&$s(this))}},ct.cancel=function(){this.I=!0,$i(this)},ct.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(js(3),Wr(17)),$i(this),this.o=2,bs(this)):lu(this,this.Y-u)},(ct=Ao.prototype).R=function(){Bl(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},ct.T=function(){return Bl(this),this.g.concat()},ct.get=function(u,r){return _i(this.h,u)?this.h[u]:r},ct.set=function(u,r){_i(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},ct.forEach=function(u,r){for(var o=this.T(),c=0;c<o.length;c++){var h=o[c],_=this.get(h);u.call(r,_,h,this)}};var hu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof Ds){this.g=void 0!==r?r:u.g,Jo(this,u.j),this.s=u.s,S(this,u.i),I(this,u.m),this.l=u.l,r=u.h;var o=new ri;o.i=r.i,r.g&&(o.g=new Ao(r.g),o.h=r.h),w(this,o),this.o=u.o}else u&&(o=String(u).match(hu))?(this.g=!!r,Jo(this,o[1]||"",!0),this.s=ue(o[2]||""),S(this,o[3]||"",!0),I(this,o[4]),this.l=ue(o[5]||"",!0),w(this,o[6]||"",!0),this.o=ue(o[7]||"")):(this.g=!!r,this.h=new ri(null,this.g))}function Ts(u){return new Ds(u)}function Jo(u,r,o){u.j=o?ue(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function S(u,r,o){u.i=o?ue(r,!0):r}function I(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function w(u,r,o){r instanceof ri?(u.h=r,function(u,r){r&&!u.j&&(dr(u),u.i=null,u.g.forEach(function(o,c){var h=c.toLowerCase();c!=h&&(Gi(this,c),ea(this,h,o))},u)),u.j=r}(u.h,u.g)):(o||(r=He(r,an)),u.h=new ri(r,u.g))}function R(u,r,o){u.h.set(r,o)}function L(u){return R(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ue(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function He(u,r,o){return"string"==typeof u?(u=encodeURI(u).replace(r,pt),o&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pt(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Ds.prototype.toString=function(){var u=[],r=this.j;r&&u.push(He(r,Dt,!0),":");var o=this.i;return(o||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(He(r,Dt,!0),"@"),u.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&u.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&u.push("/"),u.push(He(o,"/"==o.charAt(0)?Fn:Wt,!0))),(o=this.h.toString())&&u.push("?",o),(o=this.o)&&u.push("#",He(o,As)),u.join("")};var Dt=/[#\/\?@]/g,Wt=/[#\?:]/g,Fn=/[#\?]/g,an=/[#\?@]/g,As=/#/g;function ri(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function dr(u){u.g||(u.g=new Ao,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var o=0;o<u.length;o++){var c=u[o].indexOf("="),h=null;if(0<=c){var _=u[o].substring(0,c);h=u[o].substring(c+1)}else _=u[o];r(_,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,o){u.add(decodeURIComponent(r.replace(/\+/g," ")),o)}))}function Gi(u,r){dr(u),r=ss(u,r),_i(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,_i((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&Bl(u)))}function Xo(u,r){return dr(u),r=ss(u,r),_i(u.g.h,r)}function ea(u,r,o){Gi(u,r),0<o.length&&(u.i=null,u.g.set(ss(u,r),qo(o)),u.h+=o.length)}function ss(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(ct=ri.prototype).add=function(u,r){dr(this),this.i=null,u=ss(this,u);var o=this.g.get(u);return o||this.g.set(u,o=[]),o.push(r),this.h+=1,this},ct.forEach=function(u,r){dr(this),this.g.forEach(function(o,c){hi(o,function(h){u.call(r,h,c,this)},this)},this)},ct.T=function(){dr(this);for(var u=this.g.R(),r=this.g.T(),o=[],c=0;c<r.length;c++)for(var h=u[c],_=0;_<h.length;_++)o.push(r[c]);return o},ct.R=function(u){dr(this);var r=[];if("string"==typeof u)Xo(this,u)&&(r=Us(r,this.g.get(ss(this,u))));else{u=this.g.R();for(var o=0;o<u.length;o++)r=Us(r,u[o])}return r},ct.set=function(u,r){return dr(this),this.i=null,Xo(this,u=ss(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},ct.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),o=0;o<r.length;o++){var c=r[o],h=encodeURIComponent(String(c));c=this.R(c);for(var _=0;_<c.length;_++){var C=h;""!==c[_]&&(C+="="+encodeURIComponent(String(c[_]))),u.push(C)}}return this.i=u.join("&")};var oy=function(r,o){this.h=r,this.g=o};function Oc(u){this.l=u||ay,u=At.PerformanceNavigationTiming?0<(u=At.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ay=10;function Pc(u){return!!u.h||!!u.g&&u.g.size>=u.j}function Er(u){return u.h?1:u.g?u.g.size:0}function Hl(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function kc(u,r){u.g?u.g.add(r):u.h=r}function Hd(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function Fc(u){var r,o;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=Hr(u.g.values()),_=h.next();!_.done;_=h.next())c=c.concat(_.value.D)}catch(N){r={error:N}}finally{try{_&&!_.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return c}return qo(u.i)}function Lc(){}function uy(){this.g=new Lc}function Wh(u,r,o){var c=o||"";try{du(u,function(h,_){var C=h;di(h)&&(C=Ta(h)),r.push(c+_+"="+encodeURIComponent(C))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function ta(u,r,o,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(_){}}function Zu(u){this.l=u.$b||null,this.j=u.ib||!1}function $d(u,r){Hn.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=zh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oc.prototype.cancel=function(){var u,r;if(this.i=Fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var o=Hr(this.g.values()),c=o.next();!c.done;c=o.next())c.value.cancel()}catch(_){u={error:_}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(u)throw u.error}}this.g.clear()}},Lc.prototype.stringify=function(u){return At.JSON.stringify(u,void 0)},Lc.prototype.parse=function(u){return At.JSON.parse(u,void 0)},kn(Zu,Wu),Zu.prototype.g=function(){return new $d(this.l,this.j)},Zu.prototype.i=function(u){return function(){return u}}({}),kn($d,Hn);var zh=0;function xp(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function tr(u){u.readyState=4,u.l=null,u.j=null,u.A=null,na(u)}function na(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(ct=$d.prototype).open=function(u,r){if(this.readyState!=zh)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,na(this)},ct.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||At).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tr(this)),this.readyState=zh},ct.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xp(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?tr(this):na(this),3==this.readyState&&xp(this)}},ct.Ua=function(u){this.g&&(this.response=this.responseText=u,tr(this))},ct.Ta=function(u){this.g&&(this.response=u,tr(this))},ct.ha=function(){this.g&&tr(this)},ct.setRequestHeader=function(u,r){this.v.append(u,r)},ct.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),o=r.next();!o.done;)u.push((o=o.value)[0]+": "+o[1]),o=r.next();return u.join("\r\n")},Object.defineProperty($d.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Uc=At.JSON.parse;function zr(u){Hn.call(this),this.headers=new Ao,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bc,this.K=this.L=!1}kn(zr,Hn);var Bc="",qs=/^https?$/i,Ws=["POST","PUT"];function ra(u){return"content-type"==u.toLowerCase()}function uo(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,Gd(u),$c(u)}function Gd(u){u.D||(u.D=!0,ti(u,"complete"),ti(u,"error"))}function Hc(u){if(u.h&&void 0!==Ls&&(!u.C[1]||4!=So(u)||2!=u.ba()))if(u.v&&4==So(u))ju(u.Fa,0,u);else if(ti(u,"readystatechange"),4==So(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(c=o)){var h;if(h=0===r){var _=String(u.H).match(hu)[1]||null;if(!_&&At.self&&At.self.location){var C=At.self.location.protocol;_=C.substr(0,C.length-1)}h=!qs.test(_?_.toLowerCase():"")}c=h}if(c)ti(u,"complete"),ti(u,"success");else{u.m=6;try{var N=2<So(u)?u.g.statusText:""}catch(B){N=""}u.j=N+" ["+u.ba()+"]",Gd(u)}}finally{$c(u)}}}function $c(u,r){if(u.g){Rp(u);var o=u.g,c=u.C[0]?ro:null;u.g=null,u.C=null,r||ti(u,"ready");try{o.onreadystatechange=c}catch(h){}}}function Rp(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(At.clearTimeout(u.A),u.A=null)}function So(u){return u.g?u.g.readyState:0}function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case Bc:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Gl(u,r,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=function(u){var r="";return tn(u,function(o,c){r+=c,r+=":",r+=o,r+="\r\n"}),r}(o),"string"==typeof u?null!=o&&encodeURIComponent(String(o)):R(u,r,o))}function zs(u,r,o){return o&&o.internalChannelParams&&o.internalChannelParams[u]||r}function Zh(u){this.za=0,this.l=[],this.h=new Hu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zs("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zs("baseRetryDelayMs",5e3,u),this.$a=zs("retryDelaySeedMs",1e4,u),this.Ya=zs("forwardChannelMaxRetries",2,u),this.ra=zs("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Oc(u&&u.concurrentRequestLimit),this.Ca=new uy,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Gc(u){if(Wc(u),3==u.G){var r=u.V++,o=Ts(u.F);R(o,"SID",u.J),R(o,"RID",r),R(o,"TYPE","terminate"),fu(u,o),(r=new ao(u,u.h,r,void 0)).K=2,r.v=L(Ts(o)),o=!1,At.navigator&&At.navigator.sendBeacon&&(o=At.navigator.sendBeacon(r.v.toString(),"")),!o&&At.Image&&((new Image).src=r.v,o=!0),o||(r.g=Yu(r.l,null),r.g.ea(r.v)),r.F=Date.now(),$s(r)}Yh(u)}function qc(u){u.g&&(xa(u),u.g.cancel(),u.g=null)}function Wc(u){qc(u),u.u&&(At.clearTimeout(u.u),u.u=null),ql(u),u.i.cancel(),u.m&&("number"==typeof u.m&&At.clearTimeout(u.m),u.m=null)}function qd(u,r){u.l.push(new oy(u.Za++,r)),3==u.G&&zc(u)}function zc(u){Pc(u.i)||u.m||(u.m=!0,ws(u.Ha,u),u.C=0)}function Ku(u,r){var o;o=r?r.m:u.V++;var c=Ts(u.F);R(c,"SID",u.J),R(c,"RID",o),R(c,"AID",u.U),fu(u,c),u.o&&u.s&&Gl(c,u.o,u.s),o=new ao(u,u.h,o,u.C+1),null===u.o&&(o.H=u.s),r&&(u.l=r.D.concat(u.l)),r=pu(u,o,1e3),o.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),kc(u.i,o),Sa(o,c,r)}function fu(u,r){u.j&&du({},function(o,c){R(r,c,o)})}function pu(u,r,o){o=Math.min(u.l.length,o);var c=u.j?xn(u.j.Oa,u.j,u):null;e:for(var h=u.l,_=-1;;){var C=["count="+o];-1==_?0<o?C.push("ofs="+(_=h[0].h)):_=0:C.push("ofs="+_);for(var N=!0,B=0;B<o;B++){var K=h[B].h,J=h[B].g;if(0>(K-=_))_=Math.max(0,h[B].h-100),N=!1;else try{Wh(J,C,"req"+K+"_")}catch(le){c&&c(J)}}if(N){c=C.join("&");break e}}return u=u.l.splice(0,o),r.D=u,c}function Np(u){u.g||u.u||(u.Y=1,ws(u.Ga,u),u.A=0)}function ia(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Cs(xn(u.Ga,u),Kh(u,u.A)),u.A++,0))}function xa(u){null!=u.B&&(At.clearTimeout(u.B),u.B=null)}function sa(u){u.g=new ao(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=Ts(u.oa);R(r,"RID","rpc"),R(r,"SID",u.J),R(r,"CI",u.N?"0":"1"),R(r,"AID",u.U),fu(u,r),R(r,"TYPE","xmlhttp"),u.o&&u.s&&Gl(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var o=u.g;u=u.la,o.K=1,o.v=L(Ts(r)),o.s=null,o.U=!0,uu(o,u)}function ql(u){null!=u.v&&(At.clearTimeout(u.v),u.v=null)}function Zc(u,r){var o=null;if(u.g==r){ql(u),xa(u),u.g=null;var c=2}else{if(!Hl(u.i,r))return;o=r.D,Hd(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){o=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;ti(c=su(),new ou(c,o,r,h)),zc(u)}else Np(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(Er(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Cs(xn(u.Ha,u,r),Kh(u,u.C)),u.C++,0)))}(u,r)||2==c&&ia(u)))switch(o&&0<o.length&&(r=u.i,r.i=r.i.concat(o)),h){case 1:xo(u,5);break;case 4:xo(u,10);break;case 3:xo(u,6);break;default:xo(u,2)}}function Kh(u,r){var o=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(o*=2),o*r}function xo(u,r){if(u.h.info("Error code "+r),2==r){var o=null;u.j&&(o=null);var c=xn(u.jb,u);o||(o=new Ds("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Jo(o,"https"),L(o)),function(u,r){var o=new Hu;if(At.Image){var c=new Image;c.onload=ji(ta,o,c,"TestLoadImage: loaded",!0,r),c.onerror=ji(ta,o,c,"TestLoadImage: error",!1,r),c.onabort=ji(ta,o,c,"TestLoadImage: abort",!1,r),c.ontimeout=ji(ta,o,c,"TestLoadImage: timeout",!1,r),At.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(o.toString(),c)}else Wr(2);u.G=0,u.j&&u.j.va(r),Yh(u),Wc(u)}function Yh(u){u.G=0,u.I=-1,u.j&&((0!=Fc(u.i).length||0!=u.l.length)&&(u.i.i.length=0,qo(u.l),u.l.length=0),u.j.ua())}function Wl(u,r,o){var c=function(u){return u instanceof Ds?Ts(u):new Ds(u,void 0)}(o);if(""!=c.i)r&&S(c,r+"."+c.i),I(c,c.m);else{var h=At.location;c=function(u,r,o,c){var h=new Ds(null,void 0);return u&&Jo(h,u),r&&S(h,r),o&&I(h,o),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,o)}return u.aa&&tn(u.aa,function(_,C){R(c,C,_)}),o=u.sa,(r=u.D)&&o&&R(c,r,o),R(c,"VER",u.ma),fu(u,c),c}function Yu(u,r,o){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new zr(o&&u.Ba&&!u.qa?new Zu({ib:!0}):u.qa)).L=u.H,r}function Ra(){}function Qu(){if(j&&!(10<=Number(vs)))throw Error("Environmental error: no available transport.")}function Sn(u,r){Hn.call(this),this.g=new Zh(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!fi(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!fi(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new os(this)}function zd(u){au.call(this);var r=u.__sm__;if(r){e:{for(var o in r){u=o;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function Mp(){yi.call(this),this.status=1}function os(u){this.g=u}(ct=zr.prototype).ea=function(u,r,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qo.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:Qo),this.g.onreadystatechange=xn(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(_){return void uo(this,_)}u=o||"";var h=new Ao(this.headers);c&&du(c,function(_,C){h.set(C,_)}),c=function(u){e:{for(var r=ra,o=u.length,c="string"==typeof u?u.split(""):u,h=0;h<o;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),o=At.FormData&&u instanceof At.FormData,!(0<=io(Ws,r))||c||o||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(_,C){this.g.setRequestHeader(C,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rp(this),0<this.B&&((this.K=function(u){return j&&Zn()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.pa,this)):this.A=ju(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(_){uo(this,_)}},ct.pa=function(){void 0!==Ls&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},ct.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,ti(this,"complete"),ti(this,"abort"),$c(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$c(this,!0)),zr.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Hc(this):this.cb())},ct.cb=function(){Hc(this)},ct.ba=function(){try{return 2<So(this)?this.g.status:-1}catch(u){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},ct.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),Uc(r)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=Zh.prototype).ma=8,ct.G=1,ct.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},ct.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new ao(this,this.h,u,void 0),o=this.s;if(this.P&&(o?Bs(o=Lr(o),this.P):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var _=this.l[h];if(void 0===(_="__data__"in _.g&&"string"==typeof(_=_.g.__data__)?_.length:void 0))break;if(4096<(c+=_)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=pu(this,r,c),R(h=Ts(this.F),"RID",u),R(h,"CVER",22),this.D&&R(h,"X-HTTP-Session-Id",this.D),fu(this,h),this.o&&o&&Gl(h,this.o,o),kc(this.i,r),this.Ra&&R(h,"TYPE","init"),this.ja?(R(h,"$req",c),R(h,"SID","null"),r.$=!0,Sa(r,h,null)):Sa(r,h,c),this.G=2}}else 3==this.G&&(u?Ku(this,u):0==this.l.length||Pc(this.i)||Ku(this))},ct.Ga=function(){if(this.u=null,sa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Cs(xn(this.bb,this),u)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wr(10),qc(this),sa(this))},ct.ab=function(){null!=this.v&&(this.v=null,qc(this),ia(this),Wr(19))},ct.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Wr(2)):(this.h.info("Failed to ping google.com"),Wr(1))},(ct=Ra.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Qu.prototype.g=function(u,r){return new Sn(u,r)},kn(Sn,Hn),Sn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,o=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),ws(xn(u.hb,u,r))),Wr(0),u.W=r,u.aa=o||{},u.N=u.X,u.F=Wl(u,null,u.W),zc(u)},Sn.prototype.close=function(){Gc(this.g)},Sn.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,qd(this.g,r)}else this.v?((r={}).__data__=Ta(u),qd(this.g,r)):qd(this.g,u)},Sn.prototype.M=function(){this.g.j=null,delete this.j,Gc(this.g),delete this.g,Sn.Z.M.call(this)},kn(zd,au),kn(Mp,yi),kn(os,Ra),os.prototype.xa=function(){ti(this.g,"a")},os.prototype.wa=function(u){ti(this.g,new zd(u))},os.prototype.va=function(u){ti(this.g,new Mp(u))},os.prototype.ua=function(){ti(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Sn.prototype.send=Sn.prototype.u,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,qu.COMPLETE="complete",Do.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.La,zr.prototype.getLastErrorCode=zr.prototype.Da,zr.prototype.getStatus=zr.prototype.ba,zr.prototype.getResponseJson=zr.prototype.Qa,zr.prototype.getResponseText=zr.prototype.ga,zr.prototype.send=zr.prototype.ea;var Xu=oo,Zd=qu,Kc=An,Na_PROXY=10,Na_NOPROXY=11,Ro=Zu,Ma=Do,oa=zr;class Zr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let aa="9.0.1";const lo=new Dn.Yd("@firebase/firestore");function Kd(){return lo.logLevel}function nt(u,...r){if(lo.logLevel<=Dn.in.DEBUG){const o=r.map(Yd);lo.debug(`Firestore (${aa}): ${u}`,...o)}}function hr(u,...r){if(lo.logLevel<=Dn.in.ERROR){const o=r.map(Yd);lo.error(`Firestore (${aa}): ${u}`,...o)}}function zl(u,...r){if(lo.logLevel<=Dn.in.WARN){const o=r.map(Yd);lo.warn(`Firestore (${aa}): ${u}`,...o)}}function Yd(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(o){return u}}function Et(u="Unexpected state"){const r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+u;throw hr(r),new Error(r)}function Lt(u,r){u||Et()}function at(u,r){return u}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Error{constructor(r,o){super(o),this.code=r,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}}class Yc{constructor(r,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class gu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,o){r.enqueueRetryable(()=>o(Zr.UNAUTHENTICATED))}shutdown(){}}class kp{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,o){this.changeListener=o,r.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Qd{constructor(r){this.t=r,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,o){var c=this;let h=this.i;const _=B=>this.i!==h?(h=this.i,o(B)):Promise.resolve();let C=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new wr,r.enqueueRetryable(()=>_(this.currentUser))};const N=B=>{r.enqueueRetryable((0,Me.Z)(function*(){nt("FirebaseCredentialsProvider","Auth detected"),c.auth=B,c.auth.addAuthTokenListener(c.o),yield C.promise,yield _(c.currentUser)}))};this.t.onInit(B=>N(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?N(B):(nt("FirebaseCredentialsProvider","Auth not yet detected"),C.resolve(),C=new wr)}},0),r.enqueueRetryable((0,Me.Z)(function*(){0===c.i&&(yield C.promise,yield _(c.currentUser))}))}getToken(){const r=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==r?(nt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Lt("string"==typeof c.accessToken),new Yc(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Lt(null===r||"string"==typeof r),new Zr(r)}}class dy{constructor(r,o,c){this.h=r,this.l=o,this.m=c,this.type="FirstParty",this.user=Zr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(r.Authorization=o),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Qc{constructor(r,o,c){this.h=r,this.l=o,this.m=c}getToken(){return Promise.resolve(new dy(this.h,this.l,this.m))}start(r,o){r.enqueueRetryable(()=>o(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wi{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.g(c),this.p=c=>o.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Jh(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(o);else for(let c=0;c<u;c++)o[c]=Math.floor(256*Math.random());return o}Wi.T=-1;class Jd{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=Jh(40);for(let _=0;_<h.length;++_)c.length<20&&h[_]<o&&(c+=r.charAt(h[_]%r.length))}return c}}function ln(u,r){return u<r?-1:u>r?1:0}function co(u,r,o){return u.length===r.length&&u.every((c,h)=>o(c,r[h]))}function Oa(u){return u+"\0"}class ii{constructor(r,o){if(this.seconds=r,this.nanoseconds=o,o<0)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(r<-62135596800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return ii.fromMillis(Date.now())}static fromDate(r){return ii.fromMillis(r.getTime())}static fromMillis(r){const o=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*o));return new ii(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?ln(this.nanoseconds,r.nanoseconds):ln(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Jt(r)}static min(){return new Jt(new ii(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Jc(u){let r=0;for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&r++;return r}function mu(u,r){for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&r(o,u[o])}function Zs(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class No{constructor(r,o,c){void 0===o?o=0:o>r.length&&Et(),void 0===c?c=r.length-o:c>r.length-o&&Et(),this.segments=r,this.offset=o,this.len=c}get length(){return this.len}isEqual(r){return 0===No.comparator(this,r)}child(r){const o=this.segments.slice(this.offset,this.limit());return r instanceof No?r.forEach(c=>{o.push(c)}):o.push(r),this.construct(o)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0}forEach(r){for(let o=this.offset,c=this.limit();o<c;o++)r(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,o){const c=Math.min(r.length,o.length);for(let h=0;h<c;h++){const _=r.get(h),C=o.get(h);if(_<C)return-1;if(_>C)return 1}return r.length<o.length?-1:r.length>o.length?1:0}}class Cn extends No{construct(r,o,c){return new Cn(r,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const o=[];for(const c of r){if(c.indexOf("//")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(h=>h.length>0))}return new Cn(o)}static emptyPath(){return new Cn([])}}const Xd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends No{construct(r,o,c){return new vi(r,o,c)}static isValidIdentifier(r){return Xd.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(r){const o=[];let c="",h=0;const _=()=>{if(0===c.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let C=!1;for(;h<r.length;){const N=r[h];if("\\"===N){if(h+1===r.length)throw new et(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const B=r[h+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new et(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=B,h+=2}else"`"===N?(C=!C,h++):"."!==N||C?(c+=N,h++):(_(),h++)}if(_(),C)throw new et(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new vi(o)}static emptyPath(){return new vi([])}}class el{constructor(r){this.fields=r,r.sort(vi.comparator)}covers(r){for(const o of this.fields)if(o.isPrefixOf(r))return!0;return!1}isEqual(r){return co(this.fields,r.fields,(o,c)=>o.isEqual(c))}}class si{constructor(r){this.binaryString=r}static fromBase64String(r){const o=atob(r);return new si(o)}static fromUint8Array(r){const o=function(c){let h="";for(let _=0;_<c.length;++_)h+=String.fromCharCode(c[_]);return h}(r);return new si(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return ln(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}si.EMPTY_BYTE_STRING=new si("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(u){if(Lt(!!u),"string"==typeof u){let r=0;const o=Xh.exec(u);if(Lt(!!o),o[1]){let h=o[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:Br(u.seconds),nanos:Br(u.nanos)}}function Br(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function tl(u){return"string"==typeof u?si.fromBase64String(u):si.fromUint8Array(u)}function Xc(u){var r,o;return"server_timestamp"===(null===(o=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function th(u){const r=u.mapValue.fields.__previous_value__;return Xc(r)?th(r):r}function Zl(u){const r=Pa(u.mapValue.fields.__local_write_time__.timestampValue);return new ii(r.seconds,r.nanos)}function ho(u){return null==u}function yu(u){return 0===u&&1/u==-1/0}function Ss(u){return"number"==typeof u&&Number.isInteger(u)&&!yu(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class _t{constructor(r){this.path=r}static fromPath(r){return new _t(Cn.fromString(r))}static fromName(r){return new _t(Cn.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Cn.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,o){return Cn.comparator(r.path,o.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new _t(new Cn(r.slice()))}}function ka(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Xc(u)?4:10:Et()}function as(u,r){const o=ka(u);if(o!==ka(r))return!1;switch(o){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return Zl(u).isEqual(Zl(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const _=Pa(c.timestampValue),C=Pa(h.timestampValue);return _.seconds===C.seconds&&_.nanos===C.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,tl(u.bytesValue).isEqual(tl(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return Br(c.geoPointValue.latitude)===Br(h.geoPointValue.latitude)&&Br(c.geoPointValue.longitude)===Br(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Br(c.integerValue)===Br(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const _=Br(c.doubleValue),C=Br(h.doubleValue);return _===C?yu(_)===yu(C):isNaN(_)&&isNaN(C)}return!1}(u,r);case 9:return co(u.arrayValue.values||[],r.arrayValue.values||[],as);case 10:return function(c,h){const _=c.mapValue.fields||{},C=h.mapValue.fields||{};if(Jc(_)!==Jc(C))return!1;for(const N in _)if(_.hasOwnProperty(N)&&(void 0===C[N]||!as(_[N],C[N])))return!1;return!0}(u,r);default:return Et()}var h}function nl(u,r){return void 0!==(u.values||[]).find(o=>as(o,r))}function Kl(u,r){const o=ka(u),c=ka(r);if(o!==c)return ln(o,c);switch(o){case 0:return 0;case 1:return ln(u.booleanValue,r.booleanValue);case 2:return function(h,_){const C=Br(h.integerValue||h.doubleValue),N=Br(_.integerValue||_.doubleValue);return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}(u,r);case 3:return Fp(u.timestampValue,r.timestampValue);case 4:return Fp(Zl(u),Zl(r));case 5:return ln(u.stringValue,r.stringValue);case 6:return function(h,_){const C=tl(h),N=tl(_);return C.compareTo(N)}(u.bytesValue,r.bytesValue);case 7:return function(h,_){const C=h.split("/"),N=_.split("/");for(let B=0;B<C.length&&B<N.length;B++){const K=ln(C[B],N[B]);if(0!==K)return K}return ln(C.length,N.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,_){const C=ln(Br(h.latitude),Br(_.latitude));return 0!==C?C:ln(Br(h.longitude),Br(_.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,_){const C=h.values||[],N=_.values||[];for(let B=0;B<C.length&&B<N.length;++B){const K=Kl(C[B],N[B]);if(K)return K}return ln(C.length,N.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,_){const C=h.fields||{},N=Object.keys(C),B=_.fields||{},K=Object.keys(B);N.sort(),K.sort();for(let J=0;J<N.length&&J<K.length;++J){const le=ln(N[J],K[J]);if(0!==le)return le;const ke=Kl(C[N[J]],B[K[J]]);if(0!==ke)return ke}return ln(N.length,K.length)}(u.mapValue,r.mapValue);default:throw Et()}}function Fp(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return ln(u,r);const o=Pa(u),c=Pa(r),h=ln(o.seconds,c.seconds);return 0!==h?h:ln(o.nanos,c.nanos)}function nh(u){return Yl(u)}function Yl(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=Pa(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?tl(u.bytesValue).toBase64():"referenceValue"in u?_t.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",_=!0;for(const C of c.values||[])_?_=!1:h+=",",h+=Yl(C);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let _="{",C=!0;for(const N of h)C?C=!1:_+=",",_+=`${N}:${Yl(c.fields[N])}`;return _+"}"}(u.mapValue):Et();var r}function rl(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function Ql(u){return!!u&&"integerValue"in u}function ef(u){return!!u&&"arrayValue"in u}function ed(u){return!!u&&"nullValue"in u}function rh(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Jl(u){return!!u&&"mapValue"in u}function Xl(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return mu(u.mapValue.fields,(o,c)=>r.mapValue.fields[o]=Xl(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let o=0;o<(u.arrayValue.values||[]).length;++o)r.arrayValue.values[o]=Xl(u.arrayValue.values[o]);return r}return Object.assign({},u)}class Oi{constructor(r){this.value=r}static empty(){return new Oi({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let o=this.value;for(let c=0;c<r.length-1;++c)if(o=(o.mapValue.fields||{})[r.get(c)],!Jl(o))return null;return o=(o.mapValue.fields||{})[r.lastSegment()],o||null}}set(r,o){this.getFieldsMap(r.popLast())[r.lastSegment()]=Xl(o)}setAll(r){let o=vi.emptyPath(),c={},h=[];r.forEach((C,N)=>{if(!o.isImmediateParentOf(N)){const B=this.getFieldsMap(o);this.applyChanges(B,c,h),c={},h=[],o=N.popLast()}C?c[N.lastSegment()]=Xl(C):h.push(N.lastSegment())});const _=this.getFieldsMap(o);this.applyChanges(_,c,h)}delete(r){const o=this.field(r.popLast());Jl(o)&&o.mapValue.fields&&delete o.mapValue.fields[r.lastSegment()]}isEqual(r){return as(this.value,r.value)}getFieldsMap(r){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=o.mapValue.fields[r.get(c)];Jl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},o.mapValue.fields[r.get(c)]=h),o=h}return o.mapValue.fields}applyChanges(r,o,c){mu(o,(h,_)=>r[h]=_);for(const h of c)delete r[h]}clone(){return new Oi(Xl(this.value))}}function tf(u){const r=[];return mu(u.fields,(o,c)=>{const h=new vi([o]);if(Jl(c)){const _=tf(c.mapValue).fields;if(0===_.length)r.push(h);else for(const C of _)r.push(h.child(C))}else r.push(h)}),new el(r)}class nr{constructor(r,o,c,h,_){this.key=r,this.documentType=o,this.version=c,this.data=h,this.documentState=_}static newInvalidDocument(r){return new nr(r,0,Jt.min(),Oi.empty(),0)}static newFoundDocument(r,o,c){return new nr(r,1,o,c,0)}static newNoDocument(r,o){return new nr(r,2,o,Oi.empty(),0)}static newUnknownDocument(r,o){return new nr(r,3,o,Oi.empty(),2)}convertToFoundDocument(r,o){return this.version=r,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof nr&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new nr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(r,o=null,c=[],h=[],_=null,C=null,N=null){this.path=r,this.collectionGroup=o,this.orderBy=c,this.filters=h,this.limit=_,this.startAt=C,this.endAt=N,this.A=null}}function tc(u,r=null,o=[],c=[],h=null,_=null,C=null){return new ec(u,r,o,c,h,_,C)}function ua(u){const r=at(u);if(null===r.A){let o=r.path.canonicalString();null!==r.collectionGroup&&(o+="|cg:"+r.collectionGroup),o+="|f:",o+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+nh(u.value)}(c)).join(","),o+="|ob:",o+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),ho(r.limit)||(o+="|l:",o+=r.limit),r.startAt&&(o+="|lb:",o+=oi(r.startAt)),r.endAt&&(o+="|ub:",o+=oi(r.endAt)),r.A=o}return r.A}function rr(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!sf(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((o=u.filters[h]).op!==(c=r.filters[h]).op||!o.field.isEqual(c.field)||!as(o.value,c.value))return!1;var o,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!Ln(u.startAt,r.startAt)&&Ln(u.endAt,r.endAt)}function il(u){return _t.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class qn extends class{}{constructor(r,o,c){super(),this.field=r,this.op=o,this.value=c}static create(r,o,c){return r.isKeyField()?"in"===o||"not-in"===o?this.R(r,o,c):new ih(r,o,c):"array-contains"===o?new Vp(r,c):"in"===o?new rf(r,c):"not-in"===o?new hy(r,c):"array-contains-any"===o?new vu(r,c):new qn(r,o,c)}static R(r,o,c){return"in"===o?new Lp(r,c):new sh(r,c)}matches(r){const o=r.data.field(this.field);return"!="===this.op?null!==o&&this.P(Kl(o,this.value)):null!==o&&ka(this.value)===ka(o)&&this.P(Kl(o,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ih extends qn{constructor(r,o,c){super(r,o,c),this.key=_t.fromName(c.referenceValue)}matches(r){const o=_t.comparator(r.key,this.key);return this.P(o)}}class Lp extends qn{constructor(r,o){super(r,"in",o),this.keys=td(0,o)}matches(r){return this.keys.some(o=>o.isEqual(r.key))}}class sh extends qn{constructor(r,o){super(r,"not-in",o),this.keys=td(0,o)}matches(r){return!this.keys.some(o=>o.isEqual(r.key))}}function td(u,r){var o;return((null===(o=r.arrayValue)||void 0===o?void 0:o.values)||[]).map(c=>_t.fromName(c.referenceValue))}class Vp extends qn{constructor(r,o){super(r,"array-contains",o)}matches(r){const o=r.data.field(this.field);return ef(o)&&nl(o.arrayValue,this.value)}}class rf extends qn{constructor(r,o){super(r,"in",o)}matches(r){const o=r.data.field(this.field);return null!==o&&nl(this.value.arrayValue,o)}}class hy extends qn{constructor(r,o){super(r,"not-in",o)}matches(r){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=r.data.field(this.field);return null!==o&&!nl(this.value.arrayValue,o)}}class vu extends qn{constructor(r,o){super(r,"array-contains-any",o)}matches(r){const o=r.data.field(this.field);return!(!ef(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>nl(this.value.arrayValue,c))}}class Mo{constructor(r,o){this.position=r,this.before=o}}function oi(u){return`${u.before?"b":"a"}:${u.position.map(r=>nh(r)).join(",")}`}class Fa{constructor(r,o="asc"){this.field=r,this.dir=o}}function sf(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function nd(u,r,o){let c=0;for(let h=0;h<u.position.length;h++){const _=r[h],C=u.position[h];if(c=_.field.isKeyField()?_t.comparator(_t.fromName(C.referenceValue),o.key):Kl(C,o.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function Ln(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let o=0;o<u.position.length;o++)if(!as(u.position[o],r.position[o]))return!1;return!0}class zi{constructor(r,o=null,c=[],h=[],_=null,C="F",N=null,B=null){this.path=r,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=h,this.limit=_,this.limitType=C,this.startAt=N,this.endAt=B,this.V=null,this.S=null}}function sl(u,r,o,c,h,_,C,N){return new zi(u,r,o,c,h,_,C,N)}function La(u){return new zi(u)}function rd(u){return!ho(u.limit)&&"F"===u.limitType}function xs(u){return!ho(u.limit)&&"L"===u.limitType}function Eu(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function nc(u){for(const r of u.filters)if(r.v())return r.field;return null}function id(u){return null!==u.collectionGroup}function la(u){const r=at(u);if(null===r.V){r.V=[];const o=nc(r),c=Eu(r);if(null!==o&&null===c)o.isKeyField()||r.V.push(new Fa(o)),r.V.push(new Fa(vi.keyField(),"asc"));else{let h=!1;for(const _ of r.explicitOrderBy)r.V.push(_),_.field.isKeyField()&&(h=!0);if(!h){const _=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Fa(vi.keyField(),_))}}}return r.V}function Ks(u){const r=at(u);if(!r.S)if("F"===r.limitType)r.S=tc(r.path,r.collectionGroup,la(r),r.filters,r.limit,r.startAt,r.endAt);else{const o=[];for(const _ of la(r))o.push(new Fa(_.field,"desc"===_.dir?"asc":"desc"));const c=r.endAt?new Mo(r.endAt.position,!r.endAt.before):null,h=r.startAt?new Mo(r.startAt.position,!r.startAt.before):null;r.S=tc(r.path,r.collectionGroup,o,r.filters,r.limit,c,h)}return r.S}function of(u,r,o){return new zi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,o,u.startAt,u.endAt)}function rc(u,r){return rr(Ks(u),Ks(r))&&u.limitType===r.limitType}function oh(u){return`${ua(Ks(u))}|lt:${u.limitType}`}function E(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(o=>{return`${(c=o).field.canonicalString()} ${c.op} ${nh(c.value)}`;var c}).join(", ")}]`),ho(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(o=>{return`${(c=o).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+oi(u.startAt)),u.endAt&&(r+=", endAt: "+oi(u.endAt)),`Target(${r})`}(Ks(u))}; limitType=${u.limitType})`}function g(u,r){return r.isFoundDocument()&&function(o,c){const h=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):_t.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)}(u,r)&&function(o,c){for(const h of o.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(o,c){for(const h of o.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((o=u).startAt&&!nd(o.startAt,la(o),c)||o.endAt&&nd(o.endAt,la(o),c)));var o,c}function m(u){return(r,o)=>{let c=!1;for(const h of la(u)){const _=D(h,r,o);if(0!==_)return _;c=c||h.field.isKeyField()}return 0}}function D(u,r,o){const c=u.field.isKeyField()?_t.comparator(r.key,o.key):function(h,_,C){const N=_.data.field(h),B=C.data.field(h);return null!==N&&null!==B?Kl(N,B):Et()}(u.field,r,o);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return Et()}}function U(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(r)?"-0":r}}function z(u){return{integerValue:""+u}}function pe(u,r){return Ss(r)?z(r):U(u,r)}class Ue{constructor(){this._=void 0}}function st(u,r,o){return u instanceof bt?function(c,h){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(_.fields.__previous_value__=h),{mapValue:_}}(o,r):u instanceof ir?Ys(u,r):u instanceof Rs?us(u,r):function(c,h){const _=$t(c,h),C=ah(_)+ah(c.C);return Ql(_)&&Ql(c.C)?z(C):U(c.N,C)}(u,r)}function wt(u,r,o){return u instanceof ir?Ys(u,r):u instanceof Rs?us(u,r):o}function $t(u,r){return u instanceof ca?Ql(o=r)||(c=o)&&"doubleValue"in c?r:{integerValue:0}:null;var c,o}class bt extends Ue{}class ir extends Ue{constructor(r){super(),this.elements=r}}function Ys(u,r){const o=uh(r);for(const c of u.elements)o.some(h=>as(h,c))||o.push(c);return{arrayValue:{values:o}}}class Rs extends Ue{constructor(r){super(),this.elements=r}}function us(u,r){let o=uh(r);for(const c of u.elements)o=o.filter(h=>!as(h,c));return{arrayValue:{values:o}}}class ca extends Ue{constructor(r,o){super(),this.N=r,this.C=o}}function ah(u){return Br(u.integerValue||u.doubleValue)}function uh(u){return ef(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Va{constructor(r,o){this.field=r,this.transform=o}}class lh{constructor(r,o){this.version=r,this.transformResults=o}}class Dr{constructor(r,o){this.updateTime=r,this.exists=o}static none(){return new Dr}static exists(r){return new Dr(void 0,r)}static updateTime(r){return new Dr(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function ic(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class sd{}function Ua(u,r,o){u instanceof af?function(c,h,_){const C=c.value.clone(),N=lf(c.fieldTransforms,h,_.transformResults);C.setAll(N),h.convertToFoundDocument(_.version,C).setHasCommittedMutations()}(u,r,o):u instanceof Zi?function(c,h,_){if(!ic(c.precondition,h))return void h.convertToUnknownDocument(_.version);const C=lf(c.fieldTransforms,h,_.transformResults),N=h.data;N.setAll(uf(c)),N.setAll(C),h.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(u,r,o):r.convertToNoDocument(o.version).setHasCommittedMutations()}function Qs(u,r,o){var h;u instanceof af?function(c,h,_){if(!ic(c.precondition,h))return;const C=c.value.clone(),N=fy(c.fieldTransforms,_,h);C.setAll(N),h.convertToFoundDocument(Bp(h),C).setHasLocalMutations()}(u,r,o):u instanceof Zi?function(c,h,_){if(!ic(c.precondition,h))return;const C=fy(c.fieldTransforms,_,h),N=h.data;N.setAll(uf(c)),N.setAll(C),h.convertToFoundDocument(Bp(h),N).setHasLocalMutations()}(u,r,o):ic(u.precondition,h=r)&&h.convertToNoDocument(Jt.min())}function tC(u,r){let o=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),_=$t(c.transform,h||null);null!=_&&(null==o&&(o=Oi.empty()),o.set(c.field,_))}return o||null}function dE(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===c||o&&c&&co(o,c,(h,_)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(o=u.transform)instanceof ir&&c instanceof ir||o instanceof Rs&&c instanceof Rs?co(o.elements,c.elements,as):o instanceof ca&&c instanceof ca?as(o.C,c.C):o instanceof bt&&c instanceof bt);var o,c}(h,_))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var o,c}function Bp(u){return u.isFoundDocument()?u.version:Jt.min()}class af extends sd{constructor(r,o,c,h=[]){super(),this.key=r,this.value=o,this.precondition=c,this.fieldTransforms=h,this.type=0}}class Zi extends sd{constructor(r,o,c,h,_=[]){super(),this.key=r,this.data=o,this.fieldMask=c,this.precondition=h,this.fieldTransforms=_,this.type=1}}function uf(u){const r=new Map;return u.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=u.data.field(o);r.set(o,c)}}),r}function lf(u,r,o){const c=new Map;Lt(u.length===o.length);for(let h=0;h<o.length;h++){const _=u[h],C=_.transform,N=r.data.field(_.field);c.set(_.field,wt(C,N,o[h]))}return c}function fy(u,r,o){const c=new Map;for(const h of u){const _=h.transform,C=o.data.field(h.field);c.set(h.field,st(_,C,r))}return c}class od extends sd{constructor(r,o){super(),this.key=r,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class sc extends sd{constructor(r,o){super(),this.key=r,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class py{constructor(r){this.count=r}}var Kr,yn;function cf(u){switch(u){case Fe.OK:return Et();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return Et()}}function jp(u){if(void 0===u)return hr("GRPC error has no .code"),Fe.UNKNOWN;switch(u){case Kr.OK:return Fe.OK;case Kr.CANCELLED:return Fe.CANCELLED;case Kr.UNKNOWN:return Fe.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return Fe.INTERNAL;case Kr.UNAVAILABLE:return Fe.UNAVAILABLE;case Kr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Kr.NOT_FOUND:return Fe.NOT_FOUND;case Kr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Kr.ABORTED:return Fe.ABORTED;case Kr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Kr.DATA_LOSS:return Fe.DATA_LOSS;default:return Et()}}(yn=Kr||(Kr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Pi{constructor(r,o){this.comparator=r,this.root=o||Ei.EMPTY}insert(r,o){return new Pi(this.comparator,this.root.insert(r,o,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(r){return new Pi(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(r){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(r,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(r){let o=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return o+c.left.size;h<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((o,c)=>(r(o,c),!1))}toString(){const r=[];return this.inorderTraversal((o,c)=>(r.push(`${o}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new wu(this.root,r,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new wu(this.root,r,this.comparator,!0)}}class wu{constructor(r,o,c,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!r.isEmpty();)if(_=o?c(r.key,o):1,h&&(_*=-1),_<0)r=this.isReverse?r.left:r.right;else{if(0===_){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const o={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Ei{constructor(r,o,c,h,_){this.key=r,this.value=o,this.color=null!=c?c:Ei.RED,this.left=null!=h?h:Ei.EMPTY,this.right=null!=_?_:Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,o,c,h,_){return new Ei(null!=r?r:this.key,null!=o?o:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,o,c){let h=this;const _=c(r,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(r,o,c),null):0===_?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(r,o,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,o){let c,h=this;if(o(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,o),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===o(r,h.key)){if(h.right.isEmpty())return Ei.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,o))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,o)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const r=this.left.check();if(r!==this.right.check())throw Et();return r+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(u,r,o,c,h){return this}insert(u,r,o){return new Ei(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rr{constructor(r){this.comparator=r,this.data=new Pi(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((o,c)=>(r(o),!1))}forEachInRange(r,o){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;o(h.key)}}forEachWhile(r,o){let c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const o=this.data.getIteratorFrom(r);return o.hasNext()?o.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(r){return new gy(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let o=this;return o.size<r.size&&(o=r,r=this),r.forEach(c=>{o=o.add(c)}),o}isEqual(r){if(!(r instanceof Rr)||this.size!==r.size)return!1;const o=this.data.getIterator(),c=r.data.getIterator();for(;o.hasNext();){const h=o.getNext().key,_=c.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const r=[];return this.forEach(o=>{r.push(o)}),r}toString(){const r=[];return this.forEach(o=>r.push(o)),"SortedSet("+r.toString()+")"}copy(r){const o=new Rr(this.comparator);return o.data=r,o}}class gy{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Hp=new Pi(_t.comparator);function Oo(){return Hp}const hE=new Pi(_t.comparator);function $p(){return hE}const fE=new Pi(_t.comparator);function my(){return fE}const pE=new Rr(_t.comparator);function $n(...u){let r=pE;for(const o of u)r=r.add(o);return r}const Gp=new Rr(ln);function ch(){return Gp}class oc{constructor(r,o,c,h,_){this.snapshotVersion=r,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(r,o){const c=new Map;return c.set(r,dh.createSynthesizedTargetChangeForCurrentChange(r,o)),new oc(Jt.min(),c,ch(),Oo(),$n())}}class dh{constructor(r,o,c,h,_){this.resumeToken=r,this.current=o,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(r,o){return new dh(si.EMPTY_BYTE_STRING,o,$n(),$n(),$n())}}class df{constructor(r,o,c,h){this.k=r,this.removedTargetIds=o,this.key=c,this.$=h}}class qp{constructor(r,o){this.targetId=r,this.O=o}}class Wp{constructor(r,o,c=si.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=o,this.resumeToken=c,this.cause=h}}class ol{constructor(){this.F=0,this.M=_y(),this.L=si.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=$n(),o=$n(),c=$n();return this.M.forEach((h,_)=>{switch(_){case 0:r=r.add(h);break;case 2:o=o.add(h);break;case 1:c=c.add(h);break;default:Et()}}),new dh(this.L,this.B,r,o,c)}G(){this.U=!1,this.M=_y()}H(r,o){this.U=!0,this.M=this.M.insert(r,o)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class yy{constructor(r){this.tt=r,this.et=new Map,this.nt=Oo(),this.st=zp(),this.it=new Rr(ln)}rt(r){for(const o of r.k)r.$&&r.$.isFoundDocument()?this.ot(o,r.$):this.at(o,r.key,r.$);for(const o of r.removedTargetIds)this.at(o,r.key,r.$)}ct(r){this.forEachTarget(r,o=>{const c=this.ut(o);switch(r.state){case 0:this.ht(o)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(o);break;case 3:this.ht(o)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),c.j(r.resumeToken));break;default:Et()}})}forEachTarget(r,o){r.targetIds.length>0?r.targetIds.forEach(o):this.et.forEach((c,h)=>{this.ht(h)&&o(h)})}ft(r){const o=r.targetId,c=r.O.count,h=this.dt(o);if(h){const _=h.target;if(il(_))if(0===c){const C=new _t(_.path);this.at(o,C,nr.newNoDocument(C,Jt.min()))}else Lt(1===c);else this.wt(o)!==c&&(this.lt(o),this.it=this.it.add(o))}}_t(r){const o=new Map;this.et.forEach((_,C)=>{const N=this.dt(C);if(N){if(_.current&&il(N.target)){const B=new _t(N.target.path);null!==this.nt.get(B)||this.gt(C,B)||this.at(C,B,nr.newNoDocument(B,r))}_.K&&(o.set(C,_.W()),_.G())}});let c=$n();this.st.forEach((_,C)=>{let N=!0;C.forEachWhile(B=>{const K=this.dt(B);return!K||2===K.purpose||(N=!1,!1)}),N&&(c=c.add(_))});const h=new oc(r,o,this.it,this.nt,c);return this.nt=Oo(),this.st=zp(),this.it=new Rr(ln),h}ot(r,o){if(!this.ht(r))return;const c=this.gt(r,o.key)?2:0;this.ut(r).H(o.key,c),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(r))}at(r,o,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,o)?h.H(o,1):h.J(o),this.st=this.st.insert(o,this.yt(o).delete(r)),c&&(this.nt=this.nt.insert(o,c))}removeTarget(r){this.et.delete(r)}wt(r){const o=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+o.addedDocuments.size-o.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let o=this.et.get(r);return o||(o=new ol,this.et.set(r,o)),o}yt(r){let o=this.st.get(r);return o||(o=new Rr(ln),this.st=this.st.insert(r,o)),o}ht(r){const o=null!==this.dt(r);return o||nt("WatchChangeAggregator","Detected inactive target",r),o}dt(r){const o=this.et.get(r);return o&&o.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new ol),this.tt.getRemoteKeysForTarget(r).forEach(o=>{this.at(r,o,null)})}gt(r,o){return this.tt.getRemoteKeysForTarget(r).has(o)}}function zp(){return new Pi(_t.comparator)}function _y(){return new Pi(_t.comparator)}const hf={asc:"ASCENDING",desc:"DESCENDING"},gE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vy{constructor(r,o){this.databaseId=r,this.D=o}}function ad(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function Zp(u,r){return u.D?r.toBase64():r.toUint8Array()}function Kp(u,r){return ad(u,r.toTimestamp())}function wi(u){return Lt(!!u),Jt.fromTimestamp(function(r){const o=Pa(r);return new ii(o.seconds,o.nanos)}(u))}function ud(u,r){return(o=u,new Cn(["projects",o.projectId,"databases",o.database])).child("documents").child(r).canonicalString();var o}function hh(u){const r=Cn.fromString(u);return Lt(Sy(r)),r}function ld(u,r){return ud(u.databaseId,r.path)}function Po(u,r){const o=hh(r);if(o.get(1)!==u.databaseId.projectId)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+u.databaseId.projectId);if(o.get(3)!==u.databaseId.database)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+u.databaseId.database);return new _t(Ey(o))}function ff(u,r){return ud(u.databaseId,r)}function pf(u){const r=hh(u);return 4===r.length?Cn.emptyPath():Ey(r)}function Cu(u){return new Cn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Ey(u){return Lt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Yp(u,r,o){return{name:ld(u,r),fields:o.value.mapValue.fields}}function wy(u,r,o){const c=Po(u,r.name),h=wi(r.updateTime),_=new Oi({mapValue:{fields:r.fields}}),C=nr.newFoundDocument(c,h,_);return o&&C.setHasCommittedMutations(),o?C.setHasCommittedMutations():C}function cd(u,r){let o;if(r instanceof af)o={update:Yp(u,r.key,r.value)};else if(r instanceof od)o={delete:ld(u,r.key)};else if(r instanceof Zi)o={update:Yp(u,r.key,r.data),updateMask:EE(r.fieldMask)};else{if(!(r instanceof sc))return Et();o={verify:ld(u,r.key)}}return r.fieldTransforms.length>0&&(o.updateTransforms=r.fieldTransforms.map(c=>function(h,_){const C=_.transform;if(C instanceof bt)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof ir)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Rs)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ca)return{fieldPath:_.field.canonicalString(),increment:C.C};throw Et()}(0,c))),r.precondition.isNone||(o.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:Kp(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Et()),o;var h}function Qp(u,r){const o=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?Dr.updateTime(wi(h.updateTime)):void 0!==h.exists?Dr.exists(h.exists):Dr.none():Dr.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(_,C){let N=null;"setToServerValue"in C?(Lt("REQUEST_TIME"===C.setToServerValue),N=new bt):"appendMissingElements"in C?N=new ir(C.appendMissingElements.values||[]):"removeAllFromArray"in C?N=new Rs(C.removeAllFromArray.values||[]):"increment"in C?N=new ca(_,C.increment):Et();const B=vi.fromServerFormat(C.fieldPath);return new Va(B,N)}(u,h)):[];var h;if(r.update){const h=Po(u,r.update.name),_=new Oi({mapValue:{fields:r.update.fields}});if(r.updateMask){const C=new el((r.updateMask.fieldPaths||[]).map(K=>vi.fromServerFormat(K)));return new Zi(h,_,C,o,c)}return new af(h,_,o,c)}if(r.delete){const h=Po(u,r.delete);return new od(h,o)}if(r.verify){const h=Po(u,r.verify);return new sc(h,o)}return Et()}function Jp(u,r){return{documents:[ff(u,r.path)]}}function Iy(u,r){const o={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(o.parent=ff(u,c),o.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(o.parent=ff(u,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(N){if(0===N.length)return;const B=N.map(K=>function(J){if("=="===J.op){if(rh(J.value))return{unaryFilter:{field:dd(J.field),op:"IS_NAN"}};if(ed(J.value))return{unaryFilter:{field:dd(J.field),op:"IS_NULL"}}}else if("!="===J.op){if(rh(J.value))return{unaryFilter:{field:dd(J.field),op:"IS_NOT_NAN"}};if(ed(J.value))return{unaryFilter:{field:dd(J.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(J.field),op:_E(J.op),value:J.value}}}(K));return 1===B.length?B[0]:{compositeFilter:{op:"AND",filters:B}}}(r.filters);h&&(o.structuredQuery.where=h);const _=function(N){if(0!==N.length)return N.map(B=>{return{field:dd((K=B).field),direction:Ty(K.dir)};var K})}(r.orderBy);_&&(o.structuredQuery.orderBy=_);const C=(B=r.limit,u.D||ho(B)?B:{value:B});var B;return null!==C&&(o.structuredQuery.limit=C),r.startAt&&(o.structuredQuery.startAt=ko(r.startAt)),r.endAt&&(o.structuredQuery.endAt=ko(r.endAt)),o}function Xp(u){let r=pf(u.parent);const o=u.structuredQuery,c=o.from?o.from.length:0;let h=null;if(c>0){Lt(1===c);const J=o.from[0];J.allDescendants?h=J.collectionId:r=r.child(J.collectionId)}let _=[];o.where&&(_=by(o.where));let C=[];o.orderBy&&(C=o.orderBy.map(J=>{return new Fa(hd((le=J).field),function(ke){switch(ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(le.direction));var le}));let N=null;o.limit&&(N=function(J){let le;return le="object"==typeof J?J.value:J,ho(le)?null:le}(o.limit));let B=null;o.startAt&&(B=Dy(o.startAt));let K=null;return o.endAt&&(K=Dy(o.endAt)),sl(r,h,C,_,N,"F",B,K)}function by(u){return u?void 0!==u.unaryFilter?[Ay(u)]:void 0!==u.fieldFilter?[vE(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>by(r)).reduce((r,o)=>r.concat(o)):Et():[]}function ko(u){return{before:u.before,values:u.position}}function Dy(u){return new Mo(u.values||[],!!u.before)}function Ty(u){return hf[u]}function _E(u){return gE[u]}function dd(u){return{fieldPath:u.canonicalString()}}function hd(u){return vi.fromServerFormat(u.fieldPath)}function vE(u){return qn.create(hd(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Et()}}(u.fieldFilter.op),u.fieldFilter.value)}function Ay(u){switch(u.unaryFilter.op){case"IS_NAN":const r=hd(u.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=hd(u.unaryFilter.field);return qn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=hd(u.unaryFilter.field);return qn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=hd(u.unaryFilter.field);return qn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Et()}}function EE(u){const r=[];return u.fields.forEach(o=>r.push(o.canonicalString())),{fieldPaths:r}}function Sy(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function da(u){let r="";for(let o=0;o<u.length;o++)r.length>0&&(r=eg(r)),r=Kt(u.get(o),r);return eg(r)}function Kt(u,r){let o=r;const c=u.length;for(let h=0;h<c;h++){const _=u.charAt(h);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function eg(u){return u+"\x01\x01"}function Ba(u){const r=u.length;if(Lt(r>=2),2===r)return Lt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),Cn.emptyPath();const o=r-2,c=[];let h="";for(let _=0;_<r;){const C=u.indexOf("\x01",_);switch((C<0||C>o)&&Et(),u.charAt(C+1)){case"\x01":const N=u.substring(_,C);let B;0===h.length?B=N:(h+=N,B=h,h=""),c.push(B);break;case"\x10":h+=u.substring(_,C),h+="\0";break;case"\x11":h+=u.substring(_,C+1);break;default:Et()}_=C+2}return new Cn(c)}class gf{constructor(r,o){this.seconds=r,this.nanoseconds=o}}class Nr{constructor(r,o,c){this.ownerId=r,this.allowTabSynchronization=o,this.leaseTimestampMs=c}}Nr.store="owner",Nr.key="owner";class Iu{constructor(r,o,c){this.userId=r,this.lastAcknowledgedBatchId=o,this.lastStreamToken=c}}Iu.store="mutationQueues",Iu.keyPath="userId";class Cr{constructor(r,o,c,h,_){this.userId=r,this.batchId=o,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=_}}Cr.store="mutations",Cr.keyPath="batchId",Cr.userMutationsIndex="userMutationsIndex",Cr.userMutationsKeyPath=["userId","batchId"];class ki{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,o){return[r,da(o)]}static key(r,o,c){return[r,da(o),c]}}ki.store="documentMutations",ki.PLACEHOLDER=new ki;class bu{constructor(r,o){this.path=r,this.readTime=o}}class tg{constructor(r,o){this.path=r,this.version=o}}class Mr{constructor(r,o,c,h,_,C){this.unknownDocument=r,this.noDocument=o,this.document=c,this.hasCommittedMutations=h,this.readTime=_,this.parentPath=C}}Mr.store="remoteDocuments",Mr.readTimeIndex="readTimeIndex",Mr.readTimeIndexPath="readTime",Mr.collectionReadTimeIndex="collectionReadTimeIndex",Mr.collectionReadTimeIndexPath=["parentPath","readTime"];class Fo{constructor(r){this.byteSize=r}}Fo.store="remoteDocumentGlobal",Fo.key="remoteDocumentGlobalKey";class fo{constructor(r,o,c,h,_,C,N){this.targetId=r,this.canonicalId=o,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=_,this.lastLimboFreeSnapshotVersion=C,this.query=N}}fo.store="targets",fo.keyPath="targetId",fo.queryTargetsIndexName="queryTargetsIndex",fo.queryTargetsKeyPath=["canonicalId","targetId"];class Fi{constructor(r,o,c){this.targetId=r,this.path=o,this.sequenceNumber=c}}Fi.store="targetDocuments",Fi.keyPath=["targetId","path"],Fi.documentTargetsIndex="documentTargetsIndex",Fi.documentTargetsKeyPath=["path","targetId"];class Lo{constructor(r,o,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}Lo.key="targetGlobalKey",Lo.store="targetGlobal";class Ns{constructor(r,o){this.collectionId=r,this.parent=o}}Ns.store="collectionParents",Ns.keyPath=["collectionId","parent"];class Vo{constructor(r,o,c,h){this.clientId=r,this.updateTimeMs=o,this.networkEnabled=c,this.inForeground=h}}Vo.store="clientMetadata",Vo.keyPath="clientId";class Du{constructor(r,o,c){this.bundleId=r,this.createTime=o,this.version=c}}Du.store="bundles",Du.keyPath="bundleId";class al{constructor(r,o,c){this.name=r,this.readTime=o,this.bundledQuery=c}}al.store="namedQueries",al.keyPath="name";const rC=[Iu.store,Cr.store,ki.store,Mr.store,fo.store,Nr.store,Lo.store,Fi.store,Vo.store,Fo.store,Ns.store,Du.store,al.store],xy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ng{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Je{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(r){return this.next(void 0,r)}next(r,o){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(r,this.result):new Je((c,h)=>{this.nextCallback=_=>{this.wrapSuccess(r,_).next(c,h)},this.catchCallback=_=>{this.wrapFailure(o,_).next(c,h)}})}toPromise(){return new Promise((r,o)=>{this.next(r,o)})}wrapUserFunction(r){try{const o=r();return o instanceof Je?o:Je.resolve(o)}catch(o){return Je.reject(o)}}wrapSuccess(r,o){return r?this.wrapUserFunction(()=>r(o)):Je.resolve(o)}wrapFailure(r,o){return r?this.wrapUserFunction(()=>r(o)):Je.reject(o)}static resolve(r){return new Je((o,c)=>{o(r)})}static reject(r){return new Je((o,c)=>{c(r)})}static waitFor(r){return new Je((o,c)=>{let h=0,_=0,C=!1;r.forEach(N=>{++h,N.next(()=>{++_,C&&_===h&&o()},B=>c(B))}),C=!0,_===h&&o()})}static or(r){let o=Je.resolve(!1);for(const c of r)o=o.next(h=>h?Je.resolve(h):c());return o}static forEach(r,o){const c=[];return r.forEach((h,_)=>{c.push(o.call(this,h,_))}),this.waitFor(c)}}class mf{constructor(r,o){this.action=r,this.transaction=o,this.aborted=!1,this.Tt=new wr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new fd(r,o.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=Ny(c.target.error);this.Tt.reject(new fd(r,h))}}static open(r,o,c,h){try{return new mf(o,r.transaction(h,c))}catch(_){throw new fd(o,_)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(nt("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const o=this.transaction.objectStore(r);return new rg(o)}}class ja{constructor(r,o,c){this.name=r,this.version=o,this.At=c,12.2===ja.Rt((0,Rt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return nt("SimpleDb","Removing database:",r),pd(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(ja.bt())return!0;const r=(0,Rt.z$)(),o=ja.Rt(r),c=0<o&&o<10,h=ja.vt(r),_=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||_)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,o){return r.store(o)}static Rt(r){const o=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const o=r.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var o=this;return(0,Me.Z)(function*(){return o.db||(nt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((c,h)=>{const _=indexedDB.open(o.name,o.version);_.onsuccess=C=>{c(C.target.result)},_.onblocked=()=>{h(new fd(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=C=>{const N=C.target.error;h("VersionError"===N.name?new et(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fd(r,N))},_.onupgradeneeded=C=>{nt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',C.oldVersion),o.At.Ct(C.target.result,_.transaction,C.oldVersion,o.version).next(()=>{nt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=c=>o.Nt(c)),o.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=o=>r(o))}runTransaction(r,o,c,h){var _=this;return(0,Me.Z)(function*(){const C="readonly"===o;let N=0;for(;;){++N;try{_.db=yield _.Dt(r);const B=mf.open(_.db,r,C?"readonly":"readwrite",c),K=h(B).catch(J=>(B.abort(J),Je.reject(J))).toPromise();return K.catch(()=>{}),yield B.It,K}catch(B){const K="FirebaseError"!==B.name&&N<3;if(nt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",K),_.close(),!K)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ry{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return pd(this.kt.delete())}}class fd extends et{constructor(r,o){super(Fe.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function ac(u){return"IndexedDbTransactionError"===u.name}class rg{constructor(r){this.store=r}put(r,o){let c;return void 0!==o?(nt("SimpleDb","PUT",this.store.name,r,o),c=this.store.put(o,r)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),pd(c)}add(r){return nt("SimpleDb","ADD",this.store.name,r,r),pd(this.store.add(r))}get(r){return pd(this.store.get(r)).next(o=>(void 0===o&&(o=null),nt("SimpleDb","GET",this.store.name,r,o),o))}delete(r){return nt("SimpleDb","DELETE",this.store.name,r),pd(this.store.delete(r))}count(){return nt("SimpleDb","COUNT",this.store.name),pd(this.store.count())}Lt(r,o){const c=this.cursor(this.options(r,o)),h=[];return this.Bt(c,(_,C)=>{h.push(C)}).next(()=>h)}Ut(r,o){nt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,o);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(_,C,N)=>N.delete())}Kt(r,o){let c;o?c=r:(c={},o=r);const h=this.cursor(c);return this.Bt(h,o)}jt(r){const o=this.cursor({});return new Je((c,h)=>{o.onerror=_=>{const C=Ny(_.target.error);h(C)},o.onsuccess=_=>{const C=_.target.result;C?r(C.primaryKey,C.value).next(N=>{N?C.continue():c()}):c()}})}Bt(r,o){const c=[];return new Je((h,_)=>{r.onerror=C=>{_(C.target.error)},r.onsuccess=C=>{const N=C.target.result;if(!N)return void h();const B=new Ry(N),K=o(N.primaryKey,N.value,B);if(K instanceof Je){const J=K.catch(le=>(B.done(),Je.reject(le)));c.push(J)}B.isDone?h():null===B.Ft?N.continue():N.continue(B.Ft)}}).next(()=>Je.waitFor(c))}options(r,o){let c;return void 0!==r&&("string"==typeof r?c=r:o=r),{index:c,range:o}}cursor(r){let o="next";if(r.reverse&&(o="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,o):c.openCursor(r.range,o)}return this.store.openCursor(r.range,o)}}function pd(u){return new Je((r,o)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=Ny(c.target.error);o(h)}})}let wE=!1;function Ny(u){const r=ja.Rt((0,Rt.z$)());if(r>=12.2&&r<13){const o="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(o)>=0){const c=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wE||(wE=!0,setTimeout(()=>{throw c},0)),c}}return u}class CE extends ng{constructor(r,o){super(),this.Qt=r,this.currentSequenceNumber=o}}function po(u,r){const o=at(u);return ja.St(o.Qt,r)}class My{constructor(r,o,c,h){this.batchId=r,this.localWriteTime=o,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,o){const c=o.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(r.key)&&Ua(_,r,c[h])}}applyToLocalView(r){for(const o of this.baseMutations)o.key.isEqual(r.key)&&Qs(o,r,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(r.key)&&Qs(o,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(o=>{const c=r.get(o.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(Jt.min())})}keys(){return this.mutations.reduce((r,o)=>r.add(o.key),$n())}isEqual(r){return this.batchId===r.batchId&&co(this.mutations,r.mutations,(o,c)=>dE(o,c))&&co(this.baseMutations,r.baseMutations,(o,c)=>dE(o,c))}}class Oy{constructor(r,o,c,h){this.batch=r,this.commitVersion=o,this.mutationResults=c,this.docVersions=h}static from(r,o,c){Lt(r.mutations.length===c.length);let h=my();const _=r.mutations;for(let C=0;C<_.length;C++)h=h.insert(_[C].key,c[C].version);return new Oy(r,o,c,h)}}class uc{constructor(r,o,c,h,_=Jt.min(),C=Jt.min(),N=si.EMPTY_BYTE_STRING){this.target=r,this.targetId=o,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=N}withSequenceNumber(r){return new uc(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,o){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class IE{constructor(r){this.Wt=r}}function Py(u,r){if(r.document)return wy(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const o=_t.fromSegments(r.noDocument.path),c=lc(r.noDocument.readTime),h=nr.newNoDocument(o,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const o=_t.fromSegments(r.unknownDocument.path),c=lc(r.unknownDocument.version);return nr.newUnknownDocument(o,c)}return Et()}function bE(u,r,o){const c=Ha(o),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const _={name:ld(N=u.Wt,(B=r).key),fields:B.data.value.mapValue.fields,updateTime:ad(N,B.version.toTimestamp())};return new Mr(null,null,_,r.hasCommittedMutations,c,h)}var N,B;if(r.isNoDocument()){const _=r.key.path.toArray(),C=gd(r.version),N=r.hasCommittedMutations;return new Mr(null,new bu(_,C),null,N,c,h)}if(r.isUnknownDocument()){const _=r.key.path.toArray(),C=gd(r.version);return new Mr(new tg(_,C),null,null,!0,c,h)}return Et()}function Ha(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function yf(u){const r=new ii(u[0],u[1]);return Jt.fromTimestamp(r)}function gd(u){const r=u.toTimestamp();return new gf(r.seconds,r.nanoseconds)}function lc(u){const r=new ii(u.seconds,u.nanoseconds);return Jt.fromTimestamp(r)}function ul(u,r){const o=(r.baseMutations||[]).map(_=>Qp(u.Wt,_));for(let _=0;_<r.mutations.length-1;++_){const C=r.mutations[_];_+1<r.mutations.length&&void 0!==r.mutations[_+1].transform&&(C.updateTransforms=r.mutations[_+1].transform.fieldTransforms,r.mutations.splice(_+1,1),++_)}const c=r.mutations.map(_=>Qp(u.Wt,_)),h=ii.fromMillis(r.localWriteTimeMs);return new My(r.batchId,h,o,c)}function md(u){const r=lc(u.readTime),o=void 0!==u.lastLimboFreeSnapshotVersion?lc(u.lastLimboFreeSnapshotVersion):Jt.min();let c;var h;return void 0!==u.query.documents?(Lt(1===(h=u.query).documents.length),c=Ks(La(pf(h.documents[0])))):c=Ks(Xp(u.query)),new uc(c,u.targetId,0,u.lastListenSequenceNumber,r,o,si.fromBase64String(u.resumeToken))}function _f(u,r){const o=gd(r.snapshotVersion),c=gd(r.lastLimboFreeSnapshotVersion);let h;h=il(r.target)?Jp(u.Wt,r.target):Iy(u.Wt,r.target);const _=r.resumeToken.toBase64();return new fo(r.targetId,ua(r.target),o,_,r.sequenceNumber,c,h)}function ig(u){const r=Xp({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?of(r,r.limit,"L"):r}class ll{getBundleMetadata(r,o){return sg(r).get(o).next(c=>{if(c)return{id:(h=c).bundleId,createTime:lc(h.createTime),version:h.version};var h})}saveBundleMetadata(r,o){return sg(r).put({bundleId:(c=o).id,createTime:gd(wi(c.createTime)),version:c.version});var c}getNamedQuery(r,o){return ky(r).get(o).next(c=>{if(c)return{name:(h=c).name,query:ig(h.bundledQuery),readTime:lc(h.readTime)};var h})}saveNamedQuery(r,o){return ky(r).put({name:(c=o).name,readTime:gd(wi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function sg(u){return po(u,Du.store)}function ky(u){return po(u,al.store)}class iC{constructor(){this.Gt=new fh}addToCollectionParentIndex(r,o){return this.Gt.add(o),Je.resolve()}getCollectionParents(r,o){return Je.resolve(this.Gt.getEntries(o))}}class fh{constructor(){this.index={}}add(r){const o=r.lastSegment(),c=r.popLast(),h=this.index[o]||new Rr(Cn.comparator),_=!h.has(c);return this.index[o]=h.add(c),_}has(r){const o=r.lastSegment(),c=r.popLast(),h=this.index[o];return h&&h.has(c)}getEntries(r){return(this.index[r]||new Rr(Cn.comparator)).toArray()}}class DE{constructor(){this.zt=new fh}addToCollectionParentIndex(r,o){if(!this.zt.has(o)){const c=o.lastSegment(),h=o.popLast();r.addOnCommittedListener(()=>{this.zt.add(o)});const _={collectionId:c,parent:da(h)};return og(r).put(_)}return Je.resolve()}getCollectionParents(r,o){const c=[],h=IDBKeyRange.bound([o,""],[Oa(o),""],!1,!0);return og(r).Lt(h).next(_=>{for(const C of _){if(C.collectionId!==o)break;c.push(Ba(C.parent))}return c})}}function og(u){return po(u,Ns.store)}const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Js{constructor(r,o,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new Js(r,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yd(u,r,o){const c=u.store(Cr.store),h=u.store(ki.store),_=[],C=IDBKeyRange.only(o.batchId);let N=0;const B=c.Kt({range:C},(J,le,ke)=>(N++,ke.delete()));_.push(B.next(()=>{Lt(1===N)}));const K=[];for(const J of o.mutations){const le=ki.key(r,J.key.path,o.batchId);_.push(h.delete(le)),K.push(J.key)}return Je.waitFor(_).next(()=>K)}function Tu(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw Et();r=u.noDocument}return JSON.stringify(r).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);class ph{constructor(r,o,c,h){this.userId=r,this.N=o,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,o,c,h){Lt(""!==r.uid);const _=r.isAuthenticated()?r.uid:"";return new ph(_,o,c,h)}checkEmpty(r){let o=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uo(r).Kt({index:Cr.userMutationsIndex,range:c},(h,_,C)=>{o=!1,C.done()}).next(()=>o)}addMutationBatch(r,o,c,h){const _=ha(r),C=Uo(r);return C.add({}).next(N=>{Lt("number"==typeof N);const B=new My(N,o,c,h),K=function(ke,qe,rt){const vt=rt.baseMutations.map(sr=>cd(ke.Wt,sr)),Pt=rt.mutations.map(sr=>cd(ke.Wt,sr));return new Cr(qe,rt.batchId,rt.localWriteTime.toMillis(),vt,Pt)}(this.N,this.userId,B),J=[];let le=new Rr((ke,qe)=>ln(ke.canonicalString(),qe.canonicalString()));for(const ke of h){const qe=ki.key(this.userId,ke.key.path,N);le=le.add(ke.key.path.popLast()),J.push(C.put(K)),J.push(_.put(qe,ki.PLACEHOLDER))}return le.forEach(ke=>{J.push(this.Ht.addToCollectionParentIndex(r,ke))}),r.addOnCommittedListener(()=>{this.Jt[N]=B.keys()}),Je.waitFor(J).next(()=>B)})}lookupMutationBatch(r,o){return Uo(r).get(o).next(c=>c?(Lt(c.userId===this.userId),ul(this.N,c)):null)}Xt(r,o){return this.Jt[o]?Je.resolve(this.Jt[o]):this.lookupMutationBatch(r,o).next(c=>{if(c){const h=c.keys();return this.Jt[o]=h,h}return null})}getNextMutationBatchAfterBatchId(r,o){const c=o+1,h=IDBKeyRange.lowerBound([this.userId,c]);let _=null;return Uo(r).Kt({index:Cr.userMutationsIndex,range:h},(C,N,B)=>{N.userId===this.userId&&(Lt(N.batchId>=c),_=ul(this.N,N)),B.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(r){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Uo(r).Kt({index:Cr.userMutationsIndex,range:o,reverse:!0},(h,_,C)=>{c=_.batchId,C.done()}).next(()=>c)}getAllMutationBatches(r){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uo(r).Lt(Cr.userMutationsIndex,o).next(c=>c.map(h=>ul(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,o){const c=ki.prefixForPath(this.userId,o.path),h=IDBKeyRange.lowerBound(c),_=[];return ha(r).Kt({range:h},(C,N,B)=>{const[K,J,le]=C,ke=Ba(J);if(K===this.userId&&o.path.isEqual(ke))return Uo(r).get(le).next(qe=>{if(!qe)throw Et();Lt(qe.userId===this.userId),_.push(ul(this.N,qe))});B.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(r,o){let c=new Rr(ln);const h=[];return o.forEach(_=>{const C=ki.prefixForPath(this.userId,_.path),N=IDBKeyRange.lowerBound(C),B=ha(r).Kt({range:N},(K,J,le)=>{const[ke,qe,rt]=K,vt=Ba(qe);ke===this.userId&&_.path.isEqual(vt)?c=c.add(rt):le.done()});h.push(B)}),Je.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,o){const c=o.path,h=c.length+1,_=ki.prefixForPath(this.userId,c),C=IDBKeyRange.lowerBound(_);let N=new Rr(ln);return ha(r).Kt({range:C},(B,K,J)=>{const[le,ke,qe]=B,rt=Ba(ke);le===this.userId&&c.isPrefixOf(rt)?rt.length===h&&(N=N.add(qe)):J.done()}).next(()=>this.Zt(r,N))}Zt(r,o){const c=[],h=[];return o.forEach(_=>{h.push(Uo(r).get(_).next(C=>{if(null===C)throw Et();Lt(C.userId===this.userId),c.push(ul(this.N,C))}))}),Je.waitFor(h).next(()=>c)}removeMutationBatch(r,o){return yd(r.Qt,this.userId,o).next(c=>(r.addOnCommittedListener(()=>{this.te(o.batchId)}),Je.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(o=>{if(!o)return Je.resolve();const c=IDBKeyRange.lowerBound(ki.prefixForUser(this.userId)),h=[];return ha(r).Kt({range:c},(_,C,N)=>{if(_[0]===this.userId){const B=Ba(_[1]);h.push(B)}else N.done()}).next(()=>{Lt(0===h.length)})})}containsKey(r,o){return cc(r,this.userId,o)}ee(r){return Ly(r).get(this.userId).next(o=>o||new Iu(this.userId,-1,""))}}function cc(u,r,o){const c=ki.prefixForPath(r,o.path),h=c[1],_=IDBKeyRange.lowerBound(c);let C=!1;return ha(u).Kt({range:_,qt:!0},(N,B,K)=>{const[J,le,ke]=N;J===r&&le===h&&(C=!0),K.done()}).next(()=>C)}function Uo(u){return po(u,Cr.store)}function ha(u){return po(u,ki.store)}function Ly(u){return po(u,Iu.store)}class cl{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new cl(0)}static ie(){return new cl(-1)}}class Vy{constructor(r,o){this.referenceDelegate=r,this.N=o}allocateTargetId(r){return this.re(r).next(o=>{const c=new cl(o.highestTargetId);return o.highestTargetId=c.next(),this.oe(r,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(o=>Jt.fromTimestamp(new ii(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(r,o,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=o,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),o>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=o),this.oe(r,h)))}addTargetData(r,o){return this.ae(r,o).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(o,c),this.oe(r,c))))}updateTargetData(r,o){return this.ae(r,o)}removeTargetData(r,o){return this.removeMatchingKeysForTargetId(r,o.targetId).next(()=>dl(r).delete(o.targetId)).next(()=>this.re(r)).next(c=>(Lt(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,o,c){let h=0;const _=[];return dl(r).Kt((C,N)=>{const B=md(N);B.sequenceNumber<=o&&null===c.get(B.targetId)&&(h++,_.push(this.removeTargetData(r,B)))}).next(()=>Je.waitFor(_)).next(()=>h)}forEachTarget(r,o){return dl(r).Kt((c,h)=>{const _=md(h);o(_)})}re(r){return vf(r).get(Lo.key).next(o=>(Lt(null!==o),o))}oe(r,o){return vf(r).put(Lo.key,o)}ae(r,o){return dl(r).put(_f(this.N,o))}ce(r,o){let c=!1;return r.targetId>o.highestTargetId&&(o.highestTargetId=r.targetId,c=!0),r.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(o=>o.targetCount)}getTargetData(r,o){const c=ua(o),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let _=null;return dl(r).Kt({range:h,index:fo.queryTargetsIndexName},(C,N,B)=>{const K=md(N);rr(o,K.target)&&(_=K,B.done())}).next(()=>_)}addMatchingKeys(r,o,c){const h=[],_=Au(r);return o.forEach(C=>{const N=da(C.path);h.push(_.put(new Fi(c,N))),h.push(this.referenceDelegate.addReference(r,c,C))}),Je.waitFor(h)}removeMatchingKeys(r,o,c){const h=Au(r);return Je.forEach(o,_=>{const C=da(_.path);return Je.waitFor([h.delete([c,C]),this.referenceDelegate.removeReference(r,c,_)])})}removeMatchingKeysForTargetId(r,o){const c=Au(r),h=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,o){const c=IDBKeyRange.bound([o],[o+1],!1,!0),h=Au(r);let _=$n();return h.Kt({range:c,qt:!0},(C,N,B)=>{const K=Ba(C[1]),J=new _t(K);_=_.add(J)}).next(()=>_)}containsKey(r,o){const c=da(o.path),h=IDBKeyRange.bound([c],[Oa(c)],!1,!0);let _=0;return Au(r).Kt({index:Fi.documentTargetsIndex,qt:!0,range:h},([C,N],B,K)=>{0!==C&&(_++,K.done())}).next(()=>_>0)}Et(r,o){return dl(r).get(o).next(c=>c?md(c):null)}}function dl(u){return po(u,fo.store)}function vf(u){return po(u,Lo.store)}function Au(u){return po(u,Fi.store)}function $a(u){return ag.apply(this,arguments)}function ag(){return(ag=(0,Me.Z)(function*(u){if(u.code!==Fe.FAILED_PRECONDITION||u.message!==xy)throw u;nt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ug([u,r],[o,c]){const h=ln(u,o);return 0===h?ln(r,c):h}class sC{constructor(r){this.ue=r,this.buffer=new Rr(ug),this.he=0}le(){return++this.he}fe(r){const o=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const c=this.buffer.last();ug(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Uy{constructor(r,o){this.garbageCollector=r,this.asyncQueue=o,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var o=this;const c=this.de?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,Me.Z)(function*(){o.we=null,o.de=!0;try{yield r.collectGarbage(o.garbageCollector)}catch(h){ac(h)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield $a(h)}yield o._e(r)}))}}class By{constructor(r,o){this.me=r,this.params=o}calculateTargetCount(r,o){return this.me.ge(r).next(c=>Math.floor(o/100*c))}nthSequenceNumber(r,o){if(0===o)return Je.resolve(Wi.T);const c=new sC(o);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,o,c){return this.me.removeTargets(r,o,c)}removeOrphanedDocuments(r,o){return this.me.removeOrphanedDocuments(r,o)}collect(r,o){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(Fy)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.pe(r,o))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,o){let c,h,_,C,N,B,K;const J=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(le=>(le>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${le}`),h=this.params.maximumSequenceNumbersToCollect):h=le,C=Date.now(),this.nthSequenceNumber(r,h))).next(le=>(c=le,N=Date.now(),this.removeTargets(r,c,o))).next(le=>(_=le,B=Date.now(),this.removeOrphanedDocuments(r,c))).next(le=>(K=Date.now(),Kd()<=Dn.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-J}ms\n\tDetermined least recently used ${h} in `+(N-C)+`ms\n\tRemoved ${_} targets in `+(B-N)+`ms\n\tRemoved ${le} documents in `+(K-B)+`ms\nTotal Duration: ${K-J}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:le})))}}class TE{constructor(r,o){this.db=r,this.garbageCollector=new By(this,o)}ge(r){const o=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>o.next(h=>c+h))}Ee(r){let o=0;return this.ye(r,c=>{o++}).next(()=>o)}forEachTarget(r,o){return this.db.getTargetCache().forEachTarget(r,o)}ye(r,o){return this.Te(r,(c,h)=>o(h))}addReference(r,o,c){return gh(r,c)}removeReference(r,o,c){return gh(r,c)}removeTargets(r,o,c){return this.db.getTargetCache().removeTargets(r,o,c)}markPotentiallyOrphaned(r,o){return gh(r,o)}Ie(r,o){return function(c,h){let _=!1;return Ly(c).jt(C=>cc(c,C,h).next(N=>(N&&(_=!0),Je.resolve(!N)))).next(()=>_)}(r,o)}removeOrphanedDocuments(r,o){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.Te(r,(C,N)=>{if(N<=o){const B=this.Ie(r,C).next(K=>{if(!K)return _++,c.getEntry(r,C).next(()=>(c.removeEntry(C),Au(r).delete([0,da(C.path)])))});h.push(B)}}).next(()=>Je.waitFor(h)).next(()=>c.apply(r)).next(()=>_)}removeTarget(r,o){const c=o.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,o){return gh(r,o)}Te(r,o){const c=Au(r);let h,_=Wi.T;return c.Kt({index:Fi.documentTargetsIndex},([C,N],{path:B,sequenceNumber:K})=>{0===C?(_!==Wi.T&&o(new _t(Ba(h)),_),_=K,h=B):_=Wi.T}).next(()=>{_!==Wi.T&&o(new _t(Ba(h)),_)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function gh(u,r){return Au(u).put((c=u.currentSequenceNumber,new Fi(0,da(r.path),c)));var c}class _d{constructor(r,o){this.mapKeyFn=r,this.equalsFn=o,this.inner={}}get(r){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c)for(const[h,_]of c)if(this.equalsFn(h,r))return _}has(r){return void 0!==this.get(r)}set(r,o){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],r))return void(h[_]=[r,o]);h.push([r,o])}else this.inner[c]=[[r,o]]}delete(r){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[o]:c.splice(h,1),!0;return!1}forEach(r){mu(this.inner,(o,c)=>{for(const[h,_]of c)r(h,_)})}isEmpty(){return Zs(this.inner)}}class jy{constructor(){this.changes=new _d(r=>r.toString(),(r,o)=>r.isEqual(o)),this.changesApplied=!1}getReadTime(r){const o=this.changes.get(r);return o?o.readTime:Jt.min()}addEntry(r,o){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:o})}removeEntry(r,o=null){this.assertNotApplied(),this.changes.set(r,{document:nr.newInvalidDocument(r),readTime:o})}getEntry(r,o){this.assertNotApplied();const c=this.changes.get(o);return void 0!==c?Je.resolve(c.document):this.getFromCache(r,o)}getEntries(r,o){return this.getAllFromCache(r,o)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class go{constructor(r,o){this.N=r,this.Ht=o}addEntry(r,o,c){return dc(r).put(lg(o),c)}removeEntry(r,o){const c=dc(r),h=lg(o);return c.delete(h)}updateMetadata(r,o){return this.getMetadata(r).next(c=>(c.byteSize+=o,this.Ae(r,c)))}getEntry(r,o){return dc(r).get(lg(o)).next(c=>this.Re(o,c))}Pe(r,o){return dc(r).get(lg(o)).next(c=>({document:this.Re(o,c),size:Tu(c)}))}getEntries(r,o){let c=Oo();return this.be(r,o,(h,_)=>{const C=this.Re(h,_);c=c.insert(h,C)}).next(()=>c)}ve(r,o){let c=Oo(),h=new Pi(_t.comparator);return this.be(r,o,(_,C)=>{const N=this.Re(_,C);c=c.insert(_,N),h=h.insert(_,Tu(C))}).next(()=>({documents:c,Ve:h}))}be(r,o,c){if(o.isEmpty())return Je.resolve();const h=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),_=o.getIterator();let C=_.getNext();return dc(r).Kt({range:h},(N,B,K)=>{const J=_t.fromSegments(N);for(;C&&_t.comparator(C,J)<0;)c(C,null),C=_.getNext();C&&C.isEqual(J)&&(c(C,B),C=_.hasNext()?_.getNext():null),C?K.Mt(C.path.toArray()):K.done()}).next(()=>{for(;C;)c(C,null),C=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(r,o,c){let h=Oo();const _=o.path.length+1,C={};if(c.isEqual(Jt.min())){const N=o.path.toArray();C.range=IDBKeyRange.lowerBound(N)}else{const N=o.path.toArray(),B=Ha(c);C.range=IDBKeyRange.lowerBound([N,B],!0),C.index=Mr.collectionReadTimeIndex}return dc(r).Kt(C,(N,B,K)=>{if(N.length!==_)return;const J=Py(this.N,B);o.path.isPrefixOf(J.key.path)?g(o,J)&&(h=h.insert(J.key,J)):K.done()}).next(()=>h)}newChangeBuffer(r){return new AE(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(o=>o.byteSize)}getMetadata(r){return Hy(r).get(Fo.key).next(o=>(Lt(!!o),o))}Ae(r,o){return Hy(r).put(Fo.key,o)}Re(r,o){if(o){const c=Py(this.N,o);if(!c.isNoDocument()||!c.version.isEqual(Jt.min()))return c}return nr.newInvalidDocument(r)}}class AE extends jy{constructor(r,o){super(),this.Se=r,this.trackRemovals=o,this.De=new _d(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const o=[];let c=0,h=new Rr((_,C)=>ln(_.canonicalString(),C.canonicalString()));return this.changes.forEach((_,C)=>{const N=this.De.get(_);if(C.document.isValidDocument()){const B=bE(this.Se.N,C.document,this.getReadTime(_));h=h.add(_.path.popLast()),c+=Tu(B)-N,o.push(this.Se.addEntry(r,_,B))}else if(c-=N,this.trackRemovals){const B=bE(this.Se.N,nr.newNoDocument(_,Jt.min()),this.getReadTime(_));o.push(this.Se.addEntry(r,_,B))}else o.push(this.Se.removeEntry(r,_))}),h.forEach(_=>{o.push(this.Se.Ht.addToCollectionParentIndex(r,_))}),o.push(this.Se.updateMetadata(r,c)),Je.waitFor(o)}getFromCache(r,o){return this.Se.Pe(r,o).next(c=>(this.De.set(o,c.size),c.document))}getAllFromCache(r,o){return this.Se.ve(r,o).next(({documents:c,Ve:h})=>(h.forEach((_,C)=>{this.De.set(_,C)}),c))}}function Hy(u){return po(u,Fo.store)}function dc(u){return po(u,Mr.store)}function lg(u){return u.path.toArray()}class $y{constructor(r){this.N=r}Ct(r,o,c,h){Lt(c<h&&c>=0&&h<=11);const _=new mf("createOrUpgrade",o);var N;c<1&&h>=1&&(r.createObjectStore(Nr.store),(N=r).createObjectStore(Iu.store,{keyPath:Iu.keyPath}),N.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0}),N.createObjectStore(ki.store),SE(r),function(N){N.createObjectStore(Mr.store)}(r));let C=Je.resolve();return c<3&&h>=3&&(0!==c&&(function(N){N.deleteObjectStore(Fi.store),N.deleteObjectStore(fo.store),N.deleteObjectStore(Lo.store)}(r),SE(r)),C=C.next(()=>function(N){const B=N.store(Lo.store),K=new Lo(0,0,Jt.min().toTimestamp(),0);return B.put(Lo.key,K)}(_))),c<4&&h>=4&&(0!==c&&(C=C.next(()=>function(N,B){return B.store(Cr.store).Lt().next(K=>{N.deleteObjectStore(Cr.store),N.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0});const J=B.store(Cr.store),le=K.map(ke=>J.put(ke));return Je.waitFor(le)})}(r,_))),C=C.next(()=>{!function(N){N.createObjectStore(Vo.store,{keyPath:Vo.keyPath})}(r)})),c<5&&h>=5&&(C=C.next(()=>this.Ce(_))),c<6&&h>=6&&(C=C.next(()=>(function(N){N.createObjectStore(Fo.store)}(r),this.Ne(_)))),c<7&&h>=7&&(C=C.next(()=>this.xe(_))),c<8&&h>=8&&(C=C.next(()=>this.ke(r,_))),c<9&&h>=9&&(C=C.next(()=>{(function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")})(r),function(N){const B=N.objectStore(Mr.store);B.createIndex(Mr.readTimeIndex,Mr.readTimeIndexPath,{unique:!1}),B.createIndex(Mr.collectionReadTimeIndex,Mr.collectionReadTimeIndexPath,{unique:!1})}(o)})),c<10&&h>=10&&(C=C.next(()=>this.$e(_))),c<11&&h>=11&&(C=C.next(()=>{(function(N){N.createObjectStore(Du.store,{keyPath:Du.keyPath})})(r),function(N){N.createObjectStore(al.store,{keyPath:al.keyPath})}(r)})),C}Ne(r){let o=0;return r.store(Mr.store).Kt((c,h)=>{o+=Tu(h)}).next(()=>{const c=new Fo(o);return r.store(Fo.store).put(Fo.key,c)})}Ce(r){const o=r.store(Iu.store),c=r.store(Cr.store);return o.Lt().next(h=>Je.forEach(h,_=>{const C=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return c.Lt(Cr.userMutationsIndex,C).next(N=>Je.forEach(N,B=>{Lt(B.userId===_.userId);const K=ul(this.N,B);return yd(r,_.userId,K).next(()=>{})}))}))}xe(r){const o=r.store(Fi.store),c=r.store(Mr.store);return r.store(Lo.store).get(Lo.key).next(h=>{const _=[];return c.Kt((C,N)=>{const B=new Cn(C),K=[0,da(B)];_.push(o.get(K).next(J=>J?Je.resolve():o.put(new Fi(0,da(B),h.highestListenSequenceNumber))))}).next(()=>Je.waitFor(_))})}ke(r,o){r.createObjectStore(Ns.store,{keyPath:Ns.keyPath});const c=o.store(Ns.store),h=new fh,_=C=>{if(h.add(C)){const N=C.lastSegment(),B=C.popLast();return c.put({collectionId:N,parent:da(B)})}};return o.store(Mr.store).Kt({qt:!0},(C,N)=>{const B=new Cn(C);return _(B.popLast())}).next(()=>o.store(ki.store).Kt({qt:!0},([C,N,B],K)=>{const J=Ba(N);return _(J.popLast())}))}$e(r){const o=r.store(fo.store);return o.Kt((c,h)=>{const _=md(h),C=_f(this.N,_);return o.put(C)})}}function SE(u){u.createObjectStore(Fi.store,{keyPath:Fi.keyPath}).createIndex(Fi.documentTargetsIndex,Fi.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(fo.store,{keyPath:fo.keyPath}).createIndex(fo.queryTargetsIndexName,fo.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(Lo.store)}const cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mh{constructor(r,o,c,h,_,C,N,B,K,J){if(this.allowTabSynchronization=r,this.persistenceKey=o,this.clientId=c,this.Oe=_,this.window=C,this.document=N,this.Fe=K,this.Me=J,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=le=>Promise.resolve(),!mh.Pt())throw new et(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TE(this,h),this.We=o+"main",this.N=new IE(B),this.Ge=new ja(this.We,11,new $y(this.N)),this.ze=new Vy(this.referenceDelegate,this.N),this.Ht=new DE,this.He=new go(this.N,this.Ht),this.Je=new ll,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===J&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,cg);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Wi(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var o=this;return this.Qe=function(){var c=(0,Me.Z)(function*(h){if(o.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var o=(0,Me.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return o.apply(this,arguments)}}())}setNetworkEnabled(r){var o=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Me.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Ef(r).put(new Vo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(o=>this.isPrimary&&!o?this.on(r).next(()=>!1):!!o&&this.an(r).next(()=>!0))).catch(r=>{if(ac(r))return nt("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return vd(r).get(Nr.key).next(o=>Je.resolve(this.cn(o)))}un(r){return Ef(r).delete(this.clientId)}hn(){var r=this;return(0,Me.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const o=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=po(c,Vo.store);return h.Lt().next(_=>{const C=r.fn(_,18e5),N=_.filter(B=>-1===C.indexOf(B));return Je.forEach(N,B=>h.delete(B.clientId)).next(()=>N)})}).catch(()=>[]);if(r.Ye)for(const c of o)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Je.resolve(!0):vd(r).get(Nr.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,cg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ef(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const C=!this.inForeground&&h.inForeground,N=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||C&&N)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&nt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var r=this;return(0,Me.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Nr.store,Vo.store],o=>{const c=new CE(o,Wi.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,o){return r.filter(c=>this.ln(c.updateTimeMs,o)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Ef(r).Lt().next(o=>this.fn(o,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return ph.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,o,c){let _;return nt("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===o?"readonly":"readwrite",rC,C=>(_=new CE(C,this.Le?this.Le.next():Wi.T),"readwrite-primary"===o?this.sn(_).next(N=>!!N||this.rn(_)).next(N=>{if(!N)throw hr(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new et(Fe.FAILED_PRECONDITION,xy);return c(_)}).next(N=>this.an(_).next(()=>N)):this.En(_).next(()=>c(_)))).then(C=>(_.raiseOnCommittedEvent(),C))}En(r){return vd(r).get(Nr.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new et(Fe.FAILED_PRECONDITION,cg)})}an(r){const o=new Nr(this.clientId,this.allowTabSynchronization,Date.now());return vd(r).put(Nr.key,o)}static Pt(){return ja.Pt()}on(r){const o=vd(r);return o.get(Nr.key).next(c=>this.cn(c)?(nt("IndexedDbPersistence","Releasing primary lease."),o.delete(Nr.key)):Je.resolve())}ln(r,o){const c=Date.now();return!(r<c-o||r>c&&(hr(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Rt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var o;try{const c=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(r)));return nt("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return hr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){hr("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function vd(u){return po(u,Nr.store)}function Ef(u){return po(u,Vo.store)}function dg(u,r){let o=u.projectId;return u.isDefaultDatabase||(o+="."+u.database),"firestore/"+r+"/"+o+"/"}class xE{constructor(r,o){this.progress=r,this.Tn=o}}class hg{constructor(r,o,c){this.He=r,this.In=o,this.Ht=c}An(r,o){return this.In.getAllMutationBatchesAffectingDocumentKey(r,o).next(c=>this.Rn(r,o,c))}Rn(r,o,c){return this.He.getEntry(r,o).next(h=>{for(const _ of c)_.applyToLocalView(h);return h})}Pn(r,o){r.forEach((c,h)=>{for(const _ of o)_.applyToLocalView(h)})}bn(r,o){return this.He.getEntries(r,o).next(c=>this.vn(r,c).next(()=>c))}vn(r,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,o).next(c=>this.Pn(o,c))}getDocumentsMatchingQuery(r,o,c){return _t.isDocumentKey((h=o).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,o.path):id(o)?this.Sn(r,o,c):this.Dn(r,o,c);var h}Vn(r,o){return this.An(r,new _t(o)).next(c=>{let h=$p();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,o,c){const h=o.collectionGroup;let _=$p();return this.Ht.getCollectionParents(r,h).next(C=>Je.forEach(C,N=>{const B=(K=o,J=N.child(h),new zi(J,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,J;return this.Dn(r,B,c).next(K=>{K.forEach((J,le)=>{_=_.insert(J,le)})})}).next(()=>_))}Dn(r,o,c){let h,_;return this.He.getDocumentsMatchingQuery(r,o,c).next(C=>(h=C,this.In.getAllMutationBatchesAffectingQuery(r,o))).next(C=>(_=C,this.Cn(r,_,h).next(N=>{h=N;for(const B of _)for(const K of B.mutations){const J=K.key;let le=h.get(J);null==le&&(le=nr.newInvalidDocument(J),h=h.insert(J,le)),Qs(K,le,B.localWriteTime),le.isFoundDocument()||(h=h.remove(J))}}))).next(()=>(h.forEach((C,N)=>{g(o,N)||(h=h.remove(C))}),h))}Cn(r,o,c){let h=$n();for(const C of o)for(const N of C.mutations)N instanceof Zi&&null===c.get(N.key)&&(h=h.add(N.key));let _=c;return this.He.getEntries(r,h).next(C=>(C.forEach((N,B)=>{B.isFoundDocument()&&(_=_.insert(N,B))}),_))}}class fg{constructor(r,o,c,h){this.targetId=r,this.fromCache=o,this.Nn=c,this.xn=h}static kn(r,o){let c=$n(),h=$n();for(const _ of o.docChanges)switch(_.type){case 0:c=c.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new fg(r,o.fromCache,c,h)}}class pg{$n(r){this.On=r}getDocumentsMatchingQuery(r,o,c,h){return 0===(_=o).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||c.isEqual(Jt.min())?this.Fn(r,o):this.On.bn(r,h).next(_=>{const C=this.Mn(o,_);return(rd(o)||xs(o))&&this.Ln(o.limitType,C,h,c)?this.Fn(r,o):(Kd()<=Dn.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),E(o)),this.On.getDocumentsMatchingQuery(r,o,c).next(N=>(C.forEach(B=>{N=N.insert(B.key,B)}),N)))});var _}Mn(r,o){let c=new Rr(m(r));return o.forEach((h,_)=>{g(r,_)&&(c=c.add(_))}),c}Ln(r,o,c,h){if(c.size!==o.size)return!0;const _="F"===r?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Fn(r,o){return Kd()<=Dn.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",E(o)),this.On.getDocumentsMatchingQuery(r,o,Jt.min())}}class RE{constructor(r,o,c,h){this.persistence=r,this.Bn=o,this.N=h,this.Un=new Pi(ln),this.qn=new _d(_=>ua(_),rr),this.Kn=Jt.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new hg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>r.collect(o,this.Un))}}function Gy(u,r,o,c){return new RE(u,r,o,c)}function gg(u,r){return wf.apply(this,arguments)}function wf(){return(wf=(0,Me.Z)(function*(u,r){const o=at(u);let c=o.In,h=o.Qn;const _=yield o.persistence.runTransaction("Handle user change","readonly",C=>{let N;return o.In.getAllMutationBatches(C).next(B=>(N=B,c=o.persistence.getMutationQueue(r),h=new hg(o.jn,c,o.persistence.getIndexManager()),c.getAllMutationBatches(C))).next(B=>{const K=[],J=[];let le=$n();for(const ke of N){K.push(ke.batchId);for(const qe of ke.mutations)le=le.add(qe.key)}for(const ke of B){J.push(ke.batchId);for(const qe of ke.mutations)le=le.add(qe.key)}return h.bn(C,le).next(ke=>({Wn:ke,removedBatchIds:K,addedBatchIds:J}))})});return o.In=c,o.Qn=h,o.Bn.$n(o.Qn),_})).apply(this,arguments)}function NE(u,r){const o=at(u);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),_=o.jn.newChangeBuffer({trackRemovals:!0});return function(C,N,B,K){const J=B.batch,le=J.keys();let ke=Je.resolve();return le.forEach(qe=>{ke=ke.next(()=>K.getEntry(N,qe)).next(rt=>{const vt=B.docVersions.get(qe);Lt(null!==vt),rt.version.compareTo(vt)<0&&(J.applyToRemoteDocument(rt,B),rt.isValidDocument()&&K.addEntry(rt,B.commitVersion))})}),ke.next(()=>C.In.removeMutationBatch(N,J))}(o,c,r,_).next(()=>_.apply(c)).next(()=>o.In.performConsistencyCheck(c)).next(()=>o.Qn.bn(c,h))})}function fa(u){const r=at(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",o=>r.ze.getLastRemoteSnapshotVersion(o))}function mg(u,r){const o=at(u),c=r.snapshotVersion;let h=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const C=o.jn.newChangeBuffer({trackRemovals:!0});h=o.Un;const N=[];r.targetChanges.forEach((K,J)=>{const le=h.get(J);if(!le)return;N.push(o.ze.removeMatchingKeys(_,K.removedDocuments,J).next(()=>o.ze.addMatchingKeys(_,K.addedDocuments,J)));const ke=K.resumeToken;if(ke.approximateByteSize()>0){const qe=le.withResumeToken(ke,c).withSequenceNumber(_.currentSequenceNumber);h=h.insert(J,qe),rt=le,Pt=K,Lt((vt=qe).resumeToken.approximateByteSize()>0),(0===rt.resumeToken.approximateByteSize()||vt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=3e8||Pt.addedDocuments.size+Pt.modifiedDocuments.size+Pt.removedDocuments.size>0)&&N.push(o.ze.updateTargetData(_,qe))}var rt,vt,Pt});let B=Oo();if(r.documentUpdates.forEach((K,J)=>{r.resolvedLimboDocuments.has(K)&&N.push(o.persistence.referenceDelegate.updateLimboDocument(_,K))}),N.push(qy(_,C,r.documentUpdates,c,void 0).next(K=>{B=K})),!c.isEqual(Jt.min())){const K=o.ze.getLastRemoteSnapshotVersion(_).next(J=>o.ze.setTargetsMetadata(_,_.currentSequenceNumber,c));N.push(K)}return Je.waitFor(N).next(()=>C.apply(_)).next(()=>o.Qn.vn(_,B)).next(()=>B)}).then(_=>(o.Un=h,_))}function qy(u,r,o,c,h){let _=$n();return o.forEach(C=>_=_.add(C)),r.getEntries(u,_).next(C=>{let N=Oo();return o.forEach((B,K)=>{const J=C.get(B),le=(null==h?void 0:h.get(B))||c;K.isNoDocument()&&K.version.isEqual(Jt.min())?(r.removeEntry(B,le),N=N.insert(B,K)):!J.isValidDocument()||K.version.compareTo(J.version)>0||0===K.version.compareTo(J.version)&&J.hasPendingWrites?(r.addEntry(K,le),N=N.insert(B,K)):nt("LocalStore","Ignoring outdated watch update for ",B,". Current version:",J.version," Watch version:",K.version)}),N})}function ME(u,r){const o=at(u);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),o.In.getNextMutationBatchAfterBatchId(c,r)))}function yh(u,r){const o=at(u);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return o.ze.getTargetData(c,r).next(_=>_?(h=_,Je.resolve(h)):o.ze.allocateTargetId(c).next(C=>(h=new uc(r,C,0,c.currentSequenceNumber),o.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=o.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(o.Un=o.Un.insert(c.targetId,c),o.qn.set(r,c.targetId)),c})}function hc(u,r,o){return yg.apply(this,arguments)}function yg(){return(yg=(0,Me.Z)(function*(u,r,o){const c=at(u),h=c.Un.get(r),_=o?"readwrite":"readwrite-primary";try{o||(yield c.persistence.runTransaction("Release target",_,C=>c.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!ac(C))throw C;nt("LocalStore",`Failed to update sequence numbers for target ${r}: ${C}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function Cf(u,r,o){const c=at(u);let h=Jt.min(),_=$n();return c.persistence.runTransaction("Execute query","readonly",C=>function(N,B,K){const J=at(N),le=J.qn.get(K);return void 0!==le?Je.resolve(J.Un.get(le)):J.ze.getTargetData(B,K)}(c,C,Ks(r)).next(N=>{if(N)return h=N.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(C,N.targetId).next(B=>{_=B})}).next(()=>c.Bn.getDocumentsMatchingQuery(C,r,o?h:Jt.min(),o?_:$n())).next(N=>({documents:N,Gn:_})))}function Wy(u,r){const o=at(u),c=at(o.ze),h=o.Un.get(r);return h?Promise.resolve(h.target):o.persistence.runTransaction("Get target data","readonly",_=>c.Et(_,r).next(C=>C?C.target:null))}function If(u){const r=at(u);return r.persistence.runTransaction("Get new document changes","readonly",o=>function(c,h,_){const C=at(c);let N=Oo(),B=Ha(_);const K=dc(h),J=IDBKeyRange.lowerBound(B,!0);return K.Kt({index:Mr.readTimeIndex,range:J},(le,ke)=>{const qe=Py(C.N,ke);N=N.insert(qe.key,qe),B=ke.readTime}).next(()=>({Tn:N,readTime:yf(B)}))}(r.jn,o,r.Kn)).then(({Tn:o,readTime:c})=>(r.Kn=c,o))}function _g(){return(_g=(0,Me.Z)(function*(u){const r=at(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(c){const h=dc(c);let _=Jt.min();return h.Kt({index:Mr.readTimeIndex,reverse:!0},(C,N,B)=>{N.readTime&&(_=yf(N.readTime)),B.done()}).next(()=>_)}(o)).then(o=>{r.Kn=o})})).apply(this,arguments)}function _h(){return(_h=(0,Me.Z)(function*(u,r,o,c){const h=at(u);let _=$n(),C=Oo(),N=my();for(const J of o){const le=r.zn(J.metadata.name);J.document&&(_=_.add(le)),C=C.insert(le,r.Hn(J)),N=N.insert(le,r.Jn(J.metadata.readTime))}const B=h.jn.newChangeBuffer({trackRemovals:!0}),K=yield yh(h,(J=c,Ks(La(Cn.fromString(`__bundle__/docs/${J}`)))));var J;return h.persistence.runTransaction("Apply bundle documents","readwrite",J=>qy(J,B,C,Jt.min(),N).next(le=>(B.apply(J),le)).next(le=>h.ze.removeMatchingKeysForTargetId(J,K.targetId).next(()=>h.ze.addMatchingKeys(J,_,K.targetId)).next(()=>h.Qn.vn(J,le)).next(()=>le)))})).apply(this,arguments)}function PE(u,r){return vh.apply(this,arguments)}function vh(){return(vh=(0,Me.Z)(function*(u,r,o=$n()){const c=yield yh(u,Ks(ig(r.bundledQuery))),h=at(u);return h.persistence.runTransaction("Save named query","readwrite",_=>{const C=wi(r.readTime);if(c.snapshotVersion.compareTo(C)>=0)return h.Je.saveNamedQuery(_,r);const N=c.withResumeToken(si.EMPTY_BYTE_STRING,C);return h.Un=h.Un.insert(N.targetId,N),h.ze.updateTargetData(_,N).next(()=>h.ze.removeMatchingKeysForTargetId(_,c.targetId)).next(()=>h.ze.addMatchingKeys(_,o,c.targetId)).next(()=>h.Je.saveNamedQuery(_,r))})})).apply(this,arguments)}class vg{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,o){return Je.resolve(this.Yn.get(o))}saveBundleMetadata(r,o){var c;return this.Yn.set(o.id,{id:(c=o).id,version:c.version,createTime:wi(c.createTime)}),Je.resolve()}getNamedQuery(r,o){return Je.resolve(this.Xn.get(o))}saveNamedQuery(r,o){return this.Xn.set(o.name,{name:(c=o).name,query:ig(c.bundledQuery),readTime:wi(c.readTime)}),Je.resolve();var c}}class Df{constructor(){this.Zn=new Rr(Li.ts),this.es=new Rr(Li.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,o){const c=new Li(r,o);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,o){r.forEach(c=>this.addReference(c,o))}removeReference(r,o){this.rs(new Li(r,o))}os(r,o){r.forEach(c=>this.removeReference(c,o))}cs(r){const o=new _t(new Cn([])),c=new Li(o,r),h=new Li(o,r+1),_=[];return this.es.forEachInRange([c,h],C=>{this.rs(C),_.push(C.key)}),_}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const o=new _t(new Cn([])),c=new Li(o,r),h=new Li(o,r+1);let _=$n();return this.es.forEachInRange([c,h],C=>{_=_.add(C.key)}),_}containsKey(r){const o=new Li(r,0),c=this.Zn.firstAfterOrEqual(o);return null!==c&&r.isEqual(c.key)}}class Li{constructor(r,o){this.key=r,this.ls=o}static ts(r,o){return _t.comparator(r.key,o.key)||ln(r.ls,o.ls)}static ns(r,o){return ln(r.ls,o.ls)||_t.comparator(r.key,o.key)}}class kE{constructor(r,o){this.Ht=r,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new Rr(Li.ts)}checkEmpty(r){return Je.resolve(0===this.In.length)}addMutationBatch(r,o,c,h){const _=this.fs;this.fs++;const C=new My(_,o,c,h);this.In.push(C);for(const N of h)this.ds=this.ds.add(new Li(N.key,_)),this.Ht.addToCollectionParentIndex(r,N.key.path.popLast());return Je.resolve(C)}lookupMutationBatch(r,o){return Je.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(r,o){const h=this._s(o+1),_=h<0?0:h;return Je.resolve(this.In.length>_?this.In[_]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Je.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,o){const c=new Li(o,0),h=new Li(o,Number.POSITIVE_INFINITY),_=[];return this.ds.forEachInRange([c,h],C=>{const N=this.ws(C.ls);_.push(N)}),Je.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(r,o){let c=new Rr(ln);return o.forEach(h=>{const _=new Li(h,0),C=new Li(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([_,C],N=>{c=c.add(N.ls)})}),Je.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,o){const c=o.path,h=c.length+1;let _=c;_t.isDocumentKey(_)||(_=_.child(""));const C=new Li(new _t(_),0);let N=new Rr(ln);return this.ds.forEachWhile(B=>{const K=B.key.path;return!!c.isPrefixOf(K)&&(K.length===h&&(N=N.add(B.ls)),!0)},C),Je.resolve(this.gs(N))}gs(r){const o=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&o.push(h)}),o}removeMutationBatch(r,o){Lt(0===this.ys(o.batchId,"removed")),this.In.shift();let c=this.ds;return Je.forEach(o.mutations,h=>{const _=new Li(h.key,o.batchId);return c=c.delete(_),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,o){const c=new Li(o,0),h=this.ds.firstAfterOrEqual(c);return Je.resolve(o.isEqual(h&&h.key))}performConsistencyCheck(r){return Je.resolve()}ys(r,o){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const o=this._s(r);return o<0||o>=this.In.length?null:this.In[o]}}class Eg{constructor(r,o){this.Ht=r,this.ps=o,this.docs=new Pi(_t.comparator),this.size=0}addEntry(r,o,c){const h=o.key,_=this.docs.get(h),C=_?_.size:0,N=this.ps(o);return this.docs=this.docs.insert(h,{document:o.clone(),size:N,readTime:c}),this.size+=N-C,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const o=this.docs.get(r);o&&(this.docs=this.docs.remove(r),this.size-=o.size)}getEntry(r,o){const c=this.docs.get(o);return Je.resolve(c?c.document.clone():nr.newInvalidDocument(o))}getEntries(r,o){let c=Oo();return o.forEach(h=>{const _=this.docs.get(h);c=c.insert(h,_?_.document.clone():nr.newInvalidDocument(h))}),Je.resolve(c)}getDocumentsMatchingQuery(r,o,c){let h=Oo();const _=new _t(o.path.child("")),C=this.docs.getIteratorFrom(_);for(;C.hasNext();){const{key:N,value:{document:B,readTime:K}}=C.getNext();if(!o.path.isPrefixOf(N.path))break;K.compareTo(c)<=0||g(o,B)&&(h=h.insert(B.key,B.clone()))}return Je.resolve(h)}Es(r,o){return Je.forEach(this.docs,c=>o(c))}newChangeBuffer(r){return new oC(this)}getSize(r){return Je.resolve(this.size)}}class oC extends jy{constructor(r){super(),this.Se=r}applyChanges(r){const o=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?o.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),Je.waitFor(o)}getFromCache(r,o){return this.Se.getEntry(r,o)}getAllFromCache(r,o){return this.Se.getEntries(r,o)}}class FE{constructor(r){this.persistence=r,this.Ts=new _d(o=>ua(o),rr),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Is=0,this.As=new Df,this.targetCount=0,this.Rs=cl.se()}forEachTarget(r,o){return this.Ts.forEach((c,h)=>o(h)),Je.resolve()}getLastRemoteSnapshotVersion(r){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Je.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(r,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Is&&(this.Is=o),Je.resolve()}ae(r){this.Ts.set(r.target,r);const o=r.targetId;o>this.highestTargetId&&(this.Rs=new cl(o),this.highestTargetId=o),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,o){return this.ae(o),this.targetCount+=1,Je.resolve()}updateTargetData(r,o){return this.ae(o),Je.resolve()}removeTargetData(r,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,Je.resolve()}removeTargets(r,o,c){let h=0;const _=[];return this.Ts.forEach((C,N)=>{N.sequenceNumber<=o&&null===c.get(N.targetId)&&(this.Ts.delete(C),_.push(this.removeMatchingKeysForTargetId(r,N.targetId)),h++)}),Je.waitFor(_).next(()=>h)}getTargetCount(r){return Je.resolve(this.targetCount)}getTargetData(r,o){const c=this.Ts.get(o)||null;return Je.resolve(c)}addMatchingKeys(r,o,c){return this.As.ss(o,c),Je.resolve()}removeMatchingKeys(r,o,c){this.As.os(o,c);const h=this.persistence.referenceDelegate,_=[];return h&&o.forEach(C=>{_.push(h.markPotentiallyOrphaned(r,C))}),Je.waitFor(_)}removeMatchingKeysForTargetId(r,o){return this.As.cs(o),Je.resolve()}getMatchingKeysForTargetId(r,o){const c=this.As.hs(o);return Je.resolve(c)}containsKey(r,o){return Je.resolve(this.As.containsKey(o))}}class zy{constructor(r,o){this.Ps={},this.Le=new Wi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new FE(this),this.Ht=new iC,this.He=new Eg(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new IE(o),this.Je=new vg(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let o=this.Ps[r.toKey()];return o||(o=new kE(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,o,c){nt("MemoryPersistence","Starting transaction:",r);const h=new Zy(this.Le.next());return this.referenceDelegate.vs(),c(h).next(_=>this.referenceDelegate.Vs(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Ss(r,o){return Je.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,o)))}}class Zy extends ng{constructor(r){super(),this.currentSequenceNumber=r}}class Tf{constructor(r){this.persistence=r,this.Ds=new Df,this.Cs=null}static Ns(r){return new Tf(r)}get xs(){if(this.Cs)return this.Cs;throw Et()}addReference(r,o,c){return this.Ds.addReference(c,o),this.xs.delete(c.toString()),Je.resolve()}removeReference(r,o,c){return this.Ds.removeReference(c,o),this.xs.add(c.toString()),Je.resolve()}markPotentiallyOrphaned(r,o){return this.xs.add(o.toString()),Je.resolve()}removeTarget(r,o){this.Ds.cs(o.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,o.targetId).next(h=>{h.forEach(_=>this.xs.add(_.toString()))}).next(()=>c.removeTargetData(r,o))}vs(){this.Cs=new Set}Vs(r){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.xs,c=>{const h=_t.fromPath(c);return this.ks(r,h).next(_=>{_||o.removeEntry(h)})}).next(()=>(this.Cs=null,o.apply(r)))}updateLimboDocument(r,o){return this.ks(r,o).next(c=>{c?this.xs.delete(o.toString()):this.xs.add(o.toString())})}bs(r){return 0}ks(r,o){return Je.or([()=>Je.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(r,o),()=>this.persistence.Ss(r,o)])}}function wg(u,r){return`firestore_clients_${u}_${r}`}function Cg(u,r,o){let c=`firestore_mutations_${u}_${o}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function pa(u,r){return`firestore_targets_${u}_${r}`}class fc{constructor(r,o,c,h){this.user=r,this.batchId=o,this.state=c,this.error=h}static $s(r,o,c){const h=JSON.parse(c);let _,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(_=new et(h.error.code,h.error.message))),C?new fc(r,o,h.state,_):(hr("SharedClientState",`Failed to parse mutation state for ID '${o}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Eh{constructor(r,o,c){this.targetId=r,this.state=o,this.error=c}static $s(r,o){const c=JSON.parse(o);let h,_="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(h=new et(c.error.code,c.error.message))),_?new Eh(r,c.state,h):(hr("SharedClientState",`Failed to parse target state for ID '${r}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Af{constructor(r,o){this.clientId=r,this.activeTargetIds=o}static $s(r,o){const c=JSON.parse(o);let h="object"==typeof c&&c.activeTargetIds instanceof Array,_=ch();for(let C=0;h&&C<c.activeTargetIds.length;++C)h=Ss(c.activeTargetIds[C]),_=_.add(c.activeTargetIds[C]);return h?new Af(r,_):(hr("SharedClientState",`Failed to parse client data for instance '${r}': ${o}`),null)}}class Ky{constructor(r,o){this.clientId=r,this.onlineState=o}static $s(r){const o=JSON.parse(r);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Ky(o.clientId,o.onlineState):(hr("SharedClientState",`Failed to parse online state: ${r}`),null)}}class hl{constructor(){this.activeTargetIds=ch()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Sf{constructor(r,o,c,h,_){this.window=r,this.Oe=o,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Pi(ln),this.started=!1,this.Ks=[];const C=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.js=wg(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new hl),this.Ws=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(N){return`firestore_bundle_loaded_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Me.Z)(function*(){const o=yield r.syncEngine.pn();for(const h of o){if(h===r.Ls)continue;const _=r.getItem(wg(r.persistenceKey,h));if(_){const C=Af.$s(h,_);C&&(r.qs=r.qs.insert(C.clientId,C))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let o=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(o=!0)}),o}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,o,c){this.ei(r,o,c),this.ni(r)}addLocalQueryTarget(r){let o="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem(pa(this.persistenceKey,r));if(c){const h=Eh.$s(r,c);h&&(o=h.state)}}return this.si.Fs(r),this.Ys(),o}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(pa(this.persistenceKey,r))}updateQueryState(r,o,c){this.ii(r,o,c)}handleUserChange(r,o,c){o.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const o=this.storage.getItem(r);return nt("SharedClientState","READ",r,o),o}setItem(r,o){nt("SharedClientState","SET",r,o),this.storage.setItem(r,o)}removeItem(r){nt("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var o=this;const c=r;if(c.storageArea===this.storage){if(nt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Me.Z)(function*(){if(o.started){if(null!==c.key)if(o.Ws.test(c.key)){if(null==c.newValue){const h=o.ai(c.key);return o.ci(h,null)}{const h=o.ui(c.key,c.newValue);if(h)return o.ci(h.clientId,h)}}else if(o.Gs.test(c.key)){if(null!==c.newValue){const h=o.hi(c.key,c.newValue);if(h)return o.li(h)}}else if(o.zs.test(c.key)){if(null!==c.newValue){const h=o.fi(c.key,c.newValue);if(h)return o.di(h)}}else if(c.key===o.Hs){if(null!==c.newValue){const h=o.Xs(c.newValue);if(h)return o.Zs(h)}}else if(c.key===o.Qs){const h=function(_){let C=Wi.T;if(null!=_)try{const N=JSON.parse(_);Lt("number"==typeof N),C=N}catch(N){hr("SharedClientState","Failed to read sequence number from WebStorage",N)}return C}(c.newValue);h!==Wi.T&&o.sequenceNumberHandler(h)}else if(c.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,o,c){const h=new fc(this.currentUser,r,o,c),_=Cg(this.persistenceKey,this.currentUser,r);this.setItem(_,h.Os())}ni(r){const o=Cg(this.persistenceKey,this.currentUser,r);this.removeItem(o)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,o,c){const h=pa(this.persistenceKey,r),_=new Eh(r,o,c);this.setItem(h,_.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const o=this.Ws.exec(r);return o?o[1]:null}ui(r,o){const c=this.ai(r);return Af.$s(c,o)}hi(r,o){const c=this.Gs.exec(r),h=Number(c[1]);return fc.$s(new Zr(void 0!==c[2]?c[2]:null),h,o)}fi(r,o){const c=this.zs.exec(r),h=Number(c[1]);return Eh.$s(h,o)}Xs(r){return Ky.$s(r)}li(r){var o=this;return(0,Me.Z)(function*(){if(r.user.uid===o.currentUser.uid)return o.syncEngine._i(r.batchId,r.state,r.error);nt("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,o){const c=o?this.qs.insert(r,o):this.qs.remove(r),h=this.ti(this.qs),_=this.ti(c),C=[],N=[];return _.forEach(B=>{h.has(B)||C.push(B)}),h.forEach(B=>{_.has(B)||N.push(B)}),this.syncEngine.gi(C,N).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let o=ch();return r.forEach((c,h)=>{o=o.unionWith(h.activeTargetIds)}),o}}class Ed{constructor(){this.yi=new hl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,o,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,o,c){this.pi[r]=o}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new hl,Promise.resolve()}handleUserChange(r,o,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class wh{Ei(r){}shutdown(){}}class Yy{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ig={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Qy{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class LE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,o,c,h){const _=this.Bi(r,o);nt("RestConnection","Sending: ",_,c);const C={};return this.Ui(C,h),this.qi(r,_,C,c).then(N=>(nt("RestConnection","Received: ",N),N),N=>{throw zl("RestConnection",`${r} failed with error: `,N,"url: ",_,"request:",c),N})}Ki(r,o,c,h){return this.Li(r,o,c,h)}Ui(r,o){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+aa,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const c in o.authHeaders)o.authHeaders.hasOwnProperty(c)&&(r[c]=o.authHeaders[c])}Bi(r,o){return`${this.Fi}/v1/${o}:${Ig[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,o,c,h){return new Promise((_,C)=>{const N=new oa;N.listenOnce(Zd.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Xu.NO_ERROR:const K=N.getResponseJson();nt("Connection","XHR received:",JSON.stringify(K)),_(K);break;case Xu.TIMEOUT:nt("Connection",'RPC "'+r+'" timed out'),C(new et(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const J=N.getStatus();if(nt("Connection",'RPC "'+r+'" failed with status:',J,"response text:",N.getResponseText()),J>0){const le=N.getResponseJson().error;if(le&&le.status&&le.message){const ke=function(qe){const rt=qe.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(rt)>=0?rt:Fe.UNKNOWN}(le.status);C(new et(ke,le.message))}else C(new et(Fe.UNKNOWN,"Server responded with status "+N.getStatus()))}else C(new et(Fe.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{nt("Connection",'RPC "'+r+'" completed.')}});const B=JSON.stringify(h);N.send(o,"POST",B,c,15)})}ji(r,o){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Qu,_=su(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Ro({})),this.Ui(C.initMessageHeaders,o),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const N=c.join("");nt("Connection","Creating WebChannel: "+N,C);const B=h.createWebChannel(N,C);let K=!1,J=!1;const le=new Qy({vi:qe=>{J?nt("Connection","Not sending because WebChannel is closed:",qe):(K||(nt("Connection","Opening WebChannel transport."),B.open(),K=!0),nt("Connection","WebChannel sending:",qe),B.send(qe))},Vi:()=>B.close()}),ke=(qe,rt,vt)=>{qe.listen(rt,Pt=>{try{vt(Pt)}catch(sr){setTimeout(()=>{throw sr},0)}})};return ke(B,Ma.EventType.OPEN,()=>{J||nt("Connection","WebChannel transport opened.")}),ke(B,Ma.EventType.CLOSE,()=>{J||(J=!0,nt("Connection","WebChannel transport closed"),le.$i())}),ke(B,Ma.EventType.ERROR,qe=>{J||(J=!0,zl("Connection","WebChannel transport errored:",qe),le.$i(new et(Fe.UNAVAILABLE,"The operation could not be completed")))}),ke(B,Ma.EventType.MESSAGE,qe=>{var rt;if(!J){const vt=qe.data[0];Lt(!!vt);const Pt=vt,sr=Pt.error||(null===(rt=Pt[0])||void 0===rt?void 0:rt.error);if(sr){nt("Connection","WebChannel received error:",sr);const ai=sr.status;let or=function(bi){const Vm=Kr[bi];if(void 0!==Vm)return jp(Vm)}(ai),Yr=sr.message;void 0===or&&(or=Fe.INTERNAL,Yr="Unknown error status: "+ai+" with message "+sr.message),J=!0,le.$i(new et(or,Yr)),B.close()}else nt("Connection","WebChannel received:",vt),le.Oi(vt)}}),ke(_,Kc.STAT_EVENT,qe=>{qe.stat===Na_PROXY?nt("Connection","Detected buffering proxy"):qe.stat===Na_NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{le.ki()},0),le}}function bg(){return"undefined"!=typeof window?window:null}function xf(){return"undefined"!=typeof document?document:null}function pc(u){return new vy(u,!0)}class Dg{constructor(r,o,c=1e3,h=1.5,_=6e4){this.Oe=r,this.timerId=o,this.Qi=c,this.Wi=h,this.Gi=_,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const o=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,o-c);h>0&&nt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Jy{constructor(r,o,c,h,_,C){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=_,this.listener=C,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Dg(r,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Me.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Me.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,o){var c=this;return(0,Me.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():o&&o.code===Fe.RESOURCE_EXHAUSTED?(hr(o.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):o&&o.code===Fe.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(o)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===o&&this.yr(c)},c=>{r(()=>{const h=new et(Fe.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const o=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{o(()=>this.pr(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Me.Z)(function*(){r.state=0,r.start()}))}pr(r){return nt("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return o=>{this.Oe.enqueueAndForget(()=>this.sr===r?o():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xy extends Jy{constructor(r,o,c,h,_){super(r,"listen_stream_connection_backoff","listen_stream_idle",o,c,_),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const o=function(u,r){let o;if("targetChange"in r){const c="NO_CHANGE"===(B=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Et(),h=r.targetChange.targetIds||[],_=function(B,K){return B.D?(Lt(void 0===K||"string"==typeof K),si.fromBase64String(K||"")):(Lt(void 0===K||K instanceof Uint8Array),si.fromUint8Array(K||new Uint8Array))}(u,r.targetChange.resumeToken),C=r.targetChange.cause,N=C&&function(B){const K=void 0===B.code?Fe.UNKNOWN:jp(B.code);return new et(K,B.message||"")}(C);o=new Wp(c,h,_,N||null)}else if("documentChange"in r){const c=r.documentChange,h=Po(u,c.document.name),_=wi(c.document.updateTime),C=new Oi({mapValue:{fields:c.document.fields}}),N=nr.newFoundDocument(h,_,C);o=new df(c.targetIds||[],c.removedTargetIds||[],N.key,N)}else if("documentDelete"in r){const c=r.documentDelete,h=Po(u,c.document),_=c.readTime?wi(c.readTime):Jt.min(),C=nr.newNoDocument(h,_);o=new df([],c.removedTargetIds||[],C.key,C)}else if("documentRemove"in r){const c=r.documentRemove,h=Po(u,c.document);o=new df([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return Et();{const c=r.filter,_=new py(c.count||0);o=new qp(c.targetId,_)}}var B;return o}(this.N,r),c=function(h){if(!("targetChange"in h))return Jt.min();const _=h.targetChange;return _.targetIds&&_.targetIds.length?Jt.min():_.readTime?wi(_.readTime):Jt.min()}(r);return this.listener.Tr(o,c)}Ir(r){const o={};o.database=Cu(this.N),o.addTarget=function(h,_){let C;const N=_.target;return C=il(N)?{documents:Jp(h,N)}:{query:Iy(h,N)},C.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?C.resumeToken=Zp(h,_.resumeToken):_.snapshotVersion.compareTo(Jt.min())>0&&(C.readTime=ad(h,_.snapshotVersion.toTimestamp())),C}(this.N,r);const c=function(u,r){const o=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Et()}}(0,r.purpose);return null==o?null:{"goog-listen-tags":o}}(0,r);c&&(o.labels=c),this.wr(o)}Ar(r){const o={};o.database=Cu(this.N),o.removeTarget=r,this.wr(o)}}class wd extends Jy{constructor(r,o,c,h,_){super(r,"write_stream_connection_backoff","write_stream_idle",o,c,_),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(Lt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const o=function(u,r){return u&&u.length>0?(Lt(void 0!==r),u.map(o=>function(c,h){let _=wi(c.updateTime?c.updateTime:h);return _.isEqual(Jt.min())&&(_=wi(h)),new lh(_,c.transformResults||[])}(o,r))):[]}(r.writeResults,r.commitTime),c=wi(r.commitTime);return this.listener.vr(c,o)}return Lt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Cu(this.N),this.wr(r)}br(r){const o={streamToken:this.lastStreamToken,writes:r.map(c=>cd(this.N,c))};this.wr(o)}}class e_ extends class{}{constructor(r,o,c){super(),this.credentials=r,this.nr=o,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,o,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,o,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new et(Fe.UNKNOWN,h.toString())})}Ki(r,o,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,o,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new et(Fe.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class VE{constructor(r,o){this.asyncQueue=r,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const o=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(hr(o),this.$r=!1):nt("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class UE{constructor(r,o,c,h,_){var C=this;this.localStore=r,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=_,this.Qr.Ei(N=>{c.enqueueAndForget((0,Me.Z)(function*(){var B;gc(C)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,Me.Z)(function*(K){const J=at(K);J.Kr.add(4),yield Cd(J),J.Wr.set("Unknown"),J.Kr.delete(4),yield Ga(J)}),function(K){return B.apply(this,arguments)})(C))}))}),this.Wr=new VE(c,h)}}function Ga(u){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,Me.Z)(function*(u){if(gc(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function Cd(u){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,Me.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function Rf(u,r){const o=at(u);o.qr.has(r.targetId)||(o.qr.set(r.targetId,r),Ch(o)?Bn(o):bd(o).cr()&&Sg(o,r))}function Nf(u,r){const o=at(u),c=bd(o);o.qr.delete(r),c.cr()&&xg(o,r),0===o.qr.size&&(c.cr()?c.lr():gc(o)&&o.Wr.set("Unknown"))}function Sg(u,r){u.Gr.Y(r.targetId),bd(u).Ir(r)}function xg(u,r){u.Gr.Y(r),bd(u).Ar(r)}function Bn(u){u.Gr=new yy({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),bd(u).start(),u.Wr.Or()}function Ch(u){return gc(u)&&!bd(u).ar()&&u.qr.size>0}function gc(u){return 0===at(u).Kr.size}function qa(u){u.Gr=void 0}function Rg(u){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Me.Z)(function*(u){u.qr.forEach((r,o)=>{Sg(u,r)})})).apply(this,arguments)}function aC(u,r){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,Me.Z)(function*(u,r){qa(u),Ch(u)?(u.Wr.Lr(r),Bn(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function BE(u,r,o){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,Me.Z)(function*(u,r,o){if(u.Wr.set("Online"),r instanceof Wp&&2===r.state&&r.cause)try{yield(c=(0,Me.Z)(function*(h,_){const C=_.cause;for(const N of _.targetIds)h.qr.has(N)&&(yield h.remoteSyncer.rejectListen(N,C),h.qr.delete(N),h.Gr.removeTarget(N))}),function(h,_){return c.apply(this,arguments)})(u,r)}catch(c){nt("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield bh(u,c)}else if(r instanceof df?u.Gr.rt(r):r instanceof qp?u.Gr.ft(r):u.Gr.ct(r),!o.isEqual(Jt.min()))try{const c=yield fa(u.localStore);o.compareTo(c)>=0&&(yield function(h,_){const C=h.Gr._t(_);return C.targetChanges.forEach((N,B)=>{if(N.resumeToken.approximateByteSize()>0){const K=h.qr.get(B);K&&h.qr.set(B,K.withResumeToken(N.resumeToken,_))}}),C.targetMismatches.forEach(N=>{const B=h.qr.get(N);if(!B)return;h.qr.set(N,B.withResumeToken(si.EMPTY_BYTE_STRING,B.snapshotVersion)),xg(h,N);const K=new uc(B.target,N,1,B.sequenceNumber);Sg(h,K)}),h.remoteSyncer.applyRemoteEvent(C)}(u,o))}catch(c){nt("RemoteStore","Failed to raise snapshot:",c),yield bh(u,c)}var c})).apply(this,arguments)}function bh(u,r,o){return Of.apply(this,arguments)}function Of(){return(Of=(0,Me.Z)(function*(u,r,o){if(!ac(r))throw r;u.Kr.add(1),yield Cd(u),u.Wr.set("Offline"),o||(o=()=>fa(u.localStore)),u.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield o(),u.Kr.delete(1),yield Ga(u)}))})).apply(this,arguments)}function Mg(u,r){return r().catch(o=>bh(u,o,r))}function Id(u){return Og.apply(this,arguments)}function Og(){return(Og=(0,Me.Z)(function*(u){const r=at(u),o=mc(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Dh(r);)try{const h=yield ME(r.localStore,c);if(null===h){0===r.Ur.length&&o.lr();break}c=h.batchId,Pg(r,h)}catch(h){yield bh(r,h)}kg(r)&&Fg(r)})).apply(this,arguments)}function Dh(u){return gc(u)&&u.Ur.length<10}function Pg(u,r){u.Ur.push(r);const o=mc(u);o.cr()&&o.Pr&&o.br(r.mutations)}function kg(u){return gc(u)&&!mc(u).ar()&&u.Ur.length>0}function Fg(u){mc(u).start()}function t_(u){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,Me.Z)(function*(u){mc(u).Sr()})).apply(this,arguments)}function jE(u){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Me.Z)(function*(u){const r=mc(u);for(const o of u.Ur)r.br(o.mutations)})).apply(this,arguments)}function HE(u,r,o){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,Me.Z)(function*(u,r,o){const c=u.Ur.shift(),h=Oy.from(c,r,o);yield Mg(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield Id(u)})).apply(this,arguments)}function n_(u,r){return r_.apply(this,arguments)}function r_(){return(r_=(0,Me.Z)(function*(u,r){var o;r&&mc(u).Pr&&(yield(o=(0,Me.Z)(function*(c,h){if(cf(_=h.code)&&_!==Fe.ABORTED){const C=c.Ur.shift();mc(c).hr(),yield Mg(c,()=>c.remoteSyncer.rejectFailedWrite(C.batchId,h)),yield Id(c)}var _}),function(c,h){return o.apply(this,arguments)})(u,r)),kg(u)&&Fg(u)})).apply(this,arguments)}function kf(u,r){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,Me.Z)(function*(u,r){const o=at(u);r?(o.Kr.delete(2),yield Ga(o)):r||(o.Kr.add(2),yield Cd(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function bd(u){return u.zr||(u.zr=function(r,o,c){const h=at(r);return h.Cr(),new Xy(o,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Rg.bind(null,u),Ci:aC.bind(null,u),Tr:BE.bind(null,u)}),u.jr.push(function(){var r=(0,Me.Z)(function*(o){o?(u.zr.hr(),Ch(u)?Bn(u):u.Wr.set("Unknown")):(yield u.zr.stop(),qa(u))});return function(o){return r.apply(this,arguments)}}())),u.zr}function mc(u){return u.Hr||(u.Hr=function(r,o,c){const h=at(r);return h.Cr(),new wd(o,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:t_.bind(null,u),Ci:n_.bind(null,u),Vr:jE.bind(null,u),vr:HE.bind(null,u)}),u.jr.push(function(){var r=(0,Me.Z)(function*(o){o?(u.Hr.hr(),yield Id(u)):(yield u.Hr.stop(),u.Ur.length>0&&(nt("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(o){return r.apply(this,arguments)}}())),u.Hr}class i_{constructor(r,o,c,h,_){this.asyncQueue=r,this.timerId=o,this.targetTimeMs=c,this.op=h,this.removalCallback=_,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(r,o,c,h,_){const C=Date.now()+c,N=new i_(r,o,C,h,_);return N.start(c),N}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Fe.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fl(u,r){if(hr("AsyncQueue",`${r}: ${u}`),ac(u))return new et(Fe.UNAVAILABLE,`${r}: ${u}`);throw u}class Dd{constructor(r){this.comparator=r?(o,c)=>r(o,c)||_t.comparator(o.key,c.key):(o,c)=>_t.comparator(o.key,c.key),this.keyedMap=$p(),this.sortedSet=new Pi(this.comparator)}static emptySet(r){return new Dd(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const o=this.keyedMap.get(r);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((o,c)=>(r(o),!1))}add(r){const o=this.delete(r.key);return o.copy(o.keyedMap.insert(r.key,r),o.sortedSet.insert(r,null))}delete(r){const o=this.get(r);return o?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(o)):this}isEqual(r){if(!(r instanceof Dd)||this.size!==r.size)return!1;const o=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;o.hasNext();){const h=o.getNext().key,_=c.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const r=[];return this.forEach(o=>{r.push(o.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,o){const c=new Dd;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=o,c}}class Bg{constructor(){this.Jr=new Pi(_t.comparator)}track(r){const o=r.doc.key,c=this.Jr.get(o);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(o,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(o,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(o,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(o,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(o):1===r.type&&2===c.type?this.Jr=this.Jr.insert(o,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(o,{type:2,doc:r.doc}):Et():this.Jr=this.Jr.insert(o,r)}Yr(){const r=[];return this.Jr.inorderTraversal((o,c)=>{r.push(c)}),r}}class yc{constructor(r,o,c,h,_,C,N,B){this.query=r,this.docs=o,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=_,this.fromCache=C,this.syncStateChanged=N,this.excludesMetadataChanges=B}static fromInitialDocuments(r,o,c,h){const _=[];return o.forEach(C=>{_.push({type:0,doc:C})}),new yc(r,o,Dd.emptySet(o),_,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&rc(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const o=this.docChanges,c=r.docChanges;if(o.length!==c.length)return!1;for(let h=0;h<o.length;h++)if(o[h].type!==c[h].type||!o[h].doc.isEqual(c[h].doc))return!1;return!0}}class uC{constructor(){this.Xr=void 0,this.listeners=[]}}class ga{constructor(){this.queries=new _d(r=>oh(r),rc),this.onlineState="Unknown",this.Zr=new Set}}function s_(u,r){return o_.apply(this,arguments)}function o_(){return(o_=(0,Me.Z)(function*(u,r){const o=at(u),c=r.query;let h=!1,_=o.queries.get(c);if(_||(h=!0,_=new uC),h)try{_.Xr=yield o.onListen(c)}catch(C){const N=fl(C,`Initialization of query '${E(r.query)}' failed`);return void r.onError(N)}o.queries.set(c,_),_.listeners.push(r),r.eo(o.onlineState),_.Xr&&r.no(_.Xr)&&jg(o)})).apply(this,arguments)}function a_(u,r){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,Me.Z)(function*(u,r){const o=at(u),c=r.query;let h=!1;const _=o.queries.get(c);if(_){const C=_.listeners.indexOf(r);C>=0&&(_.listeners.splice(C,1),h=0===_.listeners.length)}if(h)return o.queries.delete(c),o.onUnlisten(c)})).apply(this,arguments)}function u_(u,r){const o=at(u);let c=!1;for(const h of r){const C=o.queries.get(h.query);if(C){for(const N of C.listeners)N.no(h)&&(c=!0);C.Xr=h}}c&&jg(o)}function l_(u,r,o){const c=at(u),h=c.queries.get(r);if(h)for(const _ of h.listeners)_.onError(o);c.queries.delete(r)}function jg(u){u.Zr.forEach(r=>{r.next()})}class c_{constructor(r,o,c){this.query=r,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new yc(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let o=!1;return this.io?this.oo(r)&&(this.so.next(r),o=!0):this.ao(r,this.onlineState)&&(this.co(r),o=!0),this.ro=r,o}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),o=!0),o}ao(r,o){return!r.fromCache||!(this.options.uo&&"Offline"!==o||r.docs.isEmpty()&&"Offline"!==o)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=yc.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class d_{constructor(r,o){this.payload=r,this.byteLength=o}ho(){return"metadata"in this.payload}}class Lf{constructor(r){this.N=r}zn(r){return Po(this.N,r)}Hn(r){return r.metadata.exists?wy(this.N,r.document,!1):nr.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return wi(r)}}class $E{constructor(r,o,c){this.lo=r,this.localStore=o,this.N=c,this.queries=[],this.documents=[],this.progress=Vf(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let o=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++o):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(r){const o=new Map,c=new Lf(this.N);for(const h of r)if(h.metadata.queries){const _=c.zn(h.metadata.name);for(const C of h.metadata.queries){const N=(o.get(C)||$n()).add(_);o.set(C,N)}}return o}complete(){var r=this;return(0,Me.Z)(function*(){const o=yield function(u,r,o,c){return _h.apply(this,arguments)}(r.localStore,new Lf(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield PE(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new xE(Object.assign({},r.progress),o)})()}}function Vf(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class h_{constructor(r){this.key=r}}class f_{constructor(r){this.key=r}}class p_{constructor(r,o){this.query=r,this._o=o,this.mo=null,this.current=!1,this.yo=$n(),this.mutatedKeys=$n(),this.po=m(r),this.Eo=new Dd(this.po)}get To(){return this._o}Io(r,o){const c=o?o.Ao:new Bg,h=o?o.Eo:this.Eo;let _=o?o.mutatedKeys:this.mutatedKeys,C=h,N=!1;const B=rd(this.query)&&h.size===this.query.limit?h.last():null,K=xs(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((J,le)=>{const ke=h.get(J),qe=g(this.query,le)?le:null,rt=!!ke&&this.mutatedKeys.has(ke.key),vt=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Pt=!1;ke&&qe?ke.data.isEqual(qe.data)?rt!==vt&&(c.track({type:3,doc:qe}),Pt=!0):this.Ro(ke,qe)||(c.track({type:2,doc:qe}),Pt=!0,(B&&this.po(qe,B)>0||K&&this.po(qe,K)<0)&&(N=!0)):!ke&&qe?(c.track({type:0,doc:qe}),Pt=!0):ke&&!qe&&(c.track({type:1,doc:ke}),Pt=!0,(B||K)&&(N=!0)),Pt&&(qe?(C=C.add(qe),_=vt?_.add(J):_.delete(J)):(C=C.delete(J),_=_.delete(J)))}),rd(this.query)||xs(this.query))for(;C.size>this.query.limit;){const J=rd(this.query)?C.last():C.first();C=C.delete(J.key),_=_.delete(J.key),c.track({type:1,doc:J})}return{Eo:C,Ao:c,Ln:N,mutatedKeys:_}}Ro(r,o){return r.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(r,o,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const _=r.Ao.Yr();_.sort((K,J)=>function(le,ke){const qe=rt=>{switch(rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return qe(le)-qe(ke)}(K.type,J.type)||this.po(K.doc,J.doc)),this.Po(c);const C=o?this.bo():[],N=0===this.yo.size&&this.current?1:0,B=N!==this.mo;return this.mo=N,0!==_.length||B?{snapshot:new yc(this.query,r.Eo,h,_,r.mutatedKeys,0===N,B,!1),vo:C}:{vo:C}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Bg,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(o=>this._o=this._o.add(o)),r.modifiedDocuments.forEach(o=>{}),r.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=$n(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const o=[];return r.forEach(c=>{this.yo.has(c)||o.push(new f_(c))}),this.yo.forEach(c=>{r.has(c)||o.push(new h_(c))}),o}So(r){this._o=r.Gn,this.yo=$n();const o=this.Io(r.documents);return this.applyChanges(o,!0)}Do(){return yc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class GE{constructor(r,o,c){this.query=r,this.targetId=o,this.view=c}}class qE{constructor(r){this.key=r,this.Co=!1}}class WE{constructor(r,o,c,h,_,C){this.localStore=r,this.remoteStore=o,this.eventManager=c,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=C,this.No={},this.xo=new _d(N=>oh(N),rc),this.ko=new Map,this.$o=new Set,this.Oo=new Pi(_t.comparator),this.Fo=new Map,this.Mo=new Df,this.Lo={},this.Bo=new Map,this.Uo=cl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Uf(u,r){return pl.apply(this,arguments)}function pl(){return(pl=(0,Me.Z)(function*(u,r){const o=Zg(u);let c,h;const _=o.xo.get(r);if(_)c=_.targetId,o.sharedClientState.addLocalQueryTarget(c),h=_.view.Do();else{const C=yield yh(o.localStore,Ks(r)),N=o.sharedClientState.addLocalQueryTarget(C.targetId);c=C.targetId,h=yield Bf(o,r,c,"current"===N),o.isPrimaryClient&&Rf(o.remoteStore,C)}return h})).apply(this,arguments)}function Bf(u,r,o,c){return mo.apply(this,arguments)}function mo(){return(mo=(0,Me.Z)(function*(u,r,o,c){u.Ko=(J,le,ke)=>{return(qe=(0,Me.Z)(function*(rt,vt,Pt,sr){let ai=vt.view.Io(Pt);ai.Ln&&(ai=yield Cf(rt.localStore,vt.query,!1).then(({documents:bi})=>vt.view.Io(bi,ai)));const or=sr&&sr.targetChanges.get(vt.targetId),Yr=vt.view.applyChanges(ai,rt.isPrimaryClient,or);return vl(rt,vt.targetId,Yr.vo),Yr.snapshot}),function(rt,vt,Pt,sr){return qe.apply(this,arguments)})(u,J,le,ke);var qe};const h=yield Cf(u.localStore,r,!0),_=new p_(r,h.Gn),C=_.Io(h.documents),N=dh.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==u.onlineState),B=_.applyChanges(C,u.isPrimaryClient,N);vl(u,o,B.vo);const K=new GE(r,o,_);return u.xo.set(r,K),u.ko.has(o)?u.ko.get(o).push(r):u.ko.set(o,[r]),B.snapshot})).apply(this,arguments)}function Th(u,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,Me.Z)(function*(u,r){const o=at(u),c=o.xo.get(r),h=o.ko.get(c.targetId);if(h.length>1)return o.ko.set(c.targetId,h.filter(_=>!rc(_,r))),void o.xo.delete(r);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield hc(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),Nf(o.remoteStore,c.targetId),ya(o,c.targetId)}).catch($a))):(ya(o,c.targetId),yield hc(o.localStore,c.targetId,!0))})).apply(this,arguments)}function Ah(){return(Ah=(0,Me.Z)(function*(u,r,o){const c=Wf(u);try{const h=yield function(_,C){const N=at(_),B=ii.now(),K=C.reduce((le,ke)=>le.add(ke.key),$n());let J;return N.persistence.runTransaction("Locally write mutations","readwrite",le=>N.Qn.bn(le,K).next(ke=>{J=ke;const qe=[];for(const rt of C){const vt=tC(rt,J.get(rt.key));null!=vt&&qe.push(new Zi(rt.key,vt,tf(vt.value.mapValue),Dr.exists(!0)))}return N.In.addMutationBatch(le,B,qe,C)})).then(le=>(le.applyToLocalDocumentSet(J),{batchId:le.batchId,changes:J}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(_,C,N){let B=_.Lo[_.currentUser.toKey()];B||(B=new Pi(ln)),B=B.insert(C,N),_.Lo[_.currentUser.toKey()]=B}(c,h.batchId,o),yield Wa(c,h.changes),yield Id(c.remoteStore)}catch(h){const _=fl(h,"Failed to persist write");o.reject(_)}})).apply(this,arguments)}function ma(u,r){return _c.apply(this,arguments)}function _c(){return(_c=(0,Me.Z)(function*(u,r){const o=at(u);try{const c=yield mg(o.localStore,r);r.targetChanges.forEach((h,_)=>{const C=o.Fo.get(_);C&&(Lt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.Co=!0:h.modifiedDocuments.size>0?Lt(C.Co):h.removedDocuments.size>0&&(Lt(C.Co),C.Co=!1))}),yield Wa(o,c,r)}catch(c){yield $a(c)}})).apply(this,arguments)}function Ki(u,r,o){const c=at(u);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){const h=[];c.xo.forEach((_,C)=>{const N=C.view.eo(r);N.snapshot&&h.push(N.snapshot)}),function(_,C){const N=at(_);N.onlineState=C;let B=!1;N.queries.forEach((K,J)=>{for(const le of J.listeners)le.eo(C)&&(B=!0)}),B&&jg(N)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function vc(u,r,o){return Td.apply(this,arguments)}function Td(){return(Td=(0,Me.Z)(function*(u,r,o){const c=at(u);c.sharedClientState.updateQueryState(r,"rejected",o);const h=c.Fo.get(r),_=h&&h.key;if(_){let C=new Pi(_t.comparator);C=C.insert(_,nr.newNoDocument(_,Jt.min()));const N=$n().add(_),B=new oc(Jt.min(),new Map,new Rr(ln),C,N);yield ma(c,B),c.Oo=c.Oo.remove(_),c.Fo.delete(r),jf(c)}else yield hc(c.localStore,r,!1).then(()=>ya(c,r,o)).catch($a)})).apply(this,arguments)}function Bo(u,r){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,Me.Z)(function*(u,r){const o=at(u),c=r.batch.batchId;try{const h=yield NE(o.localStore,r);_l(o,c,null),yl(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield Wa(o,h)}catch(h){yield $a(h)}})).apply(this,arguments)}function Ad(u,r,o){return gl.apply(this,arguments)}function gl(){return(gl=(0,Me.Z)(function*(u,r,o){const c=at(u);try{const h=yield function(_,C){const N=at(_);return N.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let K;return N.In.lookupMutationBatch(B,C).next(J=>(Lt(null!==J),K=J.keys(),N.In.removeMutationBatch(B,J))).next(()=>N.In.performConsistencyCheck(B)).next(()=>N.Qn.bn(B,K))})}(c.localStore,r);_l(c,r,o),yl(c,r),c.sharedClientState.updateMutationState(r,"rejected",o),yield Wa(c,h)}catch(h){yield $a(h)}})).apply(this,arguments)}function ml(){return(ml=(0,Me.Z)(function*(u,r){const o=at(u);gc(o.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(_){const C=at(_);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>C.In.getHighestUnacknowledgedBatchId(N))}(o.localStore);if(-1===c)return void r.resolve();const h=o.Bo.get(c)||[];h.push(r),o.Bo.set(c,h)}catch(c){const h=fl(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function yl(u,r){(u.Bo.get(r)||[]).forEach(o=>{o.resolve()}),u.Bo.delete(r)}function _l(u,r,o){const c=at(u);let h=c.Lo[c.currentUser.toKey()];if(h){const _=h.get(r);_&&(o?_.reject(o):_.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function ya(u,r,o=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),o&&u.No.jo(c,o);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||Ec(u,c)})}function Ec(u,r){u.$o.delete(r.path.canonicalString());const o=u.Oo.get(r);null!==o&&(Nf(u.remoteStore,o),u.Oo=u.Oo.remove(r),u.Fo.delete(o),jf(u))}function vl(u,r,o){for(const c of o)c instanceof h_?(u.Mo.addReference(c.key,r),g_(u,c)):c instanceof f_?(nt("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||Ec(u,c.key)):Et()}function g_(u,r){const o=r.key,c=o.path.canonicalString();u.Oo.get(o)||u.$o.has(c)||(nt("SyncEngine","New document in limbo: "+o),u.$o.add(c),jf(u))}function jf(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const o=new _t(Cn.fromString(r)),c=u.Uo.next();u.Fo.set(c,new qE(o)),u.Oo=u.Oo.insert(o,c),Rf(u.remoteStore,new uc(Ks(La(o.path)),c,2,Wi.T))}}function Wa(u,r,o){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,Me.Z)(function*(u,r,o){const c=at(u),h=[],_=[],C=[];var N;c.xo.isEmpty()||(c.xo.forEach((N,B)=>{C.push(c.Ko(B,r,o).then(K=>{if(K){c.isPrimaryClient&&c.sharedClientState.updateQueryState(B.targetId,K.fromCache?"not-current":"current"),h.push(K);const J=fg.kn(B.targetId,K);_.push(J)}}))}),yield Promise.all(C),c.No.Tr(h),yield(N=(0,Me.Z)(function*(B,K){const J=at(B);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",le=>Je.forEach(K,ke=>Je.forEach(ke.Nn,qe=>J.persistence.referenceDelegate.addReference(le,ke.targetId,qe)).next(()=>Je.forEach(ke.xn,qe=>J.persistence.referenceDelegate.removeReference(le,ke.targetId,qe)))))}catch(le){if(!ac(le))throw le;nt("LocalStore","Failed to update sequence numbers: "+le)}for(const le of K){const ke=le.targetId;if(!le.fromCache){const qe=J.Un.get(ke),vt=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);J.Un=J.Un.insert(ke,vt)}}}),function(B,K){return N.apply(this,arguments)})(c.localStore,_))})).apply(this,arguments)}function m_(u,r){return $f.apply(this,arguments)}function $f(){return($f=(0,Me.Z)(function*(u,r){const o=at(u);if(!o.currentUser.isEqual(r)){nt("SyncEngine","User change. New user:",r.toKey());const c=yield gg(o.localStore,r);o.currentUser=r,(h=o).Bo.forEach(C=>{C.forEach(N=>{N.reject(new et(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),o.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Wa(o,c.Wn)}var h})).apply(this,arguments)}function y_(u,r){const o=at(u),c=o.Fo.get(r);if(c&&c.Co)return $n().add(c.key);{let h=$n();const _=o.ko.get(r);if(!_)return h;for(const C of _){const N=o.xo.get(C);h=h.unionWith(N.view.To)}return h}}function __(u,r){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,Me.Z)(function*(u,r){const o=at(u),c=yield Cf(o.localStore,r.query,!0),h=r.view.So(c);return o.isPrimaryClient&&vl(o,r.targetId,h.vo),h})).apply(this,arguments)}function ZE(u){return qf.apply(this,arguments)}function qf(){return(qf=(0,Me.Z)(function*(u){const r=at(u);return If(r.localStore).then(o=>Wa(r,o))})).apply(this,arguments)}function KE(u,r,o,c){return $g.apply(this,arguments)}function $g(){return($g=(0,Me.Z)(function*(u,r,o,c){const h=at(u),_=yield function(C,N){const B=at(C),K=at(B.In);return B.persistence.runTransaction("Lookup mutation documents","readonly",J=>K.Xt(J,N).next(le=>le?B.Qn.bn(J,le):Je.resolve(null)))}(h.localStore,r);var N;null!==_?("pending"===o?yield Id(h.remoteStore):"acknowledged"===o||"rejected"===o?(_l(h,r,c||null),yl(h,r),N=r,at(at(h.localStore).In).te(N)):Et(),yield Wa(h,_)):nt("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function Gg(){return(Gg=(0,Me.Z)(function*(u,r){const o=at(u);if(Zg(o),Wf(o),!0===r&&!0!==o.qo){const c=o.sharedClientState.getAllActiveQueryTargets(),h=yield YE(o,c.toArray());o.qo=!0,yield kf(o.remoteStore,!0);for(const _ of h)Rf(o.remoteStore,_)}else if(!1===r&&!1!==o.qo){const c=[];let h=Promise.resolve();o.ko.forEach((_,C)=>{o.sharedClientState.isLocalQueryTarget(C)?c.push(C):h=h.then(()=>(ya(o,C),hc(o.localStore,C,!0))),Nf(o.remoteStore,C)}),yield h,yield YE(o,c),function(_){const C=at(_);C.Fo.forEach((N,B)=>{Nf(C.remoteStore,B)}),C.Mo.us(),C.Fo=new Map,C.Oo=new Pi(_t.comparator)}(o),o.qo=!1,yield kf(o.remoteStore,!1)}})).apply(this,arguments)}function YE(u,r,o){return qg.apply(this,arguments)}function qg(){return(qg=(0,Me.Z)(function*(u,r,o){const c=at(u),h=[],_=[];for(const C of r){let N;const B=c.ko.get(C);if(B&&0!==B.length){N=yield yh(c.localStore,Ks(B[0]));for(const K of B){const J=c.xo.get(K),le=yield __(c,J);le.snapshot&&_.push(le.snapshot)}}else{const K=yield Wy(c.localStore,C);N=yield yh(c.localStore,K),yield Bf(c,Wg(K),C,!1)}h.push(N)}return c.No.Tr(_),h})).apply(this,arguments)}function Wg(u){return sl(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function QE(u){const r=at(u);return at(at(r.localStore).persistence).pn()}function E_(u,r,o,c){return zg.apply(this,arguments)}function zg(){return(zg=(0,Me.Z)(function*(u,r,o,c){const h=at(u);if(h.qo)nt("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(o){case"current":case"not-current":{const _=yield If(h.localStore),C=oc.createSynthesizedRemoteEventForCurrentChange(r,"current"===o);yield Wa(h,_,C);break}case"rejected":yield hc(h.localStore,r,!0),ya(h,r,c);break;default:Et()}})).apply(this,arguments)}function JE(u,r,o){return w_.apply(this,arguments)}function w_(){return(w_=(0,Me.Z)(function*(u,r,o){const c=Zg(u);if(c.qo){for(const h of r){if(c.ko.has(h)){nt("SyncEngine","Adding an already active target "+h);continue}const _=yield Wy(c.localStore,h),C=yield yh(c.localStore,_);yield Bf(c,Wg(_),C.targetId,!1),Rf(c.remoteStore,C)}for(const h of o)c.ko.has(h)&&(yield hc(c.localStore,h,!1).then(()=>{Nf(c.remoteStore,h),ya(c,h)}).catch($a))}})).apply(this,arguments)}function Zg(u){const r=at(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=ma.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=y_.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=vc.bind(null,r),r.No.Tr=u_.bind(null,r.eventManager),r.No.jo=l_.bind(null,r.eventManager),r}function Wf(u){const r=at(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=Bo.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Ad.bind(null,r),r}class XE{constructor(){this.synchronizeTabs=!1}initialize(r){var o=this;return(0,Me.Z)(function*(){o.N=pc(r.databaseInfo.databaseId),o.sharedClientState=o.Wo(r),o.persistence=o.Go(r),yield o.persistence.start(),o.gcScheduler=o.zo(r),o.localStore=o.Ho(r)})()}zo(r){return null}Ho(r){return Gy(this.persistence,new pg,r.initialUser,this.N)}Go(r){return new zy(Tf.Ns,this.N)}Wo(r){return new Ed}terminate(){var r=this;return(0,Me.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class e0 extends XE{constructor(r,o,c){super(),this.Jo=r,this.cacheSizeBytes=o,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var o=()=>super.initialize,c=this;return(0,Me.Z)(function*(){yield o().call(c,r),yield function(u){return _g.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield Wf(c.Jo.syncEngine),yield Id(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return Gy(this.persistence,new pg,r.initialUser,this.N)}zo(r){return new Uy(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const o=dg(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new mh(this.synchronizeTabs,o,r.clientId,c,r.asyncQueue,bg(),xf(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new Ed}}class t0 extends e0{constructor(r,o){super(r,o,!1),this.Jo=r,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(r){var o=()=>super.initialize,c=this;return(0,Me.Z)(function*(){yield o().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof Sf&&(c.sharedClientState.syncEngine={_i:KE.bind(null,h),mi:E_.bind(null,h),gi:JE.bind(null,h),pn:QE.bind(null,h),wi:ZE.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var _=(0,Me.Z)(function*(C){yield function(u,r){return Gg.apply(this,arguments)}(c.Jo.syncEngine,C),c.gcScheduler&&(C&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):C||c.gcScheduler.stop())});return function(C){return _.apply(this,arguments)}}())})()}Wo(r){const o=bg();if(!Sf.Pt(o))throw new et(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=dg(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Sf(o,r.asyncQueue,c,r.clientId,r.initialUser)}}class C_{initialize(r,o){var c=this;return(0,Me.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>Ki(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=m_.bind(null,c.syncEngine),yield kf(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new ga}createDatastore(r){const o=pc(r.databaseInfo.databaseId),c=new LE(r.databaseInfo);return new e_(r.credentials,c,o)}createRemoteStore(r){return o=this.localStore,c=this.datastore,h=r.asyncQueue,_=N=>Ki(this.syncEngine,N,0),C=Yy.Pt()?new Yy:new wh,new UE(o,c,h,_,C);var o,c,h,_,C}createSyncEngine(r,o){return function(c,h,_,C,N,B,K){const J=new WE(c,h,_,C,N,B);return K&&(J.qo=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){return(r=(0,Me.Z)(function*(o){const c=at(o);nt("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield Cd(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(o){return r.apply(this,arguments)})(this.remoteStore);var r}}function I_(u,r=10240){let o=0;return{read:()=>(0,Me.Z)(function*(){if(o<u.byteLength){const c={value:u.slice(o,o+r),done:!1};return o+=r,c}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zf{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,o){this.muted||setTimeout(()=>{this.muted||r(o)},0)}}class Kg{constructor(r,o){this.Zo=r,this.N=o,this.metadata=new wr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Me.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Me.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Me.Z)(function*(){const o=yield r.na();if(null===o)return null;const c=r.ta.decode(o),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const _=yield r.ia(h);return new d_(JSON.parse(_),o.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Me.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const o=r.ra();o<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,o);return r.buffer=r.buffer.slice(o),c})()}ia(r){var o=this;return(0,Me.Z)(function*(){for(;o.buffer.length<r;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const c=o.ta.decode(o.buffer.slice(0,r));return o.buffer=o.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Me.Z)(function*(){const o=yield r.Zo.read();if(!o.done){const c=new Uint8Array(r.buffer.length+o.value.length);c.set(r.buffer),c.set(o.value,r.buffer.length),r.buffer=c}return o.done})()}}class Yg{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var o=this;return(0,Me.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new et(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,Me.Z)(function*(_,C){const N=at(_),B=Cu(N.N)+"/documents",K={documents:C.map(qe=>ld(N.N,qe))},J=yield N.Ki("BatchGetDocuments",B,K),le=new Map;J.forEach(qe=>{const rt=function(u,r){return"found"in r?function(o,c){Lt(!!c.found);const h=Po(o,c.found.name),_=wi(c.found.updateTime),C=new Oi({mapValue:{fields:c.found.fields}});return nr.newFoundDocument(h,_,C)}(u,r):"missing"in r?function(o,c){Lt(!!c.missing),Lt(!!c.readTime);const h=Po(o,c.missing),_=wi(c.readTime);return nr.newNoDocument(h,_)}(u,r):Et()}(N.N,qe);le.set(rt.key.toString(),rt)});const ke=[];return C.forEach(qe=>{const rt=le.get(qe.toString());Lt(!!rt),ke.push(rt)}),ke}),function(_,C){return h.apply(this,arguments)})(o.datastore,r);var h;return c.forEach(h=>o.recordVersion(h)),c})()}set(r,o){this.write(o.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,o){try{this.write(o.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new od(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Me.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const o=r.readVersions;var c;r.mutations.forEach(c=>{o.delete(c.key.toString())}),o.forEach((c,h)=>{const _=_t.fromPath(h);r.mutations.push(new sc(_,r.precondition(_)))}),yield(c=(0,Me.Z)(function*(h,_){const C=at(h),N=Cu(C.N)+"/documents",B={writes:_.map(K=>cd(C.N,K))};yield C.Li("Commit",N,B)}),function(h,_){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let o;if(r.isFoundDocument())o=r.version;else{if(!r.isNoDocument())throw Et();o=Jt.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!o.isEqual(c))throw new et(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),o)}precondition(r){const o=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&o?Dr.updateTime(o):Dr.none()}preconditionForUpdate(r){const o=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&o){if(o.isEqual(Jt.min()))throw new et(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(o)}return Dr.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class n0{constructor(r,o,c,h){this.asyncQueue=r,this.datastore=o,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Dg(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Me.Z)(function*(){const o=new Yg(r.datastore),c=r.ua(o);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{r.deferred.resolve(h)}).catch(_=>{r.ha(_)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const o=this.updateFunction(r);return!ho(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const o=r.code;return"aborted"===o||"failed-precondition"===o||!cf(o)}return!1}}class cC{constructor(r,o,c){var h=this;this.credentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Zr.UNAUTHENTICATED,this.clientId=Jd.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var _=(0,Me.Z)(function*(C){nt("FirestoreClient","Received user=",C.uid),yield h.credentialListener(C),h.user=C});return function(C){return _.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Me.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const o=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),o.resolve()}catch(c){const h=fl(c,"Failed to shutdown persistence");o.reject(h)}})),o.promise}}function r0(u,r){return b_.apply(this,arguments)}function b_(){return(b_=(0,Me.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const o=yield u.getConfiguration();yield r.initialize(o);let c=o.initialUser;u.setCredentialChangeListener(function(){var h=(0,Me.Z)(function*(_){c.isEqual(_)||(yield gg(r.localStore,_),c=_)});return function(_){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function D_(u,r){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,Me.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const o=yield T_(u);nt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(o,c),u.setCredentialChangeListener(h=>{return(_=(0,Me.Z)(function*(C,N){const B=at(C);B.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const K=gc(B);B.Kr.add(3),yield Cd(B),K&&B.Wr.set("Unknown"),yield B.remoteSyncer.handleCredentialChange(N),B.Kr.delete(3),yield Ga(B)}),function(C,N){return _.apply(this,arguments)})(r.remoteStore,h);var _}),u.onlineComponents=r})).apply(this,arguments)}function T_(u){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,Me.Z)(function*(u){return u.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield r0(u,new XE)),u.offlineComponents})).apply(this,arguments)}function Su(u){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,Me.Z)(function*(u){return u.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield D_(u,new C_)),u.onlineComponents})).apply(this,arguments)}function Xg(u){return T_(u).then(r=>r.persistence)}function em(u){return T_(u).then(r=>r.localStore)}function tm(u){return Su(u).then(r=>r.remoteStore)}function xd(u){return Su(u).then(r=>r.syncEngine)}function Rd(u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Me.Z)(function*(u){const r=yield Su(u),o=r.eventManager;return o.onListen=Uf.bind(null,r.syncEngine),o.onUnlisten=Th.bind(null,r.syncEngine),o})).apply(this,arguments)}function A_(u,r,o={}){const c=new wr;return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(h,_,C,N,B){const K=new zf({next:le=>{_.enqueueAndForget(()=>a_(h,J));const ke=le.docs.has(C);!ke&&le.fromCache?B.reject(new et(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):ke&&le.fromCache&&N&&"server"===N.source?B.reject(new et(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(le)},error:le=>B.reject(le)}),J=new c_(La(C.path),K,{includeMetadataChanges:!0,uo:!0});return s_(h,J)}(yield Rd(u),u.asyncQueue,r,o,c)})),c.promise}function nm(u,r,o={}){const c=new wr;return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(h,_,C,N,B){const K=new zf({next:le=>{_.enqueueAndForget(()=>a_(h,J)),le.fromCache&&"server"===N.source?B.reject(new et(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(le)},error:le=>B.reject(le)}),J=new c_(C,K,{includeMetadataChanges:!0,uo:!0});return s_(h,J)}(yield Rd(u),u.asyncQueue,r,o,c)})),c.promise}class dC{constructor(r,o,c,h,_,C,N,B){this.databaseId=r,this.appId=o,this.persistenceKey=c,this.host=h,this.ssl=_,this.forceLongPolling=C,this.autoDetectLongPolling=N,this.useFetchStreams=B}}class El{constructor(r,o){this.projectId=r,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof El&&r.projectId===this.projectId&&r.database===this.database}}const R_=new Map;function N_(u,r,o){if(!o)throw new et(Fe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function Nd(u,r,o,c){if(!0===r&&!0===c)throw new et(Fe.INVALID_ARGUMENT,`${u} and ${o} cannot be used together.`)}function M_(u){if(!_t.isDocumentKey(u))throw new et(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Yf(u){if(_t.isDocumentKey(u))throw new et(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Md(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(o){if(o.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":Et()}function Rn(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new et(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Md(u);throw new et(Fe.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${o}`)}}return u}function Qf(u,r){if(r<=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class Jf{constructor(r){var o;if(void 0===r.host){if(void 0!==r.ssl)throw new et(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(o=r.ssl)||void 0===o||o;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new et(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Nd("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Od{constructor(r,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jf({}),this._settingsFrozen=!1,r instanceof El?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new et(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(c.options.projectId)}(r))}get app(){if(!this._app)throw new et(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jf(r),void 0!==r.credentials&&(this._credentials=function(o){if(!o)return new gu;switch(o.type){case"gapi":const c=o.client;return Lt(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Qc(c,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new et(Fe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=R_.get(r);o&&(nt("ComponentProvider","Removing Datastore"),R_.delete(r),o.terminate())}(this),Promise.resolve()}}class Ir{constructor(r,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Ir(this.firestore,r,this._key)}}class Yi{constructor(r,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new Yi(this.firestore,r,this._query)}}class _a extends Yi{constructor(r,o,c){super(r,o,La(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Ir(this.firestore,null,new _t(r))}withConverter(r){return new _a(this.firestore,r,this._path)}}function O_(u,r,...o){if(u=(0,Rt.m9)(u),N_("collection","path",r),u instanceof Od){const c=Cn.fromString(r,...o);return Yf(c),new _a(u,null,c)}{if(!(u instanceof Ir||u instanceof _a))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=Cn.fromString(u.path,...o).child(Cn.fromString(r));return Yf(c),new _a(u.firestore,null,c)}}function Pd(u,r,...o){if(u=(0,Rt.m9)(u),1===arguments.length&&(r=Jd.I()),N_("doc","path",r),u instanceof Od){const c=Cn.fromString(r,...o);return M_(c),new Ir(u,null,new _t(c))}{if(!(u instanceof Ir||u instanceof _a))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(Cn.fromString(r,...o));return M_(c),new Ir(u.firestore,u instanceof _a?u.converter:null,new _t(c))}}function im(u,r){return u=(0,Rt.m9)(u),r=(0,Rt.m9)(r),(u instanceof Ir||u instanceof _a)&&(r instanceof Ir||r instanceof _a)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function Xf(u,r){return u=(0,Rt.m9)(u),r=(0,Rt.m9)(r),u instanceof Yi&&r instanceof Yi&&u.firestore===r.firestore&&rc(u._query,r._query)&&u.converter===r.converter}class sm{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Dg(this,"async_queue_retry"),this.Ea=()=>{const o=xf();o&&nt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const r=xf();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const o=xf();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new wr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Me.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(o){if(!ac(o))throw o;nt("AsyncQueue","Operation failed with retryable error: "+o)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const o=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,hr("INTERNAL UNHANDLED ERROR: ",function(h){let _=h.message||"";return h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=o,o}enqueueAfterDelay(r,o,c){this.Ta(),this.pa.indexOf(r)>-1&&(o=0);const h=i_.createAndSchedule(this,r,o,c,_=>this.Ra(_));return this._a.push(h),h}Ta(){this.ma&&Et()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Me.Z)(function*(){let o;do{o=r.fa,yield o}while(o!==r.fa)})()}ba(r){for(const o of this._a)if(o.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==r&&o.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const o=this._a.indexOf(r);this._a.splice(o,1)}}function ep(u){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class c0{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,o,c){this._progressObserver={next:r,error:o,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,o){return this._taskCompletionResolver.promise.then(r,o)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Or extends Od{constructor(r,o){super(r,o),this.type="firestore",this._queue=new sm,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||L_(this),this._firestoreClient.terminate()}}function Ci(u){return u._firestoreClient||L_(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function L_(u){var r;const o=u._freezeSettings(),c=(_=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new dC(u._databaseId,_,u._persistenceKey,(N=o).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var _,N;u._firestoreClient=new cC(u._credentials,u._queue,c)}function tp(u,r,o){const c=new wr;return u.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield r0(u,o),yield D_(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(_=h).name?_.code===Fe.FAILED_PRECONDITION||_.code===Fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var _})).then(()=>c.promise)}function om(u){if(u._initialized||u._terminated)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wl{constructor(...r){for(let o=0;o<r.length;++o)if(0===r[o].length)throw new et(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class za{constructor(r){this._byteString=r}static fromBase64String(r){try{return new za(si.fromBase64String(r))}catch(o){throw new et(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(r){return new za(si.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Cl{constructor(r){this._methodName=r}}class np{constructor(r,o){if(!isFinite(r)||r<-90||r>90)throw new et(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(o)||o<-180||o>180)throw new et(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=r,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return ln(this._lat,r._lat)||ln(this._long,r._long)}}const Ii=/^__.*__$/;class q_{constructor(r,o,c){this.data=r,this.fieldMask=o,this.fieldTransforms=c}toMutation(r,o){return null!==this.fieldMask?new Zi(r,this.data,this.fieldMask,o,this.fieldTransforms):new af(r,this.data,o,this.fieldTransforms)}}class W_{constructor(r,o,c){this.data=r,this.fieldMask=o,this.fieldTransforms=c}toMutation(r,o){return new Zi(r,this.data,this.fieldMask,o,this.fieldTransforms)}}function z_(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class xh{constructor(r,o,c,h,_,C){this.settings=r,this.databaseId=o,this.N=c,this.ignoreUndefinedProperties=h,void 0===_&&this.Sa(),this.fieldTransforms=_||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new xh(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return Nh(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(o=>r.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>r.isPrefixOf(o.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(z_(this.Da)&&Ii.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class p0{constructor(r,o,c){this.databaseId=r,this.ignoreUndefinedProperties=o,this.N=c||pc(r)}Ba(r,o,c,h=!1){return new xh({Da:r,methodName:o,La:c,path:vi.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Il(u){const r=u._freezeSettings(),o=pc(u._databaseId);return new p0(u._databaseId,!!r.ignoreUndefinedProperties,o)}function Rh(u,r,o,c,h,_={}){const C=u.Ba(_.merge||_.mergeFields?2:0,r,o,h);jo("Data must be an object, but it was:",C,c);const N=J_(c,C);let B,K;if(_.merge)B=new el(C.fieldMask),K=C.fieldTransforms;else if(_.mergeFields){const J=[];for(const le of _.mergeFields){const ke=yo(r,le,o);if(!C.contains(ke))throw new et(Fe.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);ev(J,ke)||J.push(ke)}B=new el(J),K=C.fieldTransforms.filter(le=>B.covers(le.field))}else B=null,K=C.fieldTransforms;return new q_(new Oi(N),B,K)}class Za extends Cl{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Za}}function Z_(u,r,o){return new xh({Da:3,La:r.settings.La,methodName:u._methodName,xa:o},r.databaseId,r.N,r.ignoreUndefinedProperties)}class am extends Cl{_toFieldTransform(r){return new Va(r.path,new bt)}isEqual(r){return r instanceof am}}class K_ extends Cl{constructor(r,o){super(r),this.Ua=o}_toFieldTransform(r){const o=Z_(this,r,!0),c=this.Ua.map(_=>ls(_,o)),h=new ir(c);return new Va(r.path,h)}isEqual(r){return this===r}}class g0 extends Cl{constructor(r,o){super(r),this.Ua=o}_toFieldTransform(r){const o=Z_(this,r,!0),c=this.Ua.map(_=>ls(_,o)),h=new Rs(c);return new Va(r.path,h)}isEqual(r){return this===r}}class Y_ extends Cl{constructor(r,o){super(r),this.qa=o}_toFieldTransform(r){const o=new ca(r.N,pe(r.N,this.qa));return new Va(r.path,o)}isEqual(r){return this===r}}function Q_(u,r,o,c){const h=u.Ba(1,r,o);jo("Data must be an object, but it was:",h,c);const _=[],C=Oi.empty();mu(c,(B,K)=>{const J=sp(r,B,o);K=(0,Rt.m9)(K);const le=h.$a(J);if(K instanceof Za)_.push(J);else{const ke=ls(K,le);null!=ke&&(_.push(J),C.set(J,ke))}});const N=new el(_);return new W_(C,N,h.fieldTransforms)}function rp(u,r,o,c,h,_){const C=u.Ba(1,r,o),N=[yo(r,c,o)],B=[h];if(_.length%2!=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<_.length;ke+=2)N.push(yo(r,_[ke])),B.push(_[ke+1]);const K=[],J=Oi.empty();for(let ke=N.length-1;ke>=0;--ke)if(!ev(K,N[ke])){const qe=N[ke];let rt=B[ke];rt=(0,Rt.m9)(rt);const vt=C.$a(qe);if(rt instanceof Za)K.push(qe);else{const Pt=ls(rt,vt);null!=Pt&&(K.push(qe),J.set(qe,Pt))}}const le=new el(K);return new W_(J,le,C.fieldTransforms)}function ip(u,r,o,c=!1){return ls(o,u.Ba(c?4:3,r))}function ls(u,r){if(X_(u=(0,Rt.m9)(u)))return jo("Unsupported field value:",r,u),J_(u,r);if(u instanceof Cl)return function(o,c){if(!z_(c.Da))throw c.Fa(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(o,c){const h=[];let _=0;for(const C of o){let N=ls(C,c.Oa(_));null==N&&(N={nullValue:"NULL_VALUE"}),h.push(N),_++}return{arrayValue:{values:h}}}(u,r)}return function(o,c){if(null===(o=(0,Rt.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return pe(c.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const h=ii.fromDate(o);return{timestampValue:ad(c.N,h)}}if(o instanceof ii){const h=new ii(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ad(c.N,h)}}if(o instanceof np)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof za)return{bytesValue:Zp(c.N,o._byteString)};if(o instanceof Ir){const h=c.databaseId,_=o.firestore._databaseId;if(!_.isEqual(h))throw c.Fa(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ud(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.Fa(`Unsupported field value: ${Md(o)}`)}(u,r)}function J_(u,r){const o={};return Zs(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):mu(u,(c,h)=>{const _=ls(h,r.Na(c));null!=_&&(o[c]=_)}),{mapValue:{fields:o}}}function X_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof ii||u instanceof np||u instanceof za||u instanceof Ir||u instanceof Cl)}function jo(u,r,o){if(!X_(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Md(o);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function yo(u,r,o){if((r=(0,Rt.m9)(r))instanceof wl)return r._internalPath;if("string"==typeof r)return sp(u,r);throw Nh("Field path arguments must be of type string or FieldPath.",u,!1,void 0,o)}const va=new RegExp("[~\\*/\\[\\]]");function sp(u,r,o){if(r.search(va)>=0)throw Nh(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,o);try{return new wl(...r.split("."))._internalPath}catch(c){throw Nh(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,o)}}function Nh(u,r,o,c,h){const _=c&&!c.isEmpty(),C=void 0!==h;let N=`Function ${r}() called with invalid data`;o&&(N+=" (via `toFirestore()`)"),N+=". ";let B="";return(_||C)&&(B+=" (found",_&&(B+=` in field ${c}`),C&&(B+=` in document ${h}`),B+=")"),new et(Fe.INVALID_ARGUMENT,N+u+B)}function ev(u,r){return u.some(o=>o.isEqual(r))}class Mh{constructor(r,o,c,h,_){this._firestore=r,this._userDataWriter=o,this._key=c,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new m0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const o=this._document.data.field(op("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o)}}}class m0 extends Mh{data(){return super.data()}}function op(u,r){return"string"==typeof r?sp(u,r):r instanceof wl?r._internalPath:r._delegate._internalPath}class xu{constructor(r,o){this.hasPendingWrites=r,this.fromCache=o}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class _o extends Mh{constructor(r,o,c,h,_,C){super(r,o,c,h,C),this._firestore=r,this._firestoreImpl=r,this.metadata=_}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const o=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,o={}){if(this._document){const c=this._document.data.field(op("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Oh extends _o{data(r={}){return super.data(r)}}class Ru{constructor(r,o,c,h){this._firestore=r,this._userDataWriter=o,this._snapshot=h,this.metadata=new xu(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(o=>r.push(o)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,o){this._snapshot.docs.forEach(c=>{r.call(o,new Oh(this._firestore,this._userDataWriter,c.key,c,new xu(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const o=!!r.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new et(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new Oh(c._firestore,c._userDataWriter,C.doc.key,C.doc,new xu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const N=new Oh(c._firestore,c._userDataWriter,C.doc.key,C.doc,new xu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let B=-1,K=-1;return 0!==C.type&&(B=_.indexOf(C.doc.key),_=_.delete(C.doc.key)),1!==C.type&&(_=_.add(C.doc),K=_.indexOf(C.doc.key)),{type:y0(C.type),doc:N,oldIndex:B,newIndex:K}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function y0(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function um(u,r){return u instanceof _o&&r instanceof _o?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof Ru&&r instanceof Ru&&u._firestore===r._firestore&&Xf(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function lm(u){if(xs(u)&&0===u.explicitOrderBy.length)throw new et(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bl{}function Dl(u,...r){for(const o of r)u=o._apply(u);return u}class tv extends bl{constructor(r,o,c){super(),this.Ka=r,this.ja=o,this.Qa=c,this.type="where"}_apply(r){const o=Il(r.firestore),c=function(h,_,C,N,B,K,J){let le;if(B.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on FieldPath.documentId().`);if("in"===K||"not-in"===K){cv(J,K);const qe=[];for(const rt of J)qe.push(lv(N,h,rt));le={arrayValue:{values:qe}}}else le=lv(N,h,J)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||cv(J,K),le=ip(C,"where",J,"in"===K||"not-in"===K);const ke=qn.create(B,K,le);return function(qe,rt){if(rt.v()){const Pt=nc(qe);if(null!==Pt&&!Pt.isEqual(rt.field))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pt.toString()}' and '${rt.field.toString()}'`);const sr=Eu(qe);null!==sr&&dv(0,rt.field,sr)}const vt=function(Pt,sr){for(const ai of Pt.filters)if(sr.indexOf(ai.op)>=0)return ai.op;return null}(qe,function(Pt){switch(Pt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(rt.op));if(null!==vt)throw new et(Fe.INVALID_ARGUMENT,vt===rt.op?`Invalid query. You cannot use more than one '${rt.op.toString()}' filter.`:`Invalid query. You cannot use '${rt.op.toString()}' filters with '${vt.toString()}' filters.`)}(h,ke),ke}(r._query,0,o,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Yi(r.firestore,r.converter,function(h,_){const C=h.filters.concat([_]);return new zi(h.path,h.collectionGroup,h.explicitOrderBy.slice(),C,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class cm extends bl{constructor(r,o){super(),this.Ka=r,this.Wa=o,this.type="orderBy"}_apply(r){const o=function(c,h,_){if(null!==c.startAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Fa(h,_);return function(N,B){if(null===Eu(N)){const K=nc(N);null!==K&&dv(0,K,B.field)}}(c,C),C}(r._query,this.Ka,this.Wa);return new Yi(r.firestore,r.converter,function(c,h){const _=c.explicitOrderBy.concat([h]);return new zi(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,o))}}class dm extends bl{constructor(r,o,c){super(),this.type=r,this.Ga=o,this.za=c}_apply(r){return new Yi(r.firestore,r.converter,of(r._query,this.Ga,this.za))}}class hm extends bl{constructor(r,o,c){super(),this.type=r,this.Ha=o,this.Ja=c}_apply(r){const o=uv(r,this.type,this.Ha,this.Ja);return new Yi(r.firestore,r.converter,(h=o,new zi((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class fm extends bl{constructor(r,o,c){super(),this.type=r,this.Ha=o,this.Ja=c}_apply(r){const o=uv(r,this.type,this.Ha,this.Ja);return new Yi(r.firestore,r.converter,(h=o,new zi((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function uv(u,r,o,c){if(o[0]=(0,Rt.m9)(o[0]),o[0]instanceof Mh)return function(h,_,C,N,B){if(!N)throw new et(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const K=[];for(const J of la(h))if(J.field.isKeyField())K.push(rl(_,N.key));else{const le=N.data.field(J.field);if(Xc(le))throw new et(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===le){const ke=J.field.canonicalString();throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ke}' (used as the orderBy) does not exist.`)}K.push(le)}return new Mo(K,B)}(u._query,u.firestore._databaseId,r,o[0]._document,c);{const h=Il(u.firestore);return function(_,C,N,B,K,J){const le=_.explicitOrderBy;if(K.length>le.length)throw new et(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ke=[];for(let qe=0;qe<K.length;qe++){const rt=K[qe];if(le[qe].field.isKeyField()){if("string"!=typeof rt)throw new et(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof rt}`);if(!id(_)&&-1!==rt.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${B}() must be a plain document ID, but '${rt}' contains a slash.`);const vt=_.path.child(Cn.fromString(rt));if(!_t.isDocumentKey(vt))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${B}() must result in a valid document path, but '${vt}' is not because it contains an odd number of segments.`);const Pt=new _t(vt);ke.push(rl(C,Pt))}else{const vt=ip(N,B,rt);ke.push(vt)}}return new Mo(ke,J)}(u._query,u.firestore._databaseId,h,r,o,c)}}function lv(u,r,o){if("string"==typeof(o=(0,Rt.m9)(o))){if(""===o)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!id(r)&&-1!==o.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=r.path.child(Cn.fromString(o));if(!_t.isDocumentKey(c))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return rl(u,new _t(c))}if(o instanceof Ir)return rl(u,o._key);throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(o)}.`)}function cv(u,r){if(!Array.isArray(u)||0===u.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function dv(u,r,o){if(!o.isEqual(r))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class pm{convertValue(r,o="none"){switch(ka(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Br(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,o);case 5:return r.stringValue;case 6:return this.convertBytes(tl(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,o);case 10:return this.convertObject(r.mapValue,o);default:throw Et()}}convertObject(r,o){const c={};return mu(r.fields,(h,_)=>{c[h]=this.convertValue(_,o)}),c}convertGeoPoint(r){return new np(Br(r.latitude),Br(r.longitude))}convertArray(r,o){return(r.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(r,o){switch(o){case"previous":const c=th(r);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(Zl(r));default:return null}}convertTimestamp(r){const o=Pa(r);return new ii(o.seconds,o.nanos)}convertDocumentKey(r,o){const c=Cn.fromString(r);Lt(Sy(c));const h=new El(c.get(1),c.get(3)),_=new _t(c.popFirst(5));return h.isEqual(o)||hr(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),_}}function up(u,r,o){let c;return c=u?o&&(o.merge||o.mergeFields)?u.toFirestore(r,o):u.toFirestore(r):r,c}class v0 extends pm{constructor(r){super(),this.firestore=r}convertBytes(r){return new za(r)}convertReference(r){const o=this.convertDocumentKey(r,this.firestore._databaseId);return new Ir(this.firestore,null,o)}}class hv{constructor(r,o){this._firestore=r,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Il(r)}set(r,o,c){this._verifyNotCommitted();const h=Tl(r,this._firestore),_=up(h.converter,o,c),C=Rh(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,c);return this._mutations.push(C.toMutation(h._key,Dr.none())),this}update(r,o,c,...h){this._verifyNotCommitted();const _=Tl(r,this._firestore);let C;return C="string"==typeof(o=(0,Rt.m9)(o))||o instanceof wl?rp(this._dataReader,"WriteBatch.update",_._key,o,c,h):Q_(this._dataReader,"WriteBatch.update",_._key,o),this._mutations.push(C.toMutation(_._key,Dr.exists(!0))),this}delete(r){this._verifyNotCommitted();const o=Tl(r,this._firestore);return this._mutations=this._mutations.concat(new od(o._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tl(u,r){if((u=(0,Rt.m9)(u)).firestore!==r)throw new et(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class wc extends pm{constructor(r){super(),this.firestore=r}convertBytes(r){return new za(r)}convertReference(r){const o=this.convertDocumentKey(r,this.firestore._databaseId);return new Ir(this.firestore,null,o)}}function fv(u,r,o){u=Rn(u,Ir);const c=Rn(u.firestore,Or),h=up(u.converter,r,o);return Cc(c,[Rh(Il(c),"setDoc",u._key,h,null!==u.converter,o).toMutation(u._key,Dr.none())])}function gm(u,r,o,...c){u=Rn(u,Ir);const h=Rn(u.firestore,Or),_=Il(h);let C;return C="string"==typeof(r=(0,Rt.m9)(r))||r instanceof wl?rp(_,"updateDoc",u._key,r,o,c):Q_(_,"updateDoc",u._key,r),Cc(h,[C.toMutation(u._key,Dr.exists(!0))])}function mm(u,...r){var o,c,h;u=(0,Rt.m9)(u);let _={includeMetadataChanges:!1},C=0;"object"!=typeof r[C]||ep(r[C])||(_=r[C],C++);const N={includeMetadataChanges:_.includeMetadataChanges};if(ep(r[C])){const le=r[C];r[C]=null===(o=le.next)||void 0===o?void 0:o.bind(le),r[C+1]=null===(c=le.error)||void 0===c?void 0:c.bind(le),r[C+2]=null===(h=le.complete)||void 0===h?void 0:h.bind(le)}let B,K,J;if(u instanceof Ir)K=Rn(u.firestore,Or),J=La(u._key.path),B={next:le=>{r[C]&&r[C](lp(K,u,le))},error:r[C+1],complete:r[C+2]};else{const le=Rn(u,Yi);K=Rn(le.firestore,Or),J=le._query;const ke=new wc(K);B={next:qe=>{r[C]&&r[C](new Ru(K,ke,le,qe))},error:r[C+1],complete:r[C+2]},lm(u._query)}return function(le,ke,qe,rt){const vt=new zf(rt),Pt=new c_(ke,vt,qe);return le.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return s_(yield Rd(le),Pt)})),()=>{vt.Xo(),le.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return a_(yield Rd(le),Pt)}))}}(Ci(K),J,N,B)}function Cc(u,r){return function(o,c){const h=new wr;return o.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(u,r,o){return Ah.apply(this,arguments)}(yield xd(o),c,h)})),h.promise}(Ci(u),r)}function lp(u,r,o){const c=o.docs.get(r._key),h=new wc(u);return new _o(u,h,r._key,c,new xu(o.hasPendingWrites,o.fromCache),r.converter)}class yv extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Il(r)}get(r){const o=Tl(r,this._firestore),c=new v0(this._firestore);return this._transaction.lookup([o._key]).then(h=>{if(!h||1!==h.length)return Et();const _=h[0];if(_.isFoundDocument())return new Mh(this._firestore,c,_.key,_,o.converter);if(_.isNoDocument())return new Mh(this._firestore,c,o._key,null,o.converter);throw Et()})}set(r,o,c){const h=Tl(r,this._firestore),_=up(h.converter,o,c),C=Rh(this._dataReader,"Transaction.set",h._key,_,null!==h.converter,c);return this._transaction.set(h._key,C),this}update(r,o,c,...h){const _=Tl(r,this._firestore);let C;return C="string"==typeof(o=(0,Rt.m9)(o))||o instanceof wl?rp(this._dataReader,"Transaction.update",_._key,o,c,h):Q_(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,C),this}delete(r){const o=Tl(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(r,o){super(r,o),this._firestore=r}get(r){const o=Tl(r,this._firestore),c=new wc(this._firestore);return super.get(r).then(h=>new _o(this._firestore,c,o._key,h._document,new xu(!1,!1),o.converter))}}function cp(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new et("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function vm(){if("undefined"==typeof Uint8Array)throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function S0(){if("undefined"==typeof atob)throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){aa=u})(cr.SDK_VERSION),(0,cr._registerComponent)(new jr.wA("firestore",(u,{options:r})=>{const o=u.getProvider("app").getImmediate(),c=new Or(o,new Qd(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,cr.registerVersion)("@firebase/firestore","3.0.1",void 0);class St{constructor(r){this._delegate=r}static fromBase64String(r){return S0(),new St(za.fromBase64String(r))}static fromUint8Array(r){return vm(),new St(za.fromUint8Array(r))}toBase64(){return S0(),this._delegate.toBase64()}toUint8Array(){return vm(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Em(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const o=u;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(u)}class R0{enableIndexedDbPersistence(r,o){return function(u,r){om(u=Rn(u,Or));const o=Ci(u),c=u._freezeSettings(),h=new C_;return tp(o,h,new e0(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(r){return function(u){om(u=Rn(u,Or));const r=Ci(u),o=u._freezeSettings(),c=new C_;return tp(r,c,new t0(c,o.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new et(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new wr;return u._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(o=(0,Me.Z)(function*(c){if(!ja.Pt())return Promise.resolve();const h=c+"main";yield ja.delete(h)}),function(c){return o.apply(this,arguments)})(dg(u._databaseId,u._persistenceKey)),r.resolve()}catch(o){r.reject(o)}var o})),r.promise}(r._delegate)}}class kh{constructor(r,o,c){this._delegate=o,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof El||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const o=this._delegate._getSettings();!r.merge&&o.host!==r.host&&zl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},o),r)).merge,this._delegate._setSettings(r)}useEmulator(r,o,c={}){!function(u,r,o,c={}){var h;const _=(u=Rn(u,Od))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==r&&zl("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},_),{host:`${r}:${o}`,ssl:!1})),c.mockUserToken){let C,N;if("string"==typeof c.mockUserToken)C=c.mockUserToken,N=Zr.MOCK_USER;else{C=(0,Rt.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const B=c.mockUserToken.sub||c.mockUserToken.user_id;if(!B)throw new et(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Zr(B)}u._credentials=new kp(new Yc(C,N))}}(this._delegate,r,o,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,Me.Z)(function*(){const r=yield Xg(u),o=yield tm(u);return r.setNetworkEnabled(!0),function(c){const h=at(c);return h.Kr.delete(0),Ga(h)}(o)}))}(Ci(u=Rn(u,Or)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,Me.Z)(function*(){const r=yield Xg(u),o=yield tm(u);return r.setNetworkEnabled(!1),(c=(0,Me.Z)(function*(h){const _=at(h);_.Kr.add(0),yield Cd(_),_.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(o);var c}))}(Ci(u=Rn(u,Or)))}(this._delegate)}enablePersistence(r){let o=!1,c=!1;return r&&(o=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,Nd("synchronizeTabs",o,"experimentalForceOwningTab",c)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const o=new wr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(u,r){return ml.apply(this,arguments)}(yield xd(r),o)})),o.promise}(Ci(u=Rn(u,Or)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const o=new zf(r);return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return c=yield Rd(u),h=o,at(c).Zr.add(h),void h.next();var c,h})),()=>{o.Xo(),u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return c=yield Rd(u),h=o,void at(c).Zr.delete(h);var c,h}))}}(Ci(u=Rn(u,Or)),ep(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Vd(this,O_(this._delegate,r))}catch(o){throw Qi(o,"collection()","Firestore.collection()")}}doc(r){try{return new vo(this,Pd(this._delegate,r))}catch(o){throw Qi(o,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new cs(this,function(u,r){if(u=Rn(u,Od),N_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(u,null,(o=r,new zi(Cn.emptyPath(),o)));var o}(this._delegate,r))}catch(o){throw Qi(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const o=new wr;return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const c=yield(h=u,Su(h).then(_=>_.datastore));var h;new n0(u.asyncQueue,c,r,o).run()})),o.promise}(Ci(u),o=>r(new yv(u,o)))}(this._delegate,o=>r(new Fh(this,o)))}batch(){return Ci(this._delegate),new Pr(new hv(this._delegate,r=>Cc(this._delegate,r)))}loadBundle(r){return function(u,r){const o=Ci(u=Rn(u,Or)),c=new c0;return function(u,r,o,c){const h=function(_,C){let N;return N="string"==typeof _?(new TextEncoder).encode(_):_,B=function(B,K){if(B instanceof Uint8Array)return I_(B,K);if(B instanceof ArrayBuffer)return I_(new Uint8Array(B),K);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Kg(B,C);var B}(o,pc(r));u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(u,r,o){const c=at(u);var h;(h=(0,Me.Z)(function*(_,C,N){try{const B=yield C.getMetadata();if(yield function(ke,qe){const rt=at(ke),vt=wi(qe.createTime);return rt.persistence.runTransaction("hasNewerBundle","readonly",Pt=>rt.Je.getBundleMetadata(Pt,qe.id)).then(Pt=>!!Pt&&Pt.createTime.compareTo(vt)>=0)}(_.localStore,B))return yield C.close(),void N._completeWith((ke=B,{taskState:"Success",documentsLoaded:ke.totalDocuments,bytesLoaded:ke.totalBytes,totalDocuments:ke.totalDocuments,totalBytes:ke.totalBytes}));N._updateProgress(Vf(B));const K=new $E(B,_.localStore,C.N);let J=yield C.Qo();for(;J;){const ke=yield K.fo(J);ke&&N._updateProgress(ke),J=yield C.Qo()}const le=yield K.complete();yield Wa(_,le.Tn,void 0),yield function(ke,qe){const rt=at(ke);return rt.persistence.runTransaction("Save bundle","readwrite",vt=>rt.Je.saveBundleMetadata(vt,qe))}(_.localStore,B),N._completeWith(le.progress)}catch(B){zl("SyncEngine",`Loading bundle failed with ${B}`),N._failWith(B)}var ke}),function(_,C,N){return h.apply(this,arguments)})(c,r,o).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield xd(u),h,c)}))}(o,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,Me.Z)(function*(){return function(o,c){const h=at(o);return h.persistence.runTransaction("Get named query","readonly",_=>h.Je.getNamedQuery(_,c))}(yield em(u),r)}))}(Ci(u=Rn(u,Or)),r).then(o=>o?new Yi(u,null,o.query):null)}(this._delegate,r).then(o=>o?new cs(this,o):null)}}class dp extends pm{constructor(r){super(),this.firestore=r}convertBytes(r){return new St(new za(r))}convertReference(r){const o=this.convertDocumentKey(r,this.firestore._databaseId);return vo.forKey(o,this.firestore,null)}}class Fh{constructor(r,o){this._firestore=r,this._delegate=o,this._userDataWriter=new dp(r)}get(r){const o=Ea(r);return this._delegate.get(o).then(c=>new Fd(this._firestore,new _o(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,o.converter)))}set(r,o,c){const h=Ea(r);return c?(cp("Transaction.set",c),this._delegate.set(h,o,c)):this._delegate.set(h,o),this}update(r,o,c,...h){const _=Ea(r);return 2===arguments.length?this._delegate.update(_,o):this._delegate.update(_,o,c,...h),this}delete(r){const o=Ea(r);return this._delegate.delete(o),this}}class Pr{constructor(r){this._delegate=r}set(r,o,c){const h=Ea(r);return c?(cp("WriteBatch.set",c),this._delegate.set(h,o,c)):this._delegate.set(h,o),this}update(r,o,c,...h){const _=Ea(r);return 2===arguments.length?this._delegate.update(_,o):this._delegate.update(_,o,c,...h),this}delete(r){const o=Ea(r);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class kd{constructor(r,o,c){this._firestore=r,this._userDataWriter=o,this._delegate=c}fromFirestore(r,o){const c=new Oh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Ld(this._firestore,c),null!=o?o:{})}toFirestore(r,o){return o?this._delegate.toFirestore(r,o):this._delegate.toFirestore(r)}static getInstance(r,o){const c=kd.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let _=h.get(o);return _||(_=new kd(r,new dp(r),o),h.set(o,_)),_}}kd.INSTANCES=new WeakMap;class vo{constructor(r,o){this.firestore=r,this._delegate=o,this._userDataWriter=new dp(r)}static forPath(r,o,c){if(r.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new vo(o,new Ir(o._delegate,c,new _t(r)))}static forKey(r,o,c){return new vo(o,new Ir(o._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new Vd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Vd(this.firestore,O_(this._delegate,r))}catch(o){throw Qi(o,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Rt.m9)(r))instanceof Ir&&im(this._delegate,r)}set(r,o){o=cp("DocumentReference.set",o);try{return o?fv(this._delegate,r,o):fv(this._delegate,r)}catch(c){throw Qi(c,"setDoc()","DocumentReference.set()")}}update(r,o,...c){try{return 1===arguments.length?gm(this._delegate,r):gm(this._delegate,r,o,...c)}catch(h){throw Qi(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Cc(Rn(u.firestore,Or),[new od(u._key,Dr.none())])}(this._delegate)}onSnapshot(...r){const o=Ev(r),c=wm(r,h=>new Fd(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return mm(this._delegate,o,c)}get(r){let o;return o="cache"===(null==r?void 0:r.source)?function(u){u=Rn(u,Ir);const r=Rn(u.firestore,Or),o=Ci(r),c=new wc(r);return function(u,r){const o=new wr;return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(c=(0,Me.Z)(function*(h,_,C){try{const N=yield function(B,K){const J=at(B);return J.persistence.runTransaction("read document","readonly",le=>J.Qn.An(le,K))}(h,_);N.isFoundDocument()?C.resolve(N):N.isNoDocument()?C.resolve(null):C.reject(new et(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const B=fl(N,`Failed to get document '${_} from cache`);C.reject(B)}}),function(h,_,C){return c.apply(this,arguments)})(yield em(u),r,o);var c})),o.promise}(o,u._key).then(h=>new _o(r,c,u._key,h,new xu(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Rn(u,Ir);const r=Rn(u.firestore,Or);return A_(Ci(r),u._key,{source:"server"}).then(o=>lp(r,u,o))}(this._delegate):function(u){u=Rn(u,Ir);const r=Rn(u.firestore,Or);return A_(Ci(r),u._key).then(o=>lp(r,u,o))}(this._delegate),o.then(c=>new Fd(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new vo(this.firestore,this._delegate.withConverter(r?kd.getInstance(this.firestore,r):null))}}function Qi(u,r,o){return u.message=u.message.replace(r,o),u}function Ev(u){for(const r of u)if("object"==typeof r&&!Em(r))return r;return{}}function wm(u,r){var o,c;let h;return h=Em(u[0])?u[0]:Em(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:_=>{h.next&&h.next(r(_))},error:null===(o=h.error)||void 0===o?void 0:o.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class Fd{constructor(r,o){this._firestore=r,this._delegate=o}get ref(){return new vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,o){return this._delegate.get(r,o)}isEqual(r){return um(this._delegate,r._delegate)}}class Ld extends Fd{data(r){const o=this._delegate.data(r);return function(u,r){u||Et()}(void 0!==o),o}}class cs{constructor(r,o){this.firestore=r,this._delegate=o,this._userDataWriter=new dp(r)}where(r,o,c){try{return new cs(this.firestore,Dl(this._delegate,function(u,r,o){const c=r,h=op("where",u);return new tv(h,c,o)}(r,o,c)))}catch(h){throw Qi(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,o){try{return new cs(this.firestore,Dl(this._delegate,function(u,r="asc"){const o=r,c=op("orderBy",u);return new cm(c,o)}(r,o)))}catch(c){throw Qi(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new cs(this.firestore,Dl(this._delegate,function(u){return Qf("limit",u),new dm("limit",u,"F")}(r)))}catch(o){throw Qi(o,"limit()","Query.limit()")}}limitToLast(r){try{return new cs(this.firestore,Dl(this._delegate,function(u){return Qf("limitToLast",u),new dm("limitToLast",u,"L")}(r)))}catch(o){throw Qi(o,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new cs(this.firestore,Dl(this._delegate,function(...u){return new hm("startAt",u,!0)}(...r)))}catch(o){throw Qi(o,"startAt()","Query.startAt()")}}startAfter(...r){try{return new cs(this.firestore,Dl(this._delegate,function(...u){return new hm("startAfter",u,!1)}(...r)))}catch(o){throw Qi(o,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new cs(this.firestore,Dl(this._delegate,function(...u){return new fm("endBefore",u,!0)}(...r)))}catch(o){throw Qi(o,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new cs(this.firestore,Dl(this._delegate,function(...u){return new fm("endAt",u,!1)}(...r)))}catch(o){throw Qi(o,"endAt()","Query.endAt()")}}isEqual(r){return Xf(this._delegate,r._delegate)}get(r){let o;return o="cache"===(null==r?void 0:r.source)?function(u){u=Rn(u,Yi);const r=Rn(u.firestore,Or),o=Ci(r),c=new wc(r);return function(u,r){const o=new wr;return u.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(c=(0,Me.Z)(function*(h,_,C){try{const N=yield Cf(h,_,!0),B=new p_(_,N.Gn),K=B.Io(N.documents),J=B.applyChanges(K,!1);C.resolve(J.snapshot)}catch(N){const B=fl(N,`Failed to execute query '${_} against cache`);C.reject(B)}}),function(h,_,C){return c.apply(this,arguments)})(yield em(u),r,o);var c})),o.promise}(o,u._query).then(h=>new Ru(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Rn(u,Yi);const r=Rn(u.firestore,Or),o=Ci(r),c=new wc(r);return nm(o,u._query,{source:"server"}).then(h=>new Ru(r,c,u,h))}(this._delegate):function(u){u=Rn(u,Yi);const r=Rn(u.firestore,Or),o=Ci(r),c=new wc(r);return lm(u._query),nm(o,u._query).then(h=>new Ru(r,c,u,h))}(this._delegate),o.then(c=>new Cm(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const o=Ev(r),c=wm(r,h=>new Cm(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return mm(this._delegate,o,c)}withConverter(r){return new cs(this.firestore,this._delegate.withConverter(r?kd.getInstance(this.firestore,r):null))}}class N0{constructor(r,o){this._firestore=r,this._delegate=o}get type(){return this._delegate.type}get doc(){return new Ld(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Cm{constructor(r,o){this._firestore=r,this._delegate=o}get query(){return new cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Ld(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(o=>new N0(this._firestore,o))}forEach(r,o){this._delegate.forEach(c=>{r.call(o,new Ld(this._firestore,c))})}isEqual(r){return um(this._delegate,r._delegate)}}class Vd extends cs{constructor(r,o){super(r,o),this.firestore=r,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new vo(this.firestore,r):null}doc(r){try{return new vo(this.firestore,void 0===r?Pd(this._delegate):Pd(this._delegate,r))}catch(o){throw Qi(o,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const o=Rn(u.firestore,Or),c=Pd(u),h=up(u.converter,r);return Cc(o,[Rh(Il(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,Dr.exists(!1))]).then(()=>c)}(this._delegate,r).then(o=>new vo(this.firestore,o))}isEqual(r){return im(this._delegate,r._delegate)}withConverter(r){return new Vd(this.firestore,this._delegate.withConverter(r?kd.getInstance(this.firestore,r):null))}}function Ea(u){return Rn(u,Ir)}class Im{constructor(...r){this._delegate=new wl(...r)}static documentId(){return new Im(vi.keyField().canonicalString())}isEqual(r){return(r=(0,Rt.m9)(r))instanceof wl&&this._delegate._internalPath.isEqual(r._internalPath)}}class bc{constructor(r){this._delegate=r}static serverTimestamp(){const r=new am("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new bc(r)}static delete(){const r=new Za("deleteField");return r._methodName="FieldValue.delete",new bc(r)}static arrayUnion(...r){const o=function(...u){return new K_("arrayUnion",u)}(...r);return o._methodName="FieldValue.arrayUnion",new bc(o)}static arrayRemove(...r){const o=function(...u){return new g0("arrayRemove",u)}(...r);return o._methodName="FieldValue.arrayRemove",new bc(o)}static increment(r){const o=function(u){return new Y_("increment",u)}(r);return o._methodName="FieldValue.increment",new bc(o)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const M0={Firestore:kh,GeoPoint:np,Timestamp:ii,Blob:St,Transaction:Fh,WriteBatch:Pr,DocumentReference:vo,DocumentSnapshot:Fd,Query:cs,QueryDocumentSnapshot:Ld,QuerySnapshot:Cm,CollectionReference:Vd,FieldPath:Im,FieldValue:bc,setLogLevel:function(u){!function(u){lo.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new jr.wA("firestore-compat",o=>((r,o)=>new kh(r,o,new R0))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},M0)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.1")}(Ri.Z);var bm=G(9765),Cv=G(6682),Al=G(3190),Lh=G(7771),Vh=G(5319),O0=G(7971),P0=G(8858);class k0 extends bm.xQ{constructor(r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,c){super(),this.scheduler=c,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const o=this._events;o.push(r),o.length>this._bufferSize&&o.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new Iv(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const o=this._infiniteTimeWindow,c=o?this._events:this._trimBufferThenGetEvents(),h=this.scheduler,_=c.length;let C;if(this.closed)throw new O0.N;if(this.isStopped||this.hasError?C=Vh.w.EMPTY:(this.observers.push(r),C=new P0.W(this,r)),h&&r.add(r=new vr.ht(r,h)),o)for(let N=0;N<_&&!r.closed;N++)r.next(c[N]);else for(let N=0;N<_&&!r.closed;N++)r.next(c[N].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),C}_getNow(){return(this.scheduler||Lh.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),o=this._bufferSize,c=this._windowTime,h=this._events,_=h.length;let C=0;for(;C<_&&!(r-h[C].time<c);)C++;return _>o&&(C=Math.max(C,_-o)),C>0&&h.splice(0,C),h}}class Iv{constructor(r,o){this.time=r,this.value=o}}function Dm(u,r,o){let c;return c=u&&"object"==typeof u?u:{bufferSize:u,windowTime:r,refCount:!1,scheduler:o},h=>h.lift(function({bufferSize:u=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:o,scheduler:c}){let h,C,_=0,N=!1,B=!1;return function(J){let le;_++,!h||N?(N=!1,h=new k0(u,r,c),le=h.subscribe(this),C=J.subscribe({next(ke){h.next(ke)},error(ke){N=!0,h.error(ke)},complete(){B=!0,C=void 0,h.complete()}}),B&&(C=void 0)):le=h.subscribe(this),this.add(()=>{_--,le.unsubscribe(),le=void 0,C&&!B&&o&&0===_&&(C.unsubscribe(),C=void 0,h=void 0)})}}(c))}var F0=G(8049);function Tm(u,r){return r?(0,Al.w)(()=>u,r):(0,Al.w)(()=>u)}var Am=G(3101),L0=G(7841);const V0=new A.OlP("angularfire2.auth.use-emulator"),U0=new A.OlP("angularfire2.auth.settings"),B0=new A.OlP("angularfire2.auth.tenant-id"),Sm=new A.OlP("angularfire2.auth.langugage-code"),Uh=new A.OlP("angularfire2.auth.use-device-language"),Dv=new A.OlP("angularfire.auth.persistence"),Tv=(u,r,o,c,h,_,C,N)=>(0,Jn.cc)(`${u.name}.auth`,"AngularFireAuth",u.name,()=>{const B=r.runOutsideAngular(()=>u.auth());if(o&&B.useEmulator(...o),c&&(B.tenantId=c),B.languageCode=h,_&&B.useDeviceLanguage(),C)for(const[K,J]of Object.entries(C))B.settings[K]=J;return N&&B.setPersistence(N),B},[o,c,h,_,C,N]);let xm=(()=>{class u{constructor(o,c,h,_,C,N,B,K,J,le,ke){const qe=new bm.xQ,rt=(0,It.of)(void 0).pipe((0,vr.QV)(C.outsideAngular),(0,Al.w)(()=>_.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9083)))),(0,Xn.U)(()=>(0,lr.on)(o,_,c)),(0,Xn.U)(vt=>Tv(vt,_,N,K,J,le,B,ke)),Dm({bufferSize:1,refCount:!1}));if((0,b.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{rt.pipe((0,F0.P)()).subscribe();const Pt=rt.pipe((0,Al.w)(or=>or.getRedirectResult().then(Yr=>Yr,()=>null)),Jn.iC,Dm({bufferSize:1,refCount:!1})),sr=rt.pipe((0,Al.w)(or=>new Xr.y(Yr=>({unsubscribe:_.runOutsideAngular(()=>or.onAuthStateChanged(bi=>Yr.next(bi),bi=>Yr.error(bi),()=>Yr.complete()))})))),ai=rt.pipe((0,Al.w)(or=>new Xr.y(Yr=>({unsubscribe:_.runOutsideAngular(()=>or.onIdTokenChanged(bi=>Yr.next(bi),bi=>Yr.error(bi),()=>Yr.complete()))}))));this.authState=Pt.pipe(Tm(sr),(0,Am.R)(C.outsideAngular),(0,vr.QV)(C.insideAngular)),this.user=Pt.pipe(Tm(ai),(0,Am.R)(C.outsideAngular),(0,vr.QV)(C.insideAngular)),this.idToken=this.user.pipe((0,Al.w)(or=>or?(0,ei.D)(or.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe((0,Al.w)(or=>or?(0,ei.D)(or.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,Cv.T)(Pt,qe,this.authState.pipe((0,xi.h)(or=>!or))).pipe((0,Xn.U)(or=>(null==or?void 0:or.user)?or:null),(0,Am.R)(C.outsideAngular),(0,vr.QV)(C.insideAngular))}return(0,lr.pX)(this,rt,_,{spy:{apply:(vt,Pt,sr)=>{(vt.startsWith("signIn")||vt.startsWith("createUser"))&&sr.then(ai=>qe.next(ai))}}})}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(lr.Dh),A.LFG(lr.xv,8),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(Jn.HU),A.LFG(V0,8),A.LFG(U0,8),A.LFG(B0,8),A.LFG(Sm,8),A.LFG(Uh,8),A.LFG(Dv,8))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})();function Av(u,r){return function(u,r=bn.z){return new Xr.y(o=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},o)}):c=u.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=c&&c()}})}(u,r)}function Rm(u,r){return Av(u,r).pipe((0,Xn.U)(o=>({payload:o,type:"query"})))}function gp(u,r){return Rm(u,r).pipe((0,ci.O)(void 0),yr(),(0,Xn.U)(([o,c])=>{const h=c.payload.docChanges(),_=h.map(C=>({type:C.type,payload:C}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((C,N)=>{const B=h.find(J=>J.doc.ref.isEqual(C.ref)),K=null==o?void 0:o.payload.docs.find(J=>J.ref.isEqual(C.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(C.metadata)||!B&&K&&JSON.stringify(K.metadata)===JSON.stringify(C.metadata)||_.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:C}})}),_}))}function Nm(u,r,o){return gp(u,o).pipe((0,_r.R)((c,h)=>function(u,r,o){return r.forEach(c=>{o.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return Mm(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const o=u.slice();return o.splice(r.oldIndex,1),o.splice(r.newIndex,0,r),o}return Mm(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return Mm(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(_=>_.payload),r),[]),o=>o.lift(new ks(void 0,void 0)),(0,Xn.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function Mm(u,r,o,...c){const h=u.slice();return h.splice(r,o,...c),h}function Sv(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class Om{constructor(r,o,c){this.ref=r,this.query=o,this.afs=c}stateChanges(r){let o=gp(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(o=o.pipe((0,Xn.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),o.pipe((0,ci.O)(void 0),yr(),(0,xi.h)(([c,h])=>h.length>0||!c),(0,Xn.U)(([c,h])=>h),Jn.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,_r.R)((o,c)=>[...o,...c],[]))}snapshotChanges(r){const o=Sv(r);return Nm(this.query,o,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(r={}){return Rm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xn.U)(o=>o.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),Jn.iC)}get(r){return(0,ei.D)(this.query.get(r)).pipe(Jn.f6)}add(r){return this.ref.add(r)}doc(r){return new xv(this.ref.doc(r),this.afs)}}class xv{constructor(r,o){this.ref=r,this.afs=o}set(r,o){return this.ref.set(r,o)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,o){const c=this.ref.collection(r),{ref:h,query:_}=Mv(c,o);return new Om(h,_,this.afs)}snapshotChanges(){return function(u,r){return Av(u,r).pipe((0,ci.O)(void 0),yr(),(0,Xn.U)(([o,c])=>c.exists?(null==o?void 0:o.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,Xn.U)(({payload:o})=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data()))}get(r){return(0,ei.D)(this.ref.get(r)).pipe((0,vr.QV)(this.afs.schedulers.insideAngular))}}class Rv{constructor(r,o){this.query=r,this.afs=o}stateChanges(r){return r&&0!==r.length?gp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xn.U)(o=>o.filter(c=>r.indexOf(c.type)>-1)),(0,xi.h)(o=>o.length>0),Jn.iC):gp(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,_r.R)((o,c)=>[...o,...c],[]))}snapshotChanges(r){const o=Sv(r);return Nm(this.query,o,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(r={}){return Rm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xn.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),Jn.iC)}get(r){return(0,ei.D)(this.query.get(r)).pipe(Jn.f6)}}const Nv=new A.OlP("angularfire2.enableFirestorePersistence"),Pm=new A.OlP("angularfire2.firestore.persistenceSettings"),G0=new A.OlP("angularfire2.firestore.settings"),km=new A.OlP("angularfire2.firestore.use-emulator");function Mv(u,r=(o=>o)){return{query:r(u),ref:u}}let Fm=(()=>{class u{constructor(o,c,h,_,C,N,B,K,J,le,ke,qe,rt,vt,Pt,sr){this.schedulers=B;const ai=(0,lr.on)(o,N,c),or=J;le&&Tv(ai,N,ke,rt,vt,Pt,qe,sr),[this.firestore,this.persistenceEnabled$]=(0,Jn.cc)(`${ai.name}.firestore`,"AngularFirestore",ai.name,()=>{const Yr=N.runOutsideAngular(()=>ai.firestore());if(_&&Yr.settings(_),or&&Yr.useEmulator(...or),h&&!(0,b.PM)(C)){const bi=()=>{try{return(0,ei.D)(Yr.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(Vm){return"undefined"!=typeof console&&console.warn(Vm),(0,It.of)(!1)}};return[Yr,N.runOutsideAngular(bi)]}return[Yr,(0,It.of)(!1)]},[_,or,h])}collection(o,c){let h;h="string"==typeof o?this.firestore.collection(o):o;const{ref:_,query:C}=Mv(h,c),N=this.schedulers.ngZone.run(()=>_);return new Om(N,C,this)}collectionGroup(o,c){const h=c||(C=>C),_=this.firestore.collectionGroup(o);return new Rv(h(_),this)}doc(o){let c;c="string"==typeof o?this.firestore.doc(o):o;const h=this.schedulers.ngZone.run(()=>c);return new xv(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(lr.Dh),A.LFG(lr.xv,8),A.LFG(Nv,8),A.LFG(G0,8),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(Jn.HU),A.LFG(Pm,8),A.LFG(km,8),A.LFG(xm,8),A.LFG(V0,8),A.LFG(U0,8),A.LFG(B0,8),A.LFG(Sm,8),A.LFG(Uh,8),A.LFG(Dv,8))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Ov=(()=>{class u{constructor(){L0.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:u,providers:[{provide:Nv,useValue:!0},{provide:Pm,useValue:o}]}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=A.oAB({type:u}),u.\u0275inj=A.cJS({providers:[Fm]}),u})(),Pv=(()=>{class u{constructor(o){this.firestore=o}agregarEmpleado(o){return this.firestore.collection("empleados").add(o)}getEmpleado(){return this.firestore.collection("empleados",o=>o.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(o){return this.firestore.collection("empleados").doc(o).delete()}editarEmpleado(o){return this.firestore.collection("empleados").doc(o).snapshotChanges()}actualizarEmpleado(o,c){return this.firestore.collection("empleados").doc(o).update(c)}}return u.\u0275fac=function(o){return new(o||u)(A.LFG(Fm))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function q0(u,r){1&u&&(A.TgZ(0,"span",7),A.TgZ(1,"b",8),A._uU(2,"No hay datos para mostrar"),A.qZA(),A.qZA())}const W0=function(u){return["/editEmpleado/",u]};function Lm(u,r){if(1&u){const o=A.EpF();A.TgZ(0,"tr"),A.TgZ(1,"th"),A._uU(2),A.qZA(),A.TgZ(3,"td"),A._uU(4),A.qZA(),A.TgZ(5,"td"),A._uU(6),A.qZA(),A.TgZ(7,"td"),A._uU(8),A.ALo(9,"currency"),A.qZA(),A.TgZ(10,"td"),A.TgZ(11,"span",11),A._UZ(12,"i",12),A.TgZ(13,"i",13),A._uU(14," Editar "),A.qZA(),A.qZA(),A._uU(15,", "),A.TgZ(16,"span",14),A.NdJ("click",function(){const _=A.CHM(o).$implicit;return A.oxw(2).eliminarEmpleado(_.id)}),A._UZ(17,"i",15),A.TgZ(18,"i"),A._uU(19," Eliminar "),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&u){const o=r.$implicit;A.xp6(2),A.Oqu(o.nombre),A.xp6(2),A.Oqu(o.apellido),A.xp6(2),A.Oqu(o.documento),A.xp6(2),A.Oqu(A.lcZ(9,5,o.salario)),A.xp6(3),A.Q6J("routerLink",A.VKq(7,W0,o.id))}}function z0(u,r){if(1&u&&(A.TgZ(0,"table",9),A.TgZ(1,"thead"),A.TgZ(2,"tr"),A.TgZ(3,"th"),A._uU(4,"Nombre"),A.qZA(),A.TgZ(5,"th"),A._uU(6,"Apellido"),A.qZA(),A.TgZ(7,"th"),A._uU(8,"Documento"),A.qZA(),A.TgZ(9,"th"),A._uU(10,"Salario"),A.qZA(),A.TgZ(11,"th"),A._uU(12,"Acciones"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(13,"tbody"),A.YNc(14,Lm,20,9,"tr",10),A.qZA(),A.qZA()),2&u){const o=A.oxw();A.xp6(14),A.Q6J("ngForOf",o.empleados)}}let kv=(()=>{class u{constructor(o){this._empleadoService=o,this.empleados=[]}ngOnInit(){this.getEmpleado()}getEmpleado(){this._empleadoService.getEmpleado().subscribe(o=>{this.empleados=[],o.forEach(c=>{this.empleados.push(Object.assign({id:c.payload.doc.id},c.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(o){this._empleadoService.eliminarEmpleado(o).then(()=>{console.log("empleado eliminado con exito")}).catch(c=>{console.log(c)})}}return u.\u0275fac=function(o){return new(o||u)(A.Y36(Pv))},u.\u0275cmp=A.Xpm({type:u,selectors:[["app-list-empleado"]],decls:9,vars:2,consts:[[1,"container"],[1,"card"],[1,"card-header","mt-2","h3"],["type","button","routerLink","/create-empleado",1,"btn","btn-success",2,"float","right"],[1,"card-body"],["class","card-header mt-2 h5",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"card-header","mt-2","h5"],[2,"color","red"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"fas","fa-lg","text-info","fa-edit","mr-2"],[1,"mr-4"],[3,"click"],[1,"fas","fa-lg","text-danger","fa-trash-alt","mr-2"]],template:function(o,c){1&o&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.TgZ(2,"span",2),A._uU(3," Lista de empleados "),A.TgZ(4,"button",3),A._uU(5," Agregar "),A.qZA(),A.qZA(),A.TgZ(6,"div",4),A.YNc(7,q0,3,0,"span",5),A.YNc(8,z0,15,1,"table",6),A.qZA(),A.qZA(),A.qZA()),2&o&&(A.xp6(7),A.Q6J("ngIf",0==c.empleados.length),A.xp6(1),A.Q6J("ngIf",c.empleados.length>0))},directives:[Qn.rH,b.O5,b.sg],pipes:[b.H9],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),u})();var Ms=G(665);function Z0(u,r){1&u&&(A.TgZ(0,"small",18),A._uU(1,"Todos los campos son obligatorios"),A.qZA())}function K0(u,r){1&u&&(A.TgZ(0,"div",19),A.TgZ(1,"span",20),A._uU(2,"Loading..."),A.qZA(),A.qZA())}let Fv=(()=>{class u{constructor(o,c,h,_){this.fb=o,this._empleadoService=c,this.router=h,this.aRouter=_,this.submitted=!1,this.Loading=!1,this.tituloEncabezado="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",Ms.kI.required],apellido:["",Ms.kI.required],documento:["",Ms.kI.required],salario:["",Ms.kI.required]}),this.id=this.aRouter.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.editarEmpleado()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null===this.id||this.actualizarEmpleado(this.id))}agregarEmpleado(){this.tituloEncabezado="Agregar Empleado";const o={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.Loading=!0,this._empleadoService.agregarEmpleado(o).then(()=>{this.Loading=!1,this.router.navigate(["/list-empleado"])}).catch(c=>{console.log(c),this.Loading=!1})}editarEmpleado(){null!==this.id&&this._empleadoService.editarEmpleado(this.id).subscribe(o=>{this.tituloEncabezado="Editar datos del empleado",console.log("Editando datos"),this.createEmpleado.setValue({nombre:o.payload.data().nombre,apellido:o.payload.data().apellido,documento:o.payload.data().documento,salario:o.payload.data().salario})})}actualizarEmpleado(o){const c={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this._empleadoService.actualizarEmpleado(o,c).then(()=>{this.Loading=!1,this.router.navigate(["/list-empleado"])}).catch(h=>{console.log(h),this.Loading=!1})}}return u.\u0275fac=function(o){return new(o||u)(A.Y36(Ms.qu),A.Y36(Pv),A.Y36(Qn.F0),A.Y36(Qn.gz))},u.\u0275cmp=A.Xpm({type:u,selectors:[["app-create-empleado"]],decls:25,vars:4,consts:[[1,"container"],[1,"card","text-center"],[1,"card-header","text-center","h3"],[1,"h3"],["type","submit","routerLink","/list-empleado",1,"btn","btn-primary","mr-3","ml-2","lg",2,"float","right"],["style","color: red; font-size: 15px;",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row","g-3"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre","aria-label","Nombre",1,"form-control"],["type","text","formControlName","apellido","placeholder","Apellido","aria-label","Apellido",1,"form-control"],["class","spinner-border text-success float-right","role","status",4,"ngIf"],[1,"row","g-3","mt-3"],["type","text","formControlName","documento","placeholder","Documento","aria-label","Documento",1,"form-control"],["type","number","formControlName","salario","placeholder","Salario","aria-label","Salario",1,"form-control"],[1,"card-footer","text-muted","mt-3"],["type","text",1,"btn","btn-success","mr-3","ml-2","lg"],[2,"color","red","font-size","15px"],["role","status",1,"spinner-border","text-success","float-right"],[1,"visually-hidden"]],template:function(o,c){1&o&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.TgZ(2,"div",2),A.TgZ(3,"span",3),A._uU(4),A.qZA(),A.TgZ(5,"button",4),A._uU(6,"Volver"),A.qZA(),A._UZ(7,"br"),A.YNc(8,Z0,2,0,"small",5),A.qZA(),A.TgZ(9,"form",6),A.NdJ("ngSubmit",function(){return c.agregarEditarEmpleado()}),A.TgZ(10,"div",7),A.TgZ(11,"div",8),A.TgZ(12,"div",9),A._UZ(13,"input",10),A.qZA(),A.TgZ(14,"div",9),A._UZ(15,"input",11),A.qZA(),A.qZA(),A.YNc(16,K0,3,0,"div",12),A.TgZ(17,"div",13),A.TgZ(18,"div",9),A._UZ(19,"input",14),A.qZA(),A.TgZ(20,"div",9),A._UZ(21,"input",15),A.qZA(),A.qZA(),A.qZA(),A.TgZ(22,"div",16),A.TgZ(23,"button",17),A._uU(24,"Agregar"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&o&&(A.xp6(4),A.hij(" ",c.tituloEncabezado," "),A.xp6(4),A.Q6J("ngIf",c.submitted&&c.createEmpleado.invalid),A.xp6(1),A.Q6J("formGroup",c.createEmpleado),A.xp6(7),A.Q6J("ngIf",c.Loading))},directives:[Qn.rH,b.O5,Ms._Y,Ms.JL,Ms.sg,Ms.Fj,Ms.JJ,Ms.u,Ms.wV],styles:[""]}),u})();const Y0=[{path:"list-empleado",component:kv},{path:"create-empleado",component:Fv},{path:"editEmpleado/:id",component:Fv},{path:"menu",loadChildren:()=>G.e(89).then(G.bind(G,3089)).then(u=>u.MenuModule)},{path:"",redirectTo:"/list-empleado",pathMatch:"full"},{path:"**",redirectTo:"/list-empleado",pathMatch:"full"}];let Q0=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=A.oAB({type:u}),u.\u0275inj=A.cJS({imports:[[Qn.Bz.forRoot(Y0)],Qn.Bz]}),u})();const Lv_firebase={apiKey:"AIzaSyBghlc5MFF-2ZaeSijqw4vF8SBl5dTbj-I",authDomain:"angular-firestore-89c97.firebaseapp.com",projectId:"angular-firestore-89c97",storageBucket:"angular-firestore-89c97.appspot.com",messagingSenderId:"313041395452",appId:"1:313041395452:web:20ef80fa5e479229e28179",measurementId:"G-3WJVGF8YN9"};let J0=(()=>{class u{constructor(){this.title="U3-Tarea2, Autor: ",this.name=" Milton Antonio Rodriguez Lopez"}ngOnInit(){}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=A.Xpm({type:u,selectors:[["app-navbar"]],decls:81,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/list-empleado",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/list-empleado",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/create-empleado",1,"dropdown-item"],["routerLink","/editEmpleado",1,"dropdown-item"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/menu/Inicio.html","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/menu/Inicio.html",1,"dropdown-item"],["routerLink","/menu/divisas",1,"dropdown-item"],["routerLink","/menu/mayusculas",1,"dropdown-item"],["routerLink","/menu/numeros",1,"dropdown-item"],["routerLink","/menu/fecha",1,"dropdown-item"],["routerLink","/menu/ordenar",1,"dropdown-item"],["routerLink","/menu/personalizado",1,"dropdown-item"],["href","https://console.firebase.google.com/",1,"nav-link"],["aria-current","page","href","https://angular.io/",1,"nav-link","active"],[1,"d-flex"],["type","search","placeholder","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"container","mt-2"],[1,"p-3","mb-1","bg-light","text-dark"],[1,"bg-light"],[2,"color","navy"]],template:function(o,c){1&o&&(A.TgZ(0,"nav",0),A.TgZ(1,"div",1),A.TgZ(2,"a",2),A._uU(3,"Proyecto Final"),A.qZA(),A.TgZ(4,"button",3),A._UZ(5,"span",4),A.qZA(),A.TgZ(6,"div",5),A.TgZ(7,"ul",6),A.TgZ(8,"li",7),A.TgZ(9,"a",8),A._uU(10,"Trabajadores"),A.qZA(),A.qZA(),A.TgZ(11,"li",9),A.TgZ(12,"a",10),A._uU(13," Formularios "),A.qZA(),A.TgZ(14,"ul",11),A.TgZ(15,"li"),A.TgZ(16,"a",12),A._uU(17,"Agregar Empleado"),A.qZA(),A.qZA(),A.TgZ(18,"li"),A.TgZ(19,"a",13),A._uU(20,"Editar Empleado "),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(21,"li",9),A.TgZ(22,"a",10),A._uU(23," Rutas y Directivas "),A.qZA(),A.TgZ(24,"ul",11),A.TgZ(25,"li"),A.TgZ(26,"a",14),A._uU(27,"ngIF"),A.qZA(),A.qZA(),A.TgZ(28,"li"),A.TgZ(29,"a",14),A._uU(30,"ngFor"),A.qZA(),A.qZA(),A.TgZ(31,"li"),A._UZ(32,"hr",15),A.qZA(),A.TgZ(33,"li"),A.TgZ(34,"a",14),A._uU(35,"routerLink"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(36,"li",9),A.TgZ(37,"a",16),A._uU(38," Filtros "),A.qZA(),A.TgZ(39,"ul",11),A.TgZ(40,"li"),A.TgZ(41,"a",17),A._uU(42,"Inicio"),A.qZA(),A.qZA(),A.TgZ(43,"li"),A.TgZ(44,"a",18),A._uU(45," Representando divisas (Currency). "),A.qZA(),A.qZA(),A.TgZ(46,"li"),A.TgZ(47,"a",19),A._uU(48," Representando Mayuscula (Uppercase y Lowercase). "),A.qZA(),A.qZA(),A.TgZ(49,"li"),A.TgZ(50,"a",20),A._uU(51," Representando n\xfameros (Number)."),A.qZA(),A.qZA(),A.TgZ(52,"li"),A.TgZ(53,"a",21),A._uU(54," Formato de fecha(Date)."),A.qZA(),A.qZA(),A.TgZ(55,"li"),A._UZ(56,"hr",15),A.qZA(),A.TgZ(57,"li"),A.TgZ(58,"a",22),A._uU(59," Ordenando Elementos."),A.qZA(),A.qZA(),A.TgZ(60,"li"),A.TgZ(61,"a",23),A._uU(62," Filtro personalizado."),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(63,"li",7),A.TgZ(64,"a",24),A._uU(65,"Firebase"),A.qZA(),A.qZA(),A.TgZ(66,"li",7),A.TgZ(67,"a",25),A._uU(68,"Angular.io"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(69,"form",26),A._UZ(70,"input",27),A.TgZ(71,"button",28),A._uU(72,"Buscar"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(73,"div",29),A.TgZ(74,"div",30),A._uU(75,"Realice un proyecto donde implemente todos los conocimientos adquiridos a lo largo del mismo. El proyecto debe contener varias p\xe1ginas web, men\xfa, formularios, hacer uso de rutas y directivas. Adem\xe1s que permita realizar las funciones b\xe1sicas en firebase(Guardar, editar, eliminar y consulta)."),A.qZA(),A.TgZ(76,"p",31),A.TgZ(77,"b"),A._uU(78),A.qZA(),A.TgZ(79,"strong",32),A._uU(80),A.qZA(),A.qZA(),A.qZA()),2&o&&(A.xp6(78),A.Oqu(c.title),A.xp6(2),A.hij(" ",c.name,""))},directives:[Qn.yS,Ms._Y,Ms.JL],styles:[""]}),u})(),Vv=(()=>{class u{constructor(){this.title="U3-Tarea2, Autor: ",this.name=" Milton Antonio Rodriguez Lopez"}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=A.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(o,c){1&o&&(A._UZ(0,"app-navbar"),A._UZ(1,"router-outlet"))},directives:[J0,Qn.lC],styles:[""]}),u})(),Uv=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=A.oAB({type:u,bootstrap:[Vv]}),u.\u0275inj=A.cJS({providers:[],imports:[[Xi,Q0,lr.hO.initializeApp(Lv_firebase),Ov,Ms.UX]]}),u})();(0,A.G48)(),gn().bootstrapModule(Uv).catch(u=>console.error(u))},4762:(dt,Le,G)=>{"use strict";G.d(Le,{ZT:()=>A,pi:()=>ee,_T:()=>ye,mG:()=>he,Jh:()=>se,XA:()=>ie,CR:()=>ne,ev:()=>be});var b=function(Se,De){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,Te){xe.__proto__=Te}||function(xe,Te){for(var Ae in Te)Object.prototype.hasOwnProperty.call(Te,Ae)&&(xe[Ae]=Te[Ae])})(Se,De)};function A(Se,De){if("function"!=typeof De&&null!==De)throw new TypeError("Class extends value "+String(De)+" is not a constructor or null");function xe(){this.constructor=Se}b(Se,De),Se.prototype=null===De?Object.create(De):(xe.prototype=De.prototype,new xe)}var ee=function(){return(ee=Object.assign||function(De){for(var xe,Te=1,Ae=arguments.length;Te<Ae;Te++)for(var me in xe=arguments[Te])Object.prototype.hasOwnProperty.call(xe,me)&&(De[me]=xe[me]);return De}).apply(this,arguments)};function ye(Se,De){var xe={};for(var Te in Se)Object.prototype.hasOwnProperty.call(Se,Te)&&De.indexOf(Te)<0&&(xe[Te]=Se[Te]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(Te=Object.getOwnPropertySymbols(Se);Ae<Te.length;Ae++)De.indexOf(Te[Ae])<0&&Object.prototype.propertyIsEnumerable.call(Se,Te[Ae])&&(xe[Te[Ae]]=Se[Te[Ae]])}return xe}function he(Se,De,xe,Te){return new(xe||(xe=Promise))(function(me,Ye){function gt(kt){try{yt(Te.next(kt))}catch(_n){Ye(_n)}}function Vt(kt){try{yt(Te.throw(kt))}catch(_n){Ye(_n)}}function yt(kt){kt.done?me(kt.value):function(me){return me instanceof xe?me:new xe(function(Ye){Ye(me)})}(kt.value).then(gt,Vt)}yt((Te=Te.apply(Se,De||[])).next())})}function se(Se,De){var Te,Ae,me,Ye,xe={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return Ye={next:gt(0),throw:gt(1),return:gt(2)},"function"==typeof Symbol&&(Ye[Symbol.iterator]=function(){return this}),Ye;function gt(yt){return function(kt){return function(yt){if(Te)throw new TypeError("Generator is already executing.");for(;xe;)try{if(Te=1,Ae&&(me=2&yt[0]?Ae.return:yt[0]?Ae.throw||((me=Ae.return)&&me.call(Ae),0):Ae.next)&&!(me=me.call(Ae,yt[1])).done)return me;switch(Ae=0,me&&(yt=[2&yt[0],me.value]),yt[0]){case 0:case 1:me=yt;break;case 4:return xe.label++,{value:yt[1],done:!1};case 5:xe.label++,Ae=yt[1],yt=[0];continue;case 7:yt=xe.ops.pop(),xe.trys.pop();continue;default:if(!(me=(me=xe.trys).length>0&&me[me.length-1])&&(6===yt[0]||2===yt[0])){xe=0;continue}if(3===yt[0]&&(!me||yt[1]>me[0]&&yt[1]<me[3])){xe.label=yt[1];break}if(6===yt[0]&&xe.label<me[1]){xe.label=me[1],me=yt;break}if(me&&xe.label<me[2]){xe.label=me[2],xe.ops.push(yt);break}me[2]&&xe.ops.pop(),xe.trys.pop();continue}yt=De.call(Se,xe)}catch(kt){yt=[6,kt],Ae=0}finally{Te=me=0}if(5&yt[0])throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}([yt,kt])}}}function ie(Se){var De="function"==typeof Symbol&&Symbol.iterator,xe=De&&Se[De],Te=0;if(xe)return xe.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Te>=Se.length&&(Se=void 0),{value:Se&&Se[Te++],done:!Se}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(Se,De){var xe="function"==typeof Symbol&&Se[Symbol.iterator];if(!xe)return Se;var Ae,Ye,Te=xe.call(Se),me=[];try{for(;(void 0===De||De-- >0)&&!(Ae=Te.next()).done;)me.push(Ae.value)}catch(gt){Ye={error:gt}}finally{try{Ae&&!Ae.done&&(xe=Te.return)&&xe.call(Te)}finally{if(Ye)throw Ye.error}}return me}function be(Se,De,xe){if(xe||2===arguments.length)for(var me,Te=0,Ae=De.length;Te<Ae;Te++)(me||!(Te in De))&&(me||(me=Array.prototype.slice.call(De,0,Te)),me[Te]=De[Te]);return Se.concat(me||Array.prototype.slice.call(De))}},8239:(dt,Le,G)=>{"use strict";function b(ee,ye,ve,de,Ce,he,se){try{var Y=ee[he](se),te=Y.value}catch(ie){return void ve(ie)}Y.done?ye(te):Promise.resolve(te).then(de,Ce)}function A(ee){return function(){var ye=this,ve=arguments;return new Promise(function(de,Ce){var he=ee.apply(ye,ve);function se(te){b(he,de,Ce,se,Y,"next",te)}function Y(te){b(he,de,Ce,se,Y,"throw",te)}se(void 0)})}}G.d(Le,{Z:()=>A})}},dt=>{dt(dt.s=4570)}]);